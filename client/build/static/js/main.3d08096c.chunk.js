(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{414:function(e,t){},452:function(e,t,a){},716:function(e,t){},717:function(e,t){},719:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(18),c=a.n(i),s=(a(452),a(14)),l=a(36),o=a(17),d=a.n(o),j=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},u=a(10),b=a(7),m=a(754),p=a(779),O=a(773),x=a(392),h=a(278),g=a(3),f=Object(n.createContext)(),y=a(751),v=a(752),S=a(750),C=a(0),P=Object(h.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},flexDirection:"row",justifyContent:"center"}}})),w=function(){var e=P();return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(S.a,{color:"secondary"})})},N=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),k=function(){var e=N(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=t.loading;return Object(n.useEffect)((function(){r()}),[]),Object(C.jsx)(C.Fragment,{children:null===a||i?Object(C.jsx)(w,{}):Object(C.jsx)(y.a,{className:e.root,children:Object(C.jsx)(v.a,{title:a[0].statsActive,subheader:"Active Users"})})})},A=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),D=function(){var e=A(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=t.loading;return Object(n.useEffect)((function(){r()}),[]),console.log(a),Object(C.jsx)(C.Fragment,{children:null===a||i?Object(C.jsx)(w,{}):Object(C.jsx)(y.a,{className:e.root,children:Object(C.jsx)(v.a,{title:a[9].statsActiveTaxSigned,subheader:"Active &\nApproved Users"})})})},E=a(210),F=a(425),U=a(353),T=a(424),I=a.n(T),_=a(423),R=a.n(_),B=a(58),z=[{id:1,icon:Object(C.jsx)(s.b,{to:"/payments",children:Object(C.jsx)(R.a,{})}),name:Object(C.jsx)(s.b,{to:"/payments",children:"View"})}],q=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Boolean(a),c=function(){r(null)};return Object(C.jsxs)("div",{children:[Object(C.jsx)(E.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},children:Object(C.jsx)(I.a,{})}),Object(C.jsx)(F.a,{id:"long-menu",anchorEl:a,keepMounted:!0,open:i,onClose:c,children:Object(C.jsx)(m.a,{container:!0,spacing:1,direction:"column",justify:"flex-start",alignItems:"center",children:z.map((function(e){return Object(C.jsxs)(U.a,{onClick:c,children:[Object(C.jsx)(m.a,{item:!0,children:e.icon}),Object(C.jsx)(m.a,{item:!0,children:Object(C.jsx)(B.a,{children:e.name})})]},e.id)}))})})]})},G=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),L=function(){var e=G(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=t.loading;return Object(n.useEffect)((function(){r()}),[]),Object(C.jsx)(C.Fragment,{children:null===a||i?Object(C.jsx)(w,{}):Object(C.jsx)(y.a,{className:e.root,children:Object(C.jsx)(v.a,{action:Object(C.jsx)(q,{}),title:a[1].statsPending,subheader:"Payments Pending"})})})};var H=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),M=function(){var e,t=H(),a=Object(n.useContext)(f),r=a.stats,i=a.getStatData,c=a.loading;return Object(n.useEffect)((function(){i()}),[]),Object(C.jsx)(C.Fragment,{children:c?Object(C.jsx)(w,{}):r&&r[3].statsPaymentPendingAuth.length?Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa3".concat((e=r[3].statsPaymentPendingAuth[0].total,"".concat(e.toFixed(2)))),subheader:"Pending\n Approval"})}):Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa30.00",subheader:"Pending Authorisation"})})})},W=a(288),Y=a.n(W);var Q=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),V=new Date,J=function(){var e,t=Q(),a=Object(n.useContext)(f),r=a.stats,i=a.getStatData,c=a.loading;return Object(n.useEffect)((function(){i()}),[]),Object(C.jsx)(C.Fragment,{children:c?Object(C.jsx)(w,{}):r&&r[4].statsPaymentAuthMTD.length?Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa3".concat((e=r[4].statsPaymentAuthMTD[0].total,"".concat(e.toFixed(2)))),subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",Object(C.jsx)(Y.a,{format:"MMMM YY",children:V})]})})}):Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa30.00",subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",Object(C.jsx)(Y.a,{format:"MMMM YY",children:V})]})})})})};var K=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),X=function(){var e,t=K(),a=Object(n.useContext)(f),r=a.stats,i=a.getStatData,c=a.loading;return Object(n.useEffect)((function(){i()}),[]),Object(C.jsx)(C.Fragment,{children:c?Object(C.jsx)(w,{}):r&&r[5].statsPaymentAuthYTD.length?Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa3".concat((e=r[5].statsPaymentAuthYTD[0].total,"".concat(e.toFixed(2)))),subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",r[6].CurrentAcaYear]})})}):Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa30.00",subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",r[6].CurrentAcaYear]})})})})},Z=a(31),$=[{id:1,value:"Arts, English and Languages",label:"Arts, English and Languages"},{id:2,value:"Biological Sciences",label:"Biological Sciences"},{id:3,value:"Chemistry and Chemical Engineering",label:"Chemistry and Chemical Engineering"},{id:4,value:"Electronics, Electrical Engineering and Computer Science",label:"Electronics, Electrical Engineering and Computer Science"},{id:5,value:"EPS Budget Management",label:"EPS Budget Management"},{id:6,value:"Faculty Office - AHSS",label:"Faculty Office - AHSS"},{id:7,value:"Faculty Office (E&PS)",label:"Faculty Office (E&PS)"},{id:8,value:"Faculty Office (MH&LS)",label:"Faculty Office (MH&LS)"},{id:9,value:"History, Anthropology, Philosophy and Politics",label:"History, Anthropology, Philosophy and Politics"},{id:10,value:"Institute of Professional Legal Studies",label:"Institute of Professional Legal Studies"},{id:11,value:"Institute of Theology",label:"Institute of Theology"},{id:12,value:"Law",label:"Law"},{id:13,value:"Mathematics and Physics",label:"Mathematics and Physics"},{id:14,value:"Mechanical and Aerospace Engineering",label:"Mechanical and Aerospace Engineering"},{id:15,value:"Medicine, Dentistry and Biomedical Sciences",label:"Medicine, Dentistry and Biomedical Sciences"},{id:16,value:"Natural and Built Environment",label:"Natural and Built Environment"},{id:17,value:"Nursing and Midwifery",label:"Nursing and Midwifery"},{id:18,value:"Pharmacy",label:"Pharmacy"},{id:19,value:"Psychology",label:"Psychology"},{id:20,value:"Queen's University Management School",label:"Queen's University Management School"},{id:21,value:"Senator George J Mitchell Institute for Global Peace, Security and Justice",label:"Senator George J Mitchell Institute for Global Peace, Security and Justice"},{id:22,value:"Social Sciences, Education and Social Work",label:"Social Sciences, Education and Social Work"}],ee=[{id:1,value:"Pending",label:"Pending"},{id:2,value:"Active",label:"Active"},{id:3,value:"Disabled",label:"Disabled"},{id:4,value:"Expired",label:"Expired"}],te=[{id:1,value:"User",label:"User"},{id:2,value:"Admin",label:"Admin"},{id:3,value:"Module Owner",label:"Module Owner"},{id:4,value:"School Management",label:"School Management"},{id:5,value:"Clerical",label:"Clerical"},{id:6,value:"Adhoc",label:"Adhoc"}],ae=[{id:1,value:"Mr",label:"Mr"},{id:2,value:"Mrs",label:"Mrs"},{id:3,value:"Miss",label:"Miss"},{id:4,value:"Dr",label:"Dr"},{id:5,value:"Ms",label:"Ms"},{id:6,value:"Prof",label:"Prof"},{id:7,value:"Other",label:"Other"}],ne=[{id:1,value:"He/Him",label:"He/Him"},{id:2,value:"She/Her",label:"She/Her"},{id:3,value:"They/Them",label:"They/Them"},{id:4,value:"Other",label:"Other"}],re=[{id:1,value:"England",label:"England"},{id:2,value:"Scotland",label:"Scotland"},{id:3,value:"Wales",label:"Wales"},{id:4,value:"Northern Ireland",label:"Northern Ireland"}],ie=[{id:1,name:"Avon",country:"England"},{id:2,name:"Bedfordshire",country:"England"},{id:3,name:"Berkshire",country:"England"},{id:4,name:"Buckinghamshire",country:"England"},{id:5,name:"Cambridgeshire",country:"England"},{id:6,name:"Cheshire",country:"England"},{id:7,name:"Cleveland",country:"England"},{id:8,name:"Cornwall",country:"England"},{id:9,name:"Cumbria",country:"England"},{id:10,name:"Derbyshire",country:"England"},{id:11,name:"Devon",country:"England"},{id:12,name:"Dorset",country:"England"},{id:13,name:"Durham",country:"England"},{id:14,name:"East Sussex",country:"England"},{id:15,name:"Essex",country:"England"},{id:16,name:"Gloucestershire",country:"England"},{id:17,name:"Hampshire",country:"England"},{id:18,name:"Herefordshire",country:"England"},{id:19,name:"Hertfordshire",country:"England"},{id:20,name:"Isle of Wight",country:"England"},{id:21,name:"Kent",country:"England"},{id:22,name:"Lancashire",country:"England"},{id:23,name:"Leicestershire",country:"England"},{id:24,name:"Lincolnshire",country:"England"},{id:25,name:"London",country:"England"},{id:26,name:"Merseyside",country:"England"},{id:27,name:"Norfolk",country:"England"},{id:28,name:"Northamptonshire",country:"England"},{id:29,name:"Northumberland",country:"England"},{id:30,name:"North Yorkshire",country:"England"},{id:31,name:"Nottinghamshire",country:"England"},{id:32,name:"Oxfordshire",country:"England"},{id:33,name:"Rutland",country:"England"},{id:34,name:"Shropshire",country:"England"},{id:35,name:"Somerset",country:"England"},{id:36,name:"South Yorkshire",country:"England"},{id:37,name:"Staffordshire",country:"England"},{id:38,name:"Suffolk",country:"England"},{id:39,name:"Surrey",country:"England"},{id:40,name:"Tyne and Wear",country:"England"},{id:41,name:"Warwickshire",country:"England"},{id:42,name:"West Midlands",country:"England"},{id:43,name:"West Sussex",country:"England"},{id:44,name:"West Yorkshire",country:"England"},{id:45,name:"Wiltshire",country:"England"},{id:46,name:"Worcestershire",country:"England"},{id:47,name:"Clwyd",country:"Wales"},{id:48,name:"Dyfed",country:"Wales"},{id:49,name:"Gwent",country:"Wales"},{id:50,name:"Gwynedd",country:"Wales"},{id:51,name:"Mid Glamorgan",country:"Wales"},{id:52,name:"Powys",country:"Wales"},{id:53,name:"South Glamorgan",country:"Wales"},{id:54,name:"West Glamorgan",country:"Wales"},{id:55,name:"Aberdeenshire",country:"Scotland"},{id:56,name:"Angus",country:"Scotland"},{id:57,name:"Argyll",country:"Scotland"},{id:58,name:"Ayrshire",country:"Scotland"},{id:59,name:"Banffshire",country:"Scotland"},{id:60,name:"Berwickshire",country:"Scotland"},{id:61,name:"Bute",country:"Scotland"},{id:62,name:"Caithness",country:"Scotland"},{id:63,name:"Clackmannanshire",country:"Scotland"},{id:64,name:"Dumfriesshire",country:"Scotland"},{id:65,name:"Dunbartonshire",country:"Scotland"},{id:66,name:"East Lothian",country:"Scotland"},{id:67,name:"Fife",country:"Scotland"},{id:68,name:"Inverness-shire",country:"Scotland"},{id:69,name:"Kincardineshire",country:"Scotland"},{id:70,name:"Kinross-shire",country:"Scotland"},{id:71,name:"Kirkcudbrightshire",country:"Scotland"},{id:72,name:"Lanarkshire",country:"Scotland"},{id:73,name:"Midlothian",country:"Scotland"},{id:74,name:"Moray",country:"Scotland"},{id:75,name:"Nairnshire",country:"Scotland"},{id:76,name:"Orkney",country:"Scotland"},{id:77,name:"Peeblesshire",country:"Scotland"},{id:78,name:"Perthshire",country:"Scotland"},{id:79,name:"Renfrewshire",country:"Scotland"},{id:80,name:"Ross-shire",country:"Scotland"},{id:81,name:"Roxburghshire",country:"Scotland"},{id:82,name:"Selkirkshire",country:"Scotland"},{id:83,name:"Shetland",country:"Scotland"},{id:84,name:"Stirlingshire",country:"Scotland"},{id:85,name:"Sutherland",country:"Scotland"},{id:86,name:"West Lothian",country:"Scotland"},{id:87,name:"Wigtownshire",country:"Scotland"},{id:88,name:"Antrim",country:"Northern Ireland"},{id:89,name:"Armagh",country:"Northern Ireland"},{id:90,name:"Down",country:"Northern Ireland"},{id:91,name:"Fermanagh",country:"Northern Ireland"},{id:92,name:"Londonderry",country:"Northern Ireland"},{id:93,name:"Tyrone",country:"Northern Ireland"}],ce=[{id:1,value:"1",label:"Semester 1"},{id:2,value:"2",label:"Semester 2"},{id:3,value:"3",label:"Semester 3"}],se=[{id:1,value:"TA",label:"TA (Non-PGR)"},{id:2,value:"PGTA",label:"PGTA (PGR)"}],le=[{id:1,value:"2020/2021",label:"2020/2021"},{id:2,value:"2021/2022",label:"2021/2022"},{id:3,value:"2022/2023",label:"2022/2023"}],oe=[{id:1,value:"January",label:"January"},{id:2,value:"February",label:"February"},{id:3,value:"March",label:"March"},{id:4,value:"April",label:"April"},{id:5,value:"May",label:"May"},{id:6,value:"June",label:"June"},{id:7,value:"July",label:"July"},{id:8,value:"August",label:"August"},{id:9,value:"September",label:"September"},{id:10,value:"October",label:"October"},{id:11,value:"November",label:"November"},{id:12,value:"December",label:"December"}],de=[{value:2020},{value:2021},{value:2022},{value:2023},{value:2024},{value:2025}],je=a(417),ue=a(770),be=a(68),me=a.n(be),pe=(new Date).toUTCString(),Oe=function(e){var t=e.user,a=e.userPayments,r=e.userPaymentsLoading,i=Object(l.g)();var c=function(e){var t=e.label,a=e.onDelete;return Object(C.jsx)(je.a,{variant:"outlined",color:"primary",label:t,onDelete:a})},s=Object(Z.a)({filter:!0,filterType:"dropdown",sortOrder:{name:"paymentPeriodNum",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"".concat(t.QUBID,"Payments-").concat(pe,".csv")},selectableRowsHideCheckboxes:!1,rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!1}},"selectableRowsHideCheckboxes",!0),o=[{name:"_id",label:"UserId",options:{filter:!1,display:!1,download:!1,sort:!1}},{name:"paymentPeriodNum",label:"Month",options:{filter:!1,display:!1,download:!0,sort:!0}},{name:"paymentPeriod",label:"Month",options:{filter:!1,display:!0,download:!0,sort:!0,customBodyRender:function(e){return t=e,oe.map((function(e){return e.value}))[t-1];var t}}},{name:"QUBID",label:"QUBID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"academicYear",label:"Year",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"deliveredBy",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"amount",label:"Amount",options:{filter:!0,display:!0,download:!0,sort:!1,customBodyRender:function(e,t,a){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)}}},{name:"paymentStatus",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRender:function(e,t,a){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{container:!0,direction:"row",alignContent:"center",alignItems:"center",children:Object(C.jsxs)(B.a,{align:"center",children:[Object(C.jsx)(ue.a,{fontSize:"small",onClick:function(){return function(e){var t="/payments/".concat(e);i.push(t)}(t.rowData[0])},userID:t.rowData[0]}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"View"})]})})})}}}];return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===a||r?Object(C.jsx)(w,{}):Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(me.a,{title:Object(C.jsx)("div",{children:Object(C.jsx)(B.a,{variant:"h5",children:"My Payments"})}),data:a,columns:o,options:s,components:{TableFilterList:function(e){return Object(C.jsx)(be.TableFilterList,Object(b.a)(Object(b.a)({},e),{},{ItemComponent:c}))}}})})})})})})},xe=a(771),he=a(48),ge=a.n(he),fe=a(772),ye=a(429),ve=a.n(ye),Se=a(132),Ce=a.n(Se),Pe=a(225),we=a.n(Pe),Ne=a(171),ke=a.n(Ne),Ae=Object(n.createContext)(),De=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Ee=function(e){var t=De(),a=r.a.useState(!1),i=Object(u.a)(a,2),c=i[0],l=i[1],o=Object(n.useContext)(Ae),d=o.user,j=e.isAdmin;Object(n.useEffect)((function(){x(null!==d?d._id:{_id:""})}),[o,d]);var b,m=Object(n.useState)({_id:""}),p=Object(u.a)(m,2),O=p[0],x=p[1];b=j?[{id:1,icon:Object(C.jsx)(s.b,{to:"/userAdmin",children:Object(C.jsx)(ve.a,{})}),name:"User Management"},{id:2,icon:Object(C.jsx)(s.b,{to:"/payments",children:Object(C.jsx)(we.a,{})}),name:"Payments"},{id:5,icon:Object(C.jsx)(s.b,{to:"/about",children:Object(C.jsx)(ke.a,{})}),name:"About"}]:[{id:6,icon:Object(C.jsx)(s.b,{to:"/user/".concat(O),children:Object(C.jsx)(Ce.a,{})}),name:"My Profile"},{id:5,icon:Object(C.jsx)(s.b,{to:"/about",children:Object(C.jsx)(ke.a,{})}),name:"About"}];var h=function(){l(!1)};return Object(C.jsx)("div",{className:t.root,children:Object(C.jsx)(xe.a,{ariaLabel:"Home Navigation Control",className:t.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:h,onOpen:function(){l(!0)},open:c,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:h},e.id)}))})})},Fe=Object(n.createContext)();function Ue(e){return Object(C.jsx)(p.a,Object(b.a)({elevation:6,variant:"filled"},e))}var Te=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"},table:{minWidth:700},spacer:{marginTop:e.spacing(2)},textField:{"& > *":{}},footer:{minHeight:100},inputField:{textAlign:"center"},inputCenter:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14)},finalButton:{margin:e.spacing(2)}}})),Ie=function(){var e=Te(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=Object(n.useContext)(Ae),c=i.user,l=i.loadUser,o=i.resendVerifyEmail,d=i.isAdmin,j=Object(n.useContext)(Fe),b=j.loading,p=j.getUserPayments,h=j.userPayments,y=Object(n.useState)({id:""}),v=Object(u.a)(y,2),S=v[0],P=v[1];Object(n.useEffect)((function(){l()}),[]),Object(n.useEffect)((function(){r()}),[]),Object(n.useEffect)((function(){c&&c._id&&(p(c._id),P({id:c._id}))}),[c]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h1",{className:"HomeGreeting",children:[function(){var e=new Date;return e.getHours()>=4&&e.getHours()<12?"Good Morning":e.getHours()>=12&&e.getHours()<=16?"Good Day":e.getHours()>=17&&e.getHours()<=23?"Good Evening":"Good Night"}(),", ",c&&c.firstName]}),b&&i.loading?Object(C.jsx)(w,{}):Object(C.jsx)(C.Fragment,{children:d?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ee,{isAdmin:d}),a&&0!==a[1].statsPending?Object(C.jsx)("h3",{className:"HomeGreetingSubtitle",children:"You have pending tasks"}):Object(C.jsx)("h3",{className:"HomeGreetingSubtitle",children:"You are all caught up"}),Object(C.jsxs)(m.a,{container:!0,direction:"row",spacing:4,alignItems:"stretch",children:[Object(C.jsx)(m.a,{item:!0,md:!0,xs:12,sm:6,children:Object(C.jsx)(k,{},1)}),Object(C.jsx)(m.a,{item:!0,md:!0,xs:12,sm:6,children:Object(C.jsx)(D,{},10)}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(L,{},2)})]}),Object(C.jsxs)(m.a,{container:!0,direction:"row",spacing:4,alignItems:"stretch",children:[Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(M,{},3)}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(J,{})}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(X,{})})]}),Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.footer,e.left)})})]}):c&&"Module Owner"===c.role?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ee,{isAdmin:d}),a&&0!==a[1].statsPending?Object(C.jsx)("h3",{className:"HomeGreetingSubtitle",children:"You have pending tasks"}):Object(C.jsx)("h3",{className:"HomeGreetingSubtitle",children:"You are all caught up"}),Object(C.jsxs)(m.a,{container:!0,direction:"row",spacing:4,alignItems:"stretch",children:[Object(C.jsx)(m.a,{item:!0,md:6,xs:12,sm:6,children:Object(C.jsx)(k,{},1)}),Object(C.jsx)(m.a,{item:!0,xs:12,md:6,sm:6,children:Object(C.jsx)(L,{},2)})]}),Object(C.jsxs)(m.a,{container:!0,direction:"row",spacing:4,alignItems:"stretch",children:[Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(M,{},3)}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(J,{})}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(X,{})})]}),Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.footer,e.left)})})]}):Object(C.jsxs)(C.Fragment,{children:[c&&!c.emailVerified?Object(C.jsxs)(Ue,{style:{marginBottom:"20px"},severity:"warning",action:Object(C.jsx)(x.a,{onClick:function(){o(S.id)},color:"inherit",size:"small",children:"Resend Email"}),children:[Object(C.jsx)(O.a,{children:"Email Address Pending Validation"}),"Please click the verify link issued to ",c.email," or click the resend email button"]}):c&&!c.NINO?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ue,{style:{marginBottom:"20px"},severity:"warning",action:Object(C.jsx)(x.a,{component:s.b,to:"/user/".concat(c._id),color:"inherit",size:"small",children:"My Profile"}),children:[Object(C.jsx)(O.a,{children:"Please complete your User Profile"}),"Your user account is currently incomplete, please navigate to your user profile and complete all of the required fields"]}),Object(C.jsx)(Ee,{isAdmin:d})]}):Object(C.jsx)(Ee,{isAdmin:d}),c&&!c.taxDeclaration[0].signed?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ue,{style:{marginBottom:"20px"},severity:"error",action:Object(C.jsx)(x.a,{component:s.b,to:"/user/".concat(c._id),color:"inherit",size:"small",children:"My Profile"}),children:[Object(C.jsx)(O.a,{children:"Please complete your Tax Declaration"}),Object(C.jsx)("p",{children:"You must complete the tax declaration before you can be undertake any demonstrator activities."}),"Your module coordinator will be unable to process payments until you have successfully submitted a tax declaration. Please navigate to your user profile to complete"]}),Object(C.jsx)(Ee,{isAdmin:d})]}):"",!b&&c&&h.payments.length?Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Oe,{user:c,userPayments:h.payments,userPaymentsLoading:b})})}):Object(C.jsx)("h4",{children:"You currently have no payments recorded. If required, please liaise with your module coordinator"}),Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.footer,e.left)})})]})})]})},_e=a(55),Re=a.n(_e),Be=a(163),ze=a.n(Be),qe=a(165),Ge=a.n(qe),Le=a(226),He=a.n(Le),Me=Object(n.createContext)(),We=a(24),Ye=a(758),Qe=a(762),Ve=a(760),Je=a(761),Ke=a(402),Xe=a(733),Ze=a(759),$e=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:e.spacing(1),width:"47%"},textLabel:{marginLeft:e.spacing(1),marginTop:e.spacing(2),marginRight:e.spacing(1),width:"26ch"},textFieldFull:{margin:e.spacing(1),width:"97%"},text:{textAlign:"center"}}})),et=function(){var e=$e(),t=Object(n.useContext)(Ae).passwordResetRequest,a=Object(n.useContext)(Me),r=a.addUser,i=a.clearCurrent,c=a.current,s=a.updateUser,l=a.setDialogClosed,o=a.toggleDialog,d=a.error;Object(n.useEffect)((function(){g(null!==c?c:{address:[{street:"",city:"",county:"",country:"",postcode:""}],contact:[{mobile:"",landline:""}],bank:[{bankName:"",branchName:"",sortCode:"",accNumber:"",buildingSocietyNumber:""}],dob:"",email:"",emailTokenIssued:"",emailTokenExpiry:"",emailVerified:!1,emailVerifiedDate:"",firstName:"",lastName:"",nino:"",password:"",password1:"",passwordResetToken:"",passwordResetTokenExpiresAt:"",pronoun:"",payment:"",payment1:"",QUBID:"",NSPID:"",qubSchool:"",role:"",status:"Pending",title:"",taxDeclaration:[{employeeStatements_section1:"A",employeeStatements_section2:"1",employeeStatements_section3q1:"false",employeeStatements_section3q2:"false",employeeStatements_section3q3:"false",employeeStatements_section3q4:"1",employeeStatements_section3q5:"false",signed:!1}]})}),[a,c]);var j=Object(We.b)(),m=j.enqueueSnackbar,p=(j.closeSnackbar,Object(n.useState)({dob:"",email:"",emailVerificationToken:"",emailVerificationTokenExpiresAt:"",emailVerified:!1,userImg:"",firstName:"",lastName:"",password:"",password1:"",passwordResetToken:"",passwordResetTokenExpiresAt:"",payment:"",payment1:"",QUBID:"",NSPID:"",role:"User",status:"Pending",qubSchool:""})),O=Object(u.a)(p,2),h=O[0],g=O[1],f=h.dob,y=h.email,v=h.firstName,S=h.lastName,P=h.password,w=h.password1,N=h.QUBID,k=h.NSPID,A=h.role,D=h.status,E=h.qubSchool,F=function(e){g(Object(b.a)(Object(b.a)({},h),{},Object(Z.a)({},e.target.name,e.target.value)))},T=function(){i(),_(),l()},I=function(e){e.preventDefault(),d?m(d,{variant:"error"}):(null===c?P!==w?m("Password Error! Check Passwords Match",{variant:"error"}):(r(h),T()):(s(h),T(),m("User Updated",{variant:"success"})),_())},_=function(){i()};return Object(C.jsx)("div",{children:Object(C.jsxs)(Ye.a,{open:o,onClose:T,"aria-labelledby":"form-dialog-title",children:[c?Object(C.jsx)(Qe.a,{id:"form-dialog-title",children:"Edit a user"}):Object(C.jsx)(Qe.a,{id:"form-dialog-title",children:"Add a user"}),Object(C.jsxs)(Ve.a,{children:[c?Object(C.jsx)(Je.a,{className:e.text,children:"To edit a new user please update the fields fields below"}):Object(C.jsx)(Je.a,{className:e.text,children:"To add a new user please complete all fields below"}),Object(C.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"firstName",type:"text",name:"firstName",placeholder:"First Name",value:v,onChange:F,label:"First Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"lastName",type:"text",name:"lastName",placeholder:"Last Name",value:S,onChange:F,label:"Last Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:e.textFieldFull,id:"email",type:"email",name:"email",placeholder:"Email Address",value:y,onChange:F,label:"Email Address",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:e.textField,id:"dob",type:"date",name:"dob",value:f||"2000-01-01",onChange:F,label:"Date Of Birth",variant:"outlined"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"QUBID",type:"text",name:"QUBID",placeholder:"QUB ID",value:N,onChange:F,label:"QUB ID",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:e.textField,disabled:!A||"User"!==A,id:"NSPID",type:"text",name:"NSPID",placeholder:"NSP ID",value:k,onChange:F,label:"NSP ID",variant:"outlined"})]}),c?Object(C.jsx)(Ke.a,{className:e.textField,select:!0,variant:"outlined",id:"status",name:"status",label:"Select Status",value:D,onChange:F,children:ee.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))}):Object(C.jsx)(Ke.a,{className:e.textField,disabled:!0,variant:"outlined",id:"status",name:"status",label:"Select Status",value:"Pending",onChange:F}),Object(C.jsx)(Ke.a,{className:e.textField,select:!0,variant:"outlined",id:"role",name:"role",label:"Select Role",value:A,onChange:F,children:te.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:e.textFieldFull,select:!0,variant:"outlined",id:"qubSchool",name:"qubSchool",label:"Select A School",value:E,onChange:F,children:$.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))}),c?"":Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Xe.a,{className:e.textLabel,component:"legend",children:"Set Password"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"password",label:"Password",type:"password",name:"password",placeholder:"Set Password",value:P,onChange:F,variant:"outlined"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"password1",label:"Password",type:"password",name:"password1",placeholder:"Repeat Password",value:w,onChange:F,variant:"outlined"})]})]})]}),c?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{onClick:function(){t(c._id),T(),m("Password Reset Sent",{variant:"success"})},variant:"outlined",color:"primary",children:"Password Reset"}),Object(C.jsx)(x.a,{onClick:T,variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(x.a,{onClick:I,variant:"outlined",color:"primary",children:"Update"})]})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{onClick:T,variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(x.a,{onClick:I,variant:"outlined",color:"primary",children:"Submit"})]})})]})]})]})})},tt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),at=function(){var e=tt(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(Me),l=c.setDialogOpen,o=c.setDialogClosed,d=c.toggleDialog;function j(e,t){e.preventDefault(),2===t&&l()}var b=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Re.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"#",children:Object(C.jsx)(ze.a,{})}),name:"Manually Add User"},{id:3,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Ge.a,{})}),name:"Import User File"},{id:3,icon:Object(C.jsx)(s.b,{to:"/importNSP",children:Object(C.jsx)(He.a,{})}),name:"Import NSP Data File"}];return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(xe.a,{ariaLabel:"User Management Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(t){j(t,e.id)}},e.id)}))}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(et,{open:d,onClose:function(){o()}})})]})},nt=Object(n.createContext)(),rt=a(200),it=a.n(rt),ct=function(e){var t=Object(n.useContext)(Me),a=Object(n.useContext)(nt),r=e.user,i=Object(We.b)(),c=i.enqueueSnackbar,s=(i.closeSnackbar,t.users),o=t.getUsers,d=t.deleteUser,j=t.loading,u=t.error,p=t.clearErrors,O=t.setDialogOpen,x=t.setCurrent,h=Object(l.g)();if(Object(n.useEffect)((function(){o(),u&&(c(u,{variant:"error"}),p())}),[]),null!==s&&0===s.length&&!j)return Object(C.jsx)("h4",{children:"Please add a user"});var g=function(e){var t=e.label,a=e.onDelete;return Object(C.jsx)(je.a,{variant:"outlined",color:"primary",label:t,onDelete:a})},f={filter:!0,filterType:"dropdown",sortOrder:{name:"QUBID",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"userAdminDownload.csv"},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},onRowsDelete:function(e){e.data.length<=10?e.data.map((function(e){return s[e.dataIndex]})).forEach((function(e){e._id===r._id?(c("You cannot delete your own record",{variant:"error"}),p()):(c("User ".concat(e.firstName," ").concat(e.lastName," (").concat(e.QUBID,") deleted"),{variant:"success"}),d(e._id))})):(t.loading=!0,e.data.map((function(e){return s[e.dataIndex]})).forEach((function(e){e._id===r._id?(c("You cannot delete your own record",{variant:"error"}),p()):d(e._id)})),t.loading=!1)}},y=[{name:"_id",label:"UserId",options:{filter:!1,display:!1,download:!1,sort:!1}},{name:"QUBID",label:"QUBID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"firstName",label:"First Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"lastName",label:"Last Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"role",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"status",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRenderLite:function(e){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{container:!0,direction:"row",alignContent:"center",alignItems:"center",justify:"space-around",children:[Object(C.jsxs)(m.a,{item:!0,align:"center",children:[Object(C.jsx)(it.a,{onClick:function(t){!function(e,t){e.preventDefault(),x(s[t]),O()}(t,e)}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Edit"})]}),Object(C.jsxs)(B.a,{align:"center",children:[Object(C.jsx)(Ce.a,{onClick:function(t){!function(e,t){a.setCurrent(s[t]);var n="/user/".concat(s[t]._id);h.push(n)}(0,e)}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"View"})]})]})})}}}];return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===s||j?Object(C.jsx)(w,{}):Object(C.jsx)(m.a,{container:!0,spacing:4,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(me.a,{title:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"User Account Admin"}),Object(C.jsx)(B.a,{variant:"caption",children:"Update basic user account information"})]}),data:s,columns:y,options:f,components:{TableFilterList:function(e){return Object(C.jsx)(be.TableFilterList,Object(b.a)(Object(b.a)({},e),{},{ItemComponent:g}))}}})})})})})})},st=function(e){var t=Object(n.useContext)(Ae),a=t.loadUser,r=t.isAdmin,i=t.user,c=t.loading;return Object(n.useEffect)((function(){a(),c||r||e.history.push("/")}),[r,e.history]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(at,{}),Object(C.jsx)("div",{className:"grid-1",children:Object(C.jsx)(ct,{user:i,isAdmin:r})})]})},lt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),ot=function(e){var t,a=lt(),r=Object(n.useState)(!1),i=Object(u.a)(r,2),c=i[0],l=i[1],o=e.isAdmin,d=function(){l(!1)};return t=o?[{id:1,icon:Object(C.jsx)(s.b,{to:"/userAdmin",children:Object(C.jsx)(Re.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"/payments",children:Object(C.jsx)(we.a,{})}),name:"Payments"}]:[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Re.a,{})}),name:"Back"}],Object(C.jsx)("div",{className:a.root,children:Object(C.jsx)(xe.a,{ariaLabel:"User Profile Navigation Control",className:a.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:d,onOpen:function(){l(!0)},open:c,FabProps:{color:"secondary"},children:t.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:d},e.id)}))})})},dt=a(198),jt=a.n(dt),ut=a(277),bt=a(780),mt=a(766),pt=a(283),Ot=a(280),xt=a(395),ht=a(393),gt=a(782),ft=a(732),yt=a(765),vt=a(430),St=a.n(vt),Ct=a(431),Pt=a.n(Ct),wt=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",fontSize:"1.2rem"},textFieldFull:{margin:e.spacing(1),width:"97%"},button:{backgroundColor:"rgb(214, 0, 13)",margin:e.spacing(1),width:"97%"},textField:{margin:e.spacing(1),width:"47%"},textLabel:{marginLeft:e.spacing(1),marginTop:e.spacing(2),marginRight:e.spacing(1),width:"26ch"},text:{textAlign:"center",marginBottom:30},taxText:{textAlign:"center",fontWeight:"bold"},taxTextSpacingTop:{marginTop:30},taxTextSpacingBottom:{marginBottom:30},Subtext:{margin:e.spacing(1)}}})),Nt=function(e){var t=wt(),a=Object(l.h)().id,r=Object(n.useContext)(nt),i=Object(We.b)(),c=i.enqueueSnackbar,s=(i.closeSnackbar,e.isAdmin),o=r.user,d=r.current,j=r.getUser,p=r.setCurrent,O=r.updateUser;Object(n.useEffect)((function(){null!==d?P(d):(j(a),p(o))}),[r,d]);var h=Object(n.useState)({newPassword:"",confirmPassword:"",currentPassword:""}),f=Object(u.a)(h,2),y=(f[0],f[1],Object(n.useState)({address:[{street:"",city:"",county:"",country:"",postcode:""}],contact:[{mobile:"",landline:""}],bank:[{bankName:"",branchName:"",sortCode:"",accNumber:"",buildingSocietyNumber:""}],dob:"",email:"",emailTokenIssued:"",emailTokenExpiry:"",emailVerified:!1,emailVerifiedDate:"",firstName:"",lastName:"",nino:"",password:"",password1:"",passwordResetToken:"",passwordResetTokenExpiresAt:"",pronoun:"",payment:"",payment1:"",QUBID:"",qubSchool:"",role:"",status:"",title:"",taxDeclaration:[{employeeStatements_section1:"A",employeeStatements_section2:1,employeeStatements_section3q1:!1,employeeStatements_section3q2:!1,employeeStatements_section3q3:!1,employeeStatements_section3q4:1,employeeStatements_section3q5:!1,signed:!1}]})),v=Object(u.a)(y,2),S=v[0],P=v[1],w=Object(n.useState)(0),N=Object(u.a)(w,2),k=N[0],A=N[1],D=Object(n.useState)(!1),E=Object(u.a)(D,2),F=E[0],T=E[1],I=function(e){e.preventDefault(),O(S),c("User Profile Updated",{variant:"success"})},_=function(e,t){switch(t){case 1:S.address[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;case 2:S.bank[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;case 3:S.contact[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;case 4:S.taxDeclaration[0][e.target.name]=e.target.value,T(!0),P(Object(b.a)({},S));break;default:P(Object(b.a)(Object(b.a)({},S),{},Object(Z.a)({},e.target.name,e.target.value)))}},R=function(e){S.taxDeclaration[0][e.target.name]=e.target.checked,P(Object(b.a)({},S))};return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{container:!0,spacing:3,children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(ut.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(bt.a,{indicatorColor:"primary",textColor:"primary",value:k,onChange:function(e,t){A(t)},children:[Object(C.jsx)(mt.a,{label:"ACCOUNT",icon:Object(C.jsx)(St.a,{})}),Object(C.jsx)(mt.a,{label:"PROFILE",icon:Object(C.jsx)(Ce.a,{})}),Object(C.jsx)(mt.a,{label:"TAX",icon:Object(C.jsx)(Pt.a,{})})]})})}),Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(m.a,{item:!0,justify:"center",container:!0,children:Object(C.jsx)(ut.a,{display:"flex",flexDirection:"column",width:600,children:Object(C.jsx)("form",{children:0===k?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.a,{variant:"h5",weight:"medium",className:t.text,children:"Edit your DemPay account details"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:t.textField,disabled:!0,id:"QUBID",type:"text",name:"QUBID",value:S.QUBID,onChange:_,label:"QUB ID",variant:"outlined"}),d&&"Pending"!==d.status?Object(C.jsx)(pt.a,{title:"Verified on: ".concat(jt()(S.emailVerifiedDate).format("DD/MM/YYYY h:mm A")),arrow:!0,children:Object(C.jsx)(Ke.a,{className:t.textField,disabled:!0,variant:"outlined",id:"status",name:"status",label:"Status",value:S.status,onChange:_})}):Object(C.jsx)(Ke.a,{error:!0,className:t.textField,disabled:!0,variant:"outlined",id:"status",name:"status",label:"Status",value:S.status,onChange:_,helperText:"Please verify your email"})]}),Object(C.jsx)(Ke.a,{disabled:!0,className:t.textFieldFull,id:"email",type:"email",name:"email",placeholder:"Email Address",value:S.email,onChange:_,label:"Email Address",variant:"outlined"}),Object(C.jsx)(Ke.a,{disabled:!0,className:t.textFieldFull,variant:"outlined",id:"role",name:"role",label:"Role",value:S.role,onChange:_}),Object(C.jsx)(Ke.a,{disabled:!0,className:t.textFieldFull,variant:"outlined",id:"qubSchool",name:"qubSchool",label:"QUB School",value:S.qubSchool,onChange:_})]}):1===k?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.a,{variant:"h5",weight:"medium",className:t.text,children:"Edit your personal information"}),Object(C.jsx)(B.a,{variant:"h6",weight:"medium",className:t.Subtext,children:"Personal information"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"title",name:"title",label:"Title",value:S.title,onChange:function(e){return _(e)},children:ae.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"pronoun",name:"pronoun",label:"Pronoun",value:S.pronoun,onChange:function(e){return _(e)},children:ne.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:t.textField,required:!0,id:"firstName",type:"text",name:"firstName",placeholder:"First Name",value:S.firstName,onChange:function(e){return _(e)},label:"First Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textField,required:!0,id:"lastName",type:"text",name:"lastName",placeholder:"Last Name",value:S.lastName,onChange:function(e){return _(e)},label:"Last Name",variant:"outlined"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"dob",type:"date",name:"dob",value:S.dob,onChange:function(e){return _(e)},label:"Date Of Birth",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textField,required:!0,id:"nino",type:"text",name:"nino",placeholder:"XX000000X",value:S.nino,onChange:function(e){return _(e)},label:"National Insurance",variant:"outlined"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:t.textField,id:"mobile",type:"tel",name:"mobile",placeholder:"07000 000000",value:S.contact[0].mobile,onChange:function(e){return _(e,3)},label:"Mobile Number",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textField,id:"landline",type:"tel",name:"landline",placeholder:"020 0000 0000",value:S.contact[0].landline,onChange:function(e){return _(e,3)},label:"Landline Number",variant:"outlined"})]}),Object(C.jsx)(B.a,{variant:"h6",weight:"medium",className:t.Subtext,children:"Address information"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"street",type:"text",name:"street",placeholder:"Street Address",value:S.address[0].street,onChange:function(e){return _(e,1)},label:"Street Address",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"city",type:"text",name:"city",placeholder:"City",value:S.address[0].city,onChange:function(e){return _(e,1)},label:"City",variant:"outlined"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"county",name:"county",label:"County",value:S.address[0].county,onChange:function(e){return _(e,1)},children:ie.map((function(e){return Object(C.jsx)(U.a,{value:e.name,children:e.name},e.id)}))}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"country",name:"country",label:"Country",value:S.address[0].country,onChange:function(e){return _(e,1)},children:re.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))})]}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"postcode",type:"text",name:"postcode",placeholder:"Postcode",value:S.address[0].postcode,onChange:function(e){return _(e,1)},label:"Postcode",variant:"outlined"}),Object(C.jsx)(B.a,{variant:"h6",weight:"medium",className:t.Subtext,children:"Bank Information"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"bankName",type:"text",name:"bankName",placeholder:"Bank Name",value:S.bank[0].bankName,onChange:function(e){return _(e,2)},label:"Bank Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"branchName",type:"text",name:"branchName",placeholder:"Branch Name",value:S.bank[0].branchName,onChange:function(e){return _(e,2)},label:"Branch Name",variant:"outlined"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"sortCode",type:"text",name:"sortCode",placeholder:"Sort Code",value:S.bank[0].sortCode,onChange:function(e){return _(e,2)},label:"Sort Code",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"accNumber",type:"text",name:"accNumber",placeholder:"Account Number",value:S.bank[0].accNumber,onChange:function(e){return _(e,2)},label:"Account Number",variant:"outlined"})]}),Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"buildingSocietyNumber",type:"text",name:"buildingSocietyNumber",placeholder:"Building Society Number",value:S.bank[0].buildingSocietyNumber,onChange:function(e){return _(e,2)},label:"Building Society Number",variant:"outlined"}),Object(C.jsx)(ut.a,{children:Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:I,color:"secondary",variant:"contained",children:"Save"})})]}):2===k?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.a,{variant:"h5",weight:"medium",className:t.text,children:"Tax Declaration"}),Object(C.jsxs)(B.a,{className:t.taxText,children:[Object(C.jsx)("h2",{children:"Section 1"}),Object(C.jsx)("h3",{children:"Employee Statement"}),Object(C.jsx)("p",{children:"You need to select only one of the following statements A, B or C, if you do not have a P45 or the leaving date on your P45 is before last 6th April."})]}),Object(C.jsx)(Ot.a,{disabled:S.taxDeclaration[0].signed,component:"fieldset",error:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1,children:Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingTop,t.taxTextSpacingBottom),name:"employeeStatements_section1",value:S.taxDeclaration[0].employeeStatements_section1,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"A"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"This is my first job since last 6 April and I have not been receiving taxable Jobseeker\u2019s Allowance, Employment and Support Allowance, taxable A Incapacity Benefit, State or Occupational Pension."})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(ht.a,{value:"A",control:Object(C.jsx)(gt.a,{}),label:"A"}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"B"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"This is now my only job but since last 6 April I have had another job, or received taxable Jobseeker\u2019s Allowance, Employment and Support Allowance or taxable Incapacity Benefit. I do not receive a State or B Occupational Pension."})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(ht.a,{value:"B",control:Object(C.jsx)(gt.a,{}),label:"B"}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"C"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"As well as my new job, I have another job or receive a State or Occupational Pension."})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(ht.a,{value:"C",control:Object(C.jsx)(gt.a,{}),label:"C"}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1?"Required":""})]})]})})}),Object(C.jsx)("hr",{}),Object(C.jsxs)(B.a,{className:Object(g.default)(t.taxText,t.taxTextSpacingTop),children:[Object(C.jsx)("h2",{children:"Section 2"}),Object(C.jsx)("h3",{children:"Employee Statement"}),Object(C.jsx)("p",{children:"Please select the statement which applies to you"})]}),Object(C.jsx)(Ot.a,{disabled:S.taxDeclaration[0].signed,component:"fieldset",error:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section2,children:Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingTop,t.taxTextSpacingBottom),name:"employeeStatements_section2",value:S.taxDeclaration[0].employeeStatements_section2,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"1"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"I am an EU/EEA/Swiss National"})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(ht.a,{value:"1",control:Object(C.jsx)(gt.a,{}),label:"1"}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section2?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"2"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"I am a Non-EU/EEA/Swiss National (I agree to the terms and conditions below)"})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(ht.a,{value:"2",control:Object(C.jsx)(gt.a,{}),label:"2"}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section2?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)(B.a,{variant:"p",weight:"medium",children:[Object(C.jsx)("p",{children:"Please Note: Current Tier 4 students cannot be engaged via the NSP payroll. If you are a Tier 4 student, please contact OnCampus jobs ext: 3953 in the first instance."}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"If you are subject to any other restrictions on your visa, completion of this form confirms you fully understand any restrictions on working hours of your immigration permission and you agree to abide by those restrictions"})]})})]})})}),Object(C.jsx)("hr",{}),Object(C.jsxs)(B.a,{className:Object(g.default)(t.taxText,t.taxTextSpacingTop),children:[Object(C.jsx)("h2",{children:"Section 3"}),Object(C.jsx)("p",{children:"Student Loan Declaration"}),Object(C.jsx)("p",{children:"Please read the following questions carefully and select the statement which applies to you."})]}),Object(C.jsxs)(Ot.a,{disabled:S.taxDeclaration[0].signed,component:"fieldset",error:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1||""===S.taxDeclaration[0].employeeStatements_section2||""===S.taxDeclaration[0].employeeStatements_section3q1||"true"===S.taxDeclaration[0].employeeStatements_section3q1&&""===S.taxDeclaration[0].employeeStatements_section3q2||"true"===S.taxDeclaration[0].employeeStatements_section3q2&&""===S.taxDeclaration[0].employeeStatements_section3q3||"false"===S.taxDeclaration[0].employeeStatements_section3q3&&""===S.taxDeclaration[0].employeeStatements_section3q4||""===S.taxDeclaration[0].employeeStatements_section3q5,children:[Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingTop,t.taxTextSpacingBottom),name:"employeeStatements_section3q1",value:S.taxDeclaration[0].employeeStatements_section3q1,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(B.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 1:"}),Object(C.jsx)("p",{children:"Have you left full-time education before the last 6th April?"})]}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q1?"Required":""})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(ht.a,{value:"true",control:Object(C.jsx)(gt.a,{}),label:"Yes"}),Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"(Go to Question 2)"})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(ht.a,{value:"false",control:Object(C.jsx)(gt.a,{}),label:"No"}),Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"(Sign the declaration below)"})]})]})}),"true"===S.taxDeclaration[0].employeeStatements_section3q1?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q2",value:S.taxDeclaration[0].employeeStatements_section3q2,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(B.a,{variant:"p",weight:"medium",children:[Object(C.jsx)("p",{children:"Question 2:"}),Object(C.jsx)("p",{children:"Do you have a Student Loan which is not fully repaid?"})]}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q2?"Required":""})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(ht.a,{value:"true",control:Object(C.jsx)(gt.a,{}),label:"Yes"}),Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"(Go to Question 3)"})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(ht.a,{value:"false",control:Object(C.jsx)(gt.a,{}),label:"No"}),Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"(Sign the declaration below)"})]})]})}),"true"===S.taxDeclaration[0].employeeStatements_section3q2?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q3",value:S.taxDeclaration[0].employeeStatements_section3q3,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(B.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 3:"}),Object(C.jsx)("p",{children:"Are you repaying your Student Loan direct to the Student Loan Company by agreed monthly payments?"})]}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q3?"Required":""})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(ht.a,{value:"true",control:Object(C.jsx)(gt.a,{}),label:"Yes"}),Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"(Sign the declaration below)"})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(ht.a,{value:"false",control:Object(C.jsx)(gt.a,{}),label:"No"}),Object(C.jsx)(B.a,{variant:"p",weight:"medium",children:"(Go to Question 4)"})]})]})}),"false"===S.taxDeclaration[0].employeeStatements_section3q3?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q4",value:S.taxDeclaration[0].employeeStatements_section3q4,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)(B.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 4:"}),Object(C.jsx)("p",{children:"Student Load Plans - Please select Plan 1 or Plan 2"}),Object(C.jsx)("em",{children:Object(C.jsxs)("div",{style:{paddingLeft:30,paddingTop:10},children:[Object(C.jsx)("p",{children:"Note: You will have a Plan 1 student loan if:"}),Object(C.jsxs)("ol",{children:[Object(C.jsx)("li",{children:"You lived in Scotland or Northern Ireland when you started your course, or"}),Object(C.jsx)("li",{children:"You lived in England or Wales and started your course before 1st September 2012"})]})]})}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q4?"Required":""})]})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(ht.a,{value:"1",control:Object(C.jsx)(gt.a,{}),label:"Plan 1"})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(ht.a,{value:"2",control:Object(C.jsx)(gt.a,{}),label:"Plan 2"})})]})}),Object(C.jsx)(xt.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q5",checked:S.taxDeclaration[0].employeeStatements_section3q5,onChange:function(e){return _(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)(B.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 5:"}),Object(C.jsx)("p",{children:"Post Graduate Student Loan - Have you left full-time education before the last 6th April and have a Post Graduate Student Loan which is not fully repaid which is not being repaid via Direct Debit to the Student Loan Company?"}),Object(C.jsx)(ft.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q5?"Required":""})]})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(ht.a,{value:"Yes",control:Object(C.jsx)(gt.a,{}),label:"Yes"})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(ht.a,{value:"No",control:Object(C.jsx)(gt.a,{}),label:"No"})})]})})]}):""]}):""]}):""]}),s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(ut.a,{display:"flex",mt:2,mb:2,alignItems:"center",children:[Object(C.jsx)(B.a,{weight:"medium",children:"I confirm the data provided is correct & hereby sign this declaration"}),Object(C.jsx)(yt.a,{checked:S.taxDeclaration[0].signed,onChange:function(e){return R(e)},name:"signed",color:"secondary"})]}),Object(C.jsx)(ut.a,{children:Object(C.jsx)(x.a,{disabled:!S.taxDeclaration[0].signed||""===S.taxDeclaration[0].employeeStatements_section1||""===S.taxDeclaration[0].employeeStatements_section2||""===S.taxDeclaration[0].employeeStatements_section3q1||"true"===S.taxDeclaration[0].employeeStatements_section3q1&&""===S.taxDeclaration[0].employeeStatements_section3q2||"true"===S.taxDeclaration[0].employeeStatements_section3q2&&""===S.taxDeclaration[0].employeeStatements_section3q3||"false"===S.taxDeclaration[0].employeeStatements_section3q3&&""===S.taxDeclaration[0].employeeStatements_section3q4||""!==S.taxDeclaration[0].employeeStatements_section3q4&&""===S.taxDeclaration[0].employeeStatements_section3q5,size:"large",fullWidth:!0,className:t.button,onClick:function(e){return I(e)},color:"secondary",variant:"contained",children:"Save"})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(ut.a,{display:"flex",mt:2,mb:2,alignItems:"center",children:[Object(C.jsx)(B.a,{weight:"medium",children:"I confirm the data provided is correct & hereby sign this declaration"}),Object(C.jsx)(yt.a,{disabled:!(!S.taxDeclaration[0].signed&&F),checked:S.taxDeclaration[0].signed,onChange:function(e){return R(e)},name:"signed",color:"secondary"})]}),Object(C.jsx)(ut.a,{children:Object(C.jsx)(x.a,{disabled:!S.taxDeclaration[0].signed||""===S.taxDeclaration[0].employeeStatements_section1||""===S.taxDeclaration[0].employeeStatements_section2||""===S.taxDeclaration[0].employeeStatements_section3q1||"true"===S.taxDeclaration[0].employeeStatements_section3q1&&""===S.taxDeclaration[0].employeeStatements_section3q2||"true"===S.taxDeclaration[0].employeeStatements_section3q2&&""===S.taxDeclaration[0].employeeStatements_section3q3||"false"===S.taxDeclaration[0].employeeStatements_section3q3&&""===S.taxDeclaration[0].employeeStatements_section3q4||""!==S.taxDeclaration[0].employeeStatements_section3q4&&""===S.taxDeclaration[0].employeeStatements_section3q5,size:"large",fullWidth:!0,className:t.button,onClick:function(e){return I(e)},color:"secondary",variant:"contained",children:"Save"})})]})]}):""})})})})]})})})},kt=function(e){var t=Object(n.useContext)(Ae),a=t.loadUser,r=t.user,i=t.isAdmin;return Object(n.useEffect)((function(){a()}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(ot,{isAdmin:i}),Object(C.jsx)(Nt,{activeUser:r,isAdmin:i})]})},At=a(284),Dt=a.n(At),Et=a(94),Ft=a.n(Et),Ut=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Tt=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Re.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Ft.a,{})}),name:"Import File"},{id:3,icon:Object(C.jsx)(s.b,{to:"/payments/new",children:Object(C.jsx)(Dt.a,{})}),name:"Manually Add Payment"}],It=function(){var e=Ut(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],i=a[1],c=function(){i(!1)};return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(xe.a,{ariaLabel:"Payments Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:c,onOpen:function(){i(!0)},open:n,FabProps:{color:"secondary"},children:Tt.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:c},e.name)}))})})},_t=function(e){var t=Object(n.useContext)(Ae);return Object(n.useEffect)((function(){t.loadUser()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(It,{}),Object(C.jsx)(Oe,{})]})},Rt=a(774),Bt=a(775),zt=a(776),qt=a(777),Gt=a(778),Lt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"}}})),Ht=(new Date).toUTCString();var Mt=function(e){Lt(),Object(n.useContext)(nt);var t=Object(n.useContext)(Fe),a=e.user,r=e.payments,i=Object(We.b)(),c=i.enqueueSnackbar,s=(i.closeSnackbar,Object(l.h)().id,t.loading),o=t.clearErrors,d=t.deletePayment,j=t.approvePayment,u=t.rejectPayment,p=t.holdPayment,O=t.pendingPayment,x=t.paidPayment,h=Object(l.g)();if(null!==r&&0===r.length&&!s)return Object(C.jsx)("h4",{children:"You have no payments recorded"});var g=function(e){j(e)},f=function(e){u(e)},y=function(e){var t=e.label,a=e.onDelete;return Object(C.jsx)(je.a,{variant:"outlined",color:"primary",label:t,onDelete:a})},v={filter:!0,filterType:"dropdown",sortOrder:{name:"paymentPeriodNum",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"payments-".concat(Ht,".csv")},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},selectableRowsHideCheckboxes:!1,onRowsDelete:function(e){e.data.length<=10?e.data.map((function(e){return r[e.dataIndex]})).forEach((function(e){e.user===a._id?(c("You cannot delete your own record",{variant:"error"}),o()):(c("Payment for QUBID ".concat(e.QUBID," deleted"),{variant:"success"}),d(e._id))})):(t.loading=!0,e.data.map((function(e){return r[e.dataIndex]})).forEach((function(e){e._id===a._id?(c("You cannot delete your own record",{variant:"error"}),o()):d(e._id)})),t.loading=!1)}},S=[{name:"_id",label:"UserId",options:{filter:!1,display:!1,download:!1,sort:!1}},{name:"paymentPeriodNum",label:"Month",options:{filter:!1,display:!1,download:!0,sort:!0}},{name:"paymentPeriod",label:"Month",options:{filter:!1,display:!0,download:!0,sort:!0,customBodyRender:function(e){return t=e,oe.map((function(e){return e.value}))[t-1];var t}}},{name:"QUBID",label:"QUBID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"academicYear",label:"Year",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"account",label:"Account",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"deliveredBy",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"amount",label:"Amount",options:{filter:!0,display:!0,download:!1,sort:!1,customBodyRender:function(e,t,a){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)}}},{name:"amount",label:"amount",options:{filter:!0,display:!1,download:!0,sort:!1,customBodyRender:function(e,t,a){return new Intl.NumberFormat("en-GB",{style:"decimal",minimumFractionDigits:"2"}).format(e)}}},{name:"paymentStatus",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"updatedByUserDate",label:"Updated",options:{filter:!0,display:!1,download:!0,sort:!1}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRender:function(e,t,a){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{container:!0,direction:"row",justify:"space-between",children:"Rejected"===t.rowData.find((function(e){return"Rejected"===e}))||"Paid"===t.rowData.find((function(e){return"Paid"===e}))?"":"Pending"===t.rowData.find((function(e){return"Pending"===e}))?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(B.a,{color:"primary",align:"center",children:[Object(C.jsx)(Rt.a,{fontSize:"small",onClick:function(){return g(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Approve"})]}),Object(C.jsxs)(B.a,{color:"secondary",align:"center",children:[Object(C.jsx)(Bt.a,{fontSize:"small",onClick:function(){f(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Reject"})]}),Object(C.jsxs)(B.a,{color:"textSecondary",align:"center",children:[Object(C.jsx)(zt.a,{fontSize:"small",onClick:function(e){!function(e){p(e)}(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Hold"})]})]}):"On Hold"===t.rowData.find((function(e){return"On Hold"===e}))?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(B.a,{color:"primary",align:"center",children:[Object(C.jsx)(Rt.a,{fontSize:"small",onClick:function(){return g(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Approve"})]}),Object(C.jsxs)(B.a,{color:"secondary",align:"center",children:[Object(C.jsx)(Bt.a,{fontSize:"small",onClick:function(){f(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Reject"})]}),Object(C.jsxs)(B.a,{color:"textSecondary",align:"center",children:[Object(C.jsx)(qt.a,{fontSize:"small",onClick:function(){!function(e){O(e)}(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Pending"})]})]}):Object(C.jsxs)(B.a,{style:{color:"green"},align:"center",children:[Object(C.jsx)(Gt.a,{fontSize:"small",onClick:function(){return function(e){x(e)}(t.rowData[0])}}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"Paid"})]})})})}}},{name:"",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRender:function(e,t,a){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{container:!0,direction:"row",alignContent:"center",alignItems:"center",children:Object(C.jsxs)(B.a,{align:"center",children:[Object(C.jsx)(ue.a,{fontSize:"small",onClick:function(){return function(e){var t="/payments/".concat(e);h.push(t)}(t.rowData[0])},userID:t.rowData[0]}),Object(C.jsx)(B.a,{align:"center",display:"block",variant:"caption",children:"View"})]})})})}}}];return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===r||s?Object(C.jsx)(w,{}):Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(me.a,{title:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"User Payments"}),Object(C.jsx)(B.a,{variant:"caption",children:"To approve payments individually, please select a row"})]}),data:r,columns:S,options:v,components:{TableFilterList:function(e){return Object(C.jsx)(be.TableFilterList,Object(b.a)(Object(b.a)({},e),{},{ItemComponent:y}))}}})})})})})})},Wt=a(133),Yt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"}}})),Qt=function(e){var t=Yt(),a=e.onClickReject,r=e.onClickApprove,i=e.onClickPaid;return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Wt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:4,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(x.a,{onClick:function(){a()},variant:"contained",color:"secondary",children:"Reject All Pending"})}),Object(C.jsxs)(m.a,{item:!0,xs:8,className:Object(g.default)(t.root,t.right),children:[Object(C.jsx)(x.a,{variant:"contained",component:s.b,to:"/payments/new",color:"default",children:"Add Payment"}),Object(C.jsx)(x.a,{onClick:function(){r()},variant:"contained",color:"primary",children:"Approve All Pending"}),Object(C.jsx)(x.a,{onClick:function(){i()},variant:"contained",style:{backgroundColor:"green",color:"white"},children:"Mark All As Paid"})]})]})})})})})},Vt=a(763),Jt=a(21),Kt=function(e){var t=Object(Jt.a)(),a=Object(Vt.a)(t.breakpoints.down("sm")),n=e.hideForm,r=e.stage,i=e.finalisePayment,c=e.invoiceTotal,s=e.RejectAllPayments,l=e.ApproveAllPayments,o=e.PaidAllPayments;return Object(C.jsxs)("div",{children:[Object(C.jsxs)(Ye.a,{fullScreen:a,open:"SubmitPaymentForm"===r,onClose:n,"aria-labelledby":"responsive-dialog-title",children:[Object(C.jsx)(Qe.a,{id:"responsive-dialog-title",children:"Confirmation Required"}),Object(C.jsxs)(Ve.a,{children:[Object(C.jsxs)(Je.a,{children:["You are about to finalise a payment to the value of \xa3",c,"."]}),Object(C.jsx)(Je.a,{children:"Do you want to continue?"})]}),Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{autoFocus:!0,onClick:n,color:"primary",children:"Cancel"}),Object(C.jsx)(x.a,{onClick:function(){i()},color:"primary",autoFocus:!0,children:"Continue"})]})]}),Object(C.jsxs)(Ye.a,{fullScreen:a,open:"RejectAllPayments"===r||"ApproveAllPayments"===r||"PaidAllPayments"===r,onClose:n,"aria-labelledby":"responsive-dialog-title",children:[Object(C.jsx)(Qe.a,{id:"responsive-dialog-title",children:"Confirmation Required"}),Object(C.jsxs)(Ve.a,{children:[Object(C.jsxs)(Je.a,{children:["You are about to","RejectAllPayments"===r?" REJECT ALL pending Payments!":"ApproveAllPayments"===r?" APPROVE ALL pending Payments!":"PaidAllPayments"===r?" set ALL APPROVED payments to Paid":""]}),Object(C.jsx)(Je.a,{children:"Do you want to continue?"})]}),Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{autoFocus:!0,onClick:n,color:"primary",children:"Cancel"}),"RejectAllPayments"===r?Object(C.jsx)(x.a,{onClick:function(){s()},color:"primary",autoFocus:!0,children:"Reject All"}):"ApproveAllPayments"===r?Object(C.jsx)(x.a,{onClick:function(){l()},color:"primary",autoFocus:!0,children:"Approve All"}):"PaidAllPayments"===r?Object(C.jsx)(x.a,{onClick:function(){o()},color:"primary",autoFocus:!0,children:"Set All to Paid"}):"Something Went Wrong"]})]})]})},Xt=function(e){var t=Object(n.useContext)(Ae),a=Object(n.useContext)(Fe),r=t.loadUser,i=t.isAdmin,c=t.user,s=a.getPayments,l=a.payments,o=a.loading,d=a.setLoading,j=a.error,b=a.clearErrors,m=a.rejectAllPayments,p=a.approveAllPayments,O=a.paidAllPayments,x=Object(We.b)(),h=x.enqueueSnackbar;x.closeSnackbar;Object(n.useEffect)((function(){r(),s(),t.loading||i||e.history.push("/"),j&&(h(j,{variant:"error"}),b())}),[i,e.history,j,o]);var g=Object(n.useState)(!1),f=Object(u.a)(g,2),y=f[0],v=f[1],S=Object(n.useState)(""),P=Object(u.a)(S,2),N=P[0],k=P[1],A=function(){v(!0)},D=function(){v(!1)};return Object(C.jsx)(C.Fragment,{children:o?Object(C.jsx)(w,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(It,{}),Object(C.jsx)(Qt,{onClickReject:function(){A(),k("RejectAllPayments")},onClickApprove:function(){A(),k("ApproveAllPayments")},onClickPaid:function(){A(),k("PaidAllPayments")}}),Object(C.jsx)(Mt,{user:c,isAdmin:i,payments:l}),y&&Object(C.jsx)(Kt,{RejectAllPayments:function(){D(),k(""),d(),m(),s()},ApproveAllPayments:function(){D(),k(""),d(),p(),s()},PaidAllPayments:function(){D(),k(""),d(),O(),s()},hideForm:D,stage:N})]})})},Zt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),$t=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Re.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Ft.a,{})}),name:"Import File"}],ea=function(){var e=Zt(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],i=a[1],c=function(){i(!1)};return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(xe.a,{ariaLabel:"Payments Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:c,onOpen:function(){i(!0)},open:n,FabProps:{color:"secondary"},children:$t.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:c},e.name)}))})})},ta=a(33),aa=a(5),na=a(781),ra=a(755),ia=a(757),ca=a(756),sa=a(767),la=a(396),oa=a(768),da=a(401),ja=a(398),ua=a(397),ba=a(215),ma=a(764),pa=Object(h.a)((function(e){return{table:{width:"auto",tableLayout:"auto",fontSize:[10,"!important"]}}})),Oa=function(){var e=pa();return Object(C.jsx)(m.a,{children:Object(C.jsx)(sa.a,{component:Wt.a,children:Object(C.jsxs)(la.a,{className:Object(g.default)(e.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"center",children:"Marking Range"}),Object(C.jsx)(ja.a,{align:"center",children:"Definition"}),Object(C.jsx)(ja.a,{align:"center",children:"Examples"}),Object(C.jsx)(ja.a,{align:"center",children:"Duration"}),Object(C.jsx)(ja.a,{align:"center",children:"Min Competence Level"})]})}),Object(C.jsxs)(ua.a,{className:Object(g.default)(e.table),children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"center",children:"A"}),Object(C.jsx)(ja.a,{align:"left",children:"Very well-defined marking criteria; working to prepared/model answer(s); limited academic discretion/judgement required; high level of specialist knowledge not required"}),Object(C.jsx)(ja.a,{align:"left",children:"Mathematical, technical and computational assessments, such as lab books and other assignments which map onto the criteria listed under Definition A"}),Object(C.jsx)(ja.a,{align:"left",children:"6 pieces per hour (10 mins per piece1)"}),Object(C.jsx)(ja.a,{align:"center",children:"AC1/PGR A"})]},1),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"center",children:"B"}),Object(C.jsx)(ja.a,{align:"left",children:"Well-defined criteria; some guidance provided on model answer, but requires interpretation of responses based on academic judgement/discretion; a level of specialist knowledge required as well as the ability to assess application and analysis of key principles in the discipline"}),Object(C.jsx)(ja.a,{align:"left",children:"Shorter written pieces requiring significant correction/annotation eg language marking (AEL); tutorial package i.e. presentation & reflective reports (HAPP);  mathematical coursework, technical and computational assessments, such as lab books and other assignments which map onto the criteria listed under Definition B"}),Object(C.jsx)(ja.a,{align:"left",children:"3 pieces per hour (20 mins per piece)"}),Object(C.jsx)(ja.a,{align:"center",children:"AC1/PGR A"})]},2),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"center",children:"C"}),Object(C.jsx)(ja.a,{align:"left",children:"Broad criteria to be applied, requiring substantial academic judgement to assess evidence of students' higher-level skills (e.g.interpretation/application/ analysis/synthesis/evaluation of materials and concepts); ability to undertake independent assessment and good level of specialist knowledge required"}),Object(C.jsx)(ja.a,{align:"left",children:"Essay/Substantial written piece;  mathematical coursework, technical and computational assessments, such as lab books and other assignments which map onto the criteria listed under Definition C"}),Object(C.jsx)(ja.a,{size:"medium",align:"left",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:"2-3000 = 20 mins (3 pieces per hour)"}),Object(C.jsx)("li",{children:"3-4000 = 30 mins (2 pieces per hour)"}),Object(C.jsx)("li",{children:"4-5000 = 40 mins (1.5 per hour)"}),Object(C.jsx)("li",{children:"Greater than 5000 words = 45 mins (2 per 1.5 hours or 4 per 3 hours)"}),Object(C.jsx)("li",{children:"Lab books and other assignments within mathematical, technical and computational assessments in range C = 30 mins (2 pieces per hour)"})]})}),Object(C.jsx)(ja.a,{align:"center",children:"AC2/PGR B"})]},3),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"center",children:"D"}),Object(C.jsx)(ja.a,{align:"left",children:"Well-defined criteria, but requires interpretation of responses based on a level of specialist knowledge and the ability to assess application and analysis of key principles"}),Object(C.jsx)(ja.a,{align:"left",children:"Oral Exam"}),Object(C.jsx)(ja.a,{align:"left",children:"Duration of the exam, including examiner discussion, plus 0.5 hours per hour of exam"}),Object(C.jsx)(ja.a,{align:"center",children:"AC2/PGR B"})]},4)]})]})})})},xa="\xa3",ha=14.73,ga=17.57,fa=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"},table:{width:"100%",tableLayout:"auto"},spacer:{marginTop:e.spacing(2)},textField:{"& > *":{}},footer:{minHeight:100},inputField:{textAlign:"center"},inputCenter:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14)},inputEdit:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14),backgroundColor:"#edfced"},finalButton:{margin:e.spacing(2)},BandB:{backgroundColor:"white",color:"white !important"}}})),ya=Object(aa.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:1200,border:"1px solid #dadde9"}}}))(pt.a);function va(e){return"".concat(e.toFixed(2))}function Sa(e){return e.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0)}function Ca(e){return e.filter((function(e){return"AC1"===e.grade||"Band A"===e.grade})).reduce((function(e,t){return e+t.totalPaidHours}),0)}function Pa(e){return e.filter((function(e){return"AC2"===e.grade||"Band B"===e.grade})).reduce((function(e,t){return e+t.totalPaidHours}),0)}function wa(e){return e.reduce((function(e,t){return e*t.count}),1)}function Na(e,t){return("0"+e).substr(-t)}var ka=function(e){var t=fa(),a=Object(n.useContext)(Fe),i=Object(We.b)(),c=i.enqueueSnackbar,o=(i.closeSnackbar,a.payments),d=a.addPayment,j=a.loading,p=a.error,O=Object(l.g)();Object(l.h)().id;Object(n.useEffect)((function(){null!==e.activeUsers?ne(e.activeUsers):ne([{_id:0,firstName:"",lastName:"",QUBID:""}]),p&&c(p,{variant:"error"})}),[e.activeUsers]);var h=(new Date).getMonth()+1,f=Object(n.useState)({user:"",deliveredBy:"TA",school:"Electronics, Electrical Engineering and Computer Science",academicYear:"2020/2021",paymentPeriod:h,paymentPeriodYear:(new Date).getFullYear(),paymentPeriodNum:parseInt((new Date).getFullYear().toString()+Na(h.toString(),2)),semester:"1",QUBID:"10000000",account:6202,projectCode:"A2517EEC",projectName:"",subAnalysis:"",amount:0,student_cohort:!0,cohort_id:"26",paymentStatus:"Pending",grade1:"AC1",grade2:"AC2",rate1:ha,rate2:ga}),y=Object(u.a)(f,2),v=y[0],S=y[1],P=Object(n.useState)([{range:"A",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"B",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-1",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-2",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-3",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-4",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-5",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"D",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0}]),N=Object(u.a)(P,2),k=N[0],A=N[1],D=Object(n.useState)([{description:"No of Seminar Groups per week",count:0},{description:"No of weeks",count:0}]),E=Object(u.a)(D,2),F=E[0],T=E[1],I=Object(n.useState)({lecture:[{activity:"Prep - 1st delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0}],seminar:[{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (2hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],lab:[{activity:"Prep - 1st delivery (0.5hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],fieldTrip:[{activity:"Number of contact hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],office:[{activity:"0.5 hours per seminar group per week",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],marking:[{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Oral Exam",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],training:[{activity:"Number of hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}]}),_=Object(u.a)(I,2),R=_[0],z=_[1],q=Object(n.useState)({rate1:ha,rate2:ga}),G=Object(u.a)(q,2),L=G[0],H=G[1],M=Object(n.useState)({panel1:!1,panel2:!0,panel3:!0,resetButton:!0,addPaymentButton:!0}),W=Object(u.a)(M,2),Y=W[0],Q=W[1],V=Object(n.useState)({panel1:!0,panel2:!1,panel3:!1}),J=Object(u.a)(V,2),K=J[0],X=J[1],ee=Object(n.useState)([]),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(u.a)(re,2),je=ie[0],ue=ie[1],be=Object(n.useState)({grade1:"AC1",grade2:"AC2"}),me=Object(u.a)(be,2),pe=me[0],Oe=me[1],xe=Object(n.useState)(!1),he=Object(u.a)(xe,2),ge=he[0],fe=he[1],ye=Object(n.useState)(""),ve=Object(u.a)(ye,2),Se=ve[0],Ce=ve[1],Pe=function(e,t,a,n,r){var i,c="";switch(t){case 1:"TA"===e.target.value?(H({rate1:va(ha),rate2:va(ga)}),Oe({grade1:"AC1",grade2:"AC2"})):(H({rate1:va(15.01),rate2:va(20.01)}),Oe({grade1:"Band A",grade2:"Band B"})),S(Object(b.a)(Object(b.a)({},v),{},(i={},Object(Z.a)(i,e.target.name,e.target.value),Object(Z.a)(i,"grade1",pe.grade1),Object(Z.a)(i,"rate1",L.rate1),Object(Z.a)(i,"grade2",pe.grade2),Object(Z.a)(i,"rate2",L.rate2),i)));break;case 2:if(v.paymentPeriodNum=parseInt(v.paymentPeriodYear.toString()+Na(v.paymentPeriod.toString(),2)),"user"===e.target.name){var s=ae.filter((function(t){return t._id===e.target.value}));v.QUBID=s[0].QUBID}S(Object(b.a)(Object(b.a)({},v),{},Object(Z.a)({},e.target.name,e.target.value)));break;case 3:n[e.target.name]=parseFloat(e.target.value),n.paymentGrade=a,c=n.paymentGrade===pe.grade1?L.rate1:L.rate2,n.totalhrs=parseFloat(n.count*n.time),n.payment=parseFloat(n.totalhrs*c),z(Object(b.a)({},R));break;case 4:n[e.target.name]=parseFloat(e.target.value),n.paymentGrade=a,c=n.paymentGrade===pe.grade1?L.rate1:L.rate2,n.payment=parseFloat(n.totalhrs*c),z(Object(b.a)({},R));break;case 5:switch(r){case"A":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.1667*k[n].total)),A(Object(ta.a)(k)),R.marking[0].time=parseFloat(va(Ca(k))),R.marking[0].totalhrs=parseFloat(va(Ca(k))),R.marking[0].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[0].payment=parseFloat(va(R.marking[0].time*c)),z(Object(b.a)({},R));break;case"B":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.3333*k[n].total)),A(Object(ta.a)(k)),R.marking[0].time=parseFloat(va(Ca(k))),R.marking[0].totalhrs=parseFloat(va(Ca(k))),R.marking[0].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[0].payment=parseFloat(va(R.marking[0].time*c)),z(Object(b.a)({},R));break;case"C-1":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.3333*k[n].total)),A(Object(ta.a)(k)),R.marking[1].time=parseFloat(va(Pa(k))),R.marking[1].totalhrs=parseFloat(va(Pa(k))),R.marking[1].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[1].payment=parseFloat(va(R.marking[1].time*c)),z(Object(b.a)({},R));break;case"C-2":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.5*k[n].total)),A(Object(ta.a)(k));break;case"C-3":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.6667*k[n].total)),A(Object(ta.a)(k)),R.marking[1].time=parseFloat(va(Pa(k))),R.marking[1].totalhrs=parseFloat(va(Pa(k))),R.marking[1].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[1].payment=parseFloat(va(R.marking[1].time*c)),z(Object(b.a)({},R));break;case"C-4":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.75*k[n].total)),A(Object(ta.a)(k)),R.marking[1].time=parseFloat(va(Pa(k))),R.marking[1].totalhrs=parseFloat(va(Pa(k))),R.marking[1].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[1].payment=parseFloat(va(R.marking[1].time*c)),z(Object(b.a)({},R));break;case"C-5":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(va(.5*k[n].total)),A(Object(ta.a)(k)),R.marking[1].time=parseFloat(va(Pa(k))),R.marking[1].totalhrs=parseFloat(va(Pa(k))),R.marking[1].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[1].payment=parseFloat(va(R.marking[1].time*c)),z(Object(b.a)({},R));break;case"D":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseFloat(1.5*k[n].OralExamHours),k[n].totalPaidHours=parseFloat(va(k[n].total)),A(Object(ta.a)(k)),R.marking[2].totalhrs=parseFloat(1.5*k[n].OralExamHours),R.marking[2].paymentGrade=a,c=k[n].grade===pe.grade1?L.rate1:L.rate2,R.marking[2].payment=parseFloat(va(R.marking[2].totalhrs*c)),z(Object(b.a)({},R))}break;case 6:F[n][e.target.name]=parseInt(e.target.value),T(Object(ta.a)(F)),R.office[0].paymentGrade=a,R.office[0].time=wa(F),R.office[0].totalhrs=parseInt(.5*wa(F)),R.office[0].payment=parseFloat(R.office[0].totalhrs*L.rate1),z(Object(b.a)({},R));break;default:S(Object(b.a)(Object(b.a)({},v),{},Object(Z.a)({},e.target.name,e.target.value)))}},we=function(){fe(!1)},Ne=Sa(R.training)+Sa(R.marking)+Sa(R.office)+Sa(R.fieldTrip)+Sa(R.lab)+Sa(R.seminar)+Sa(R.lecture),Ae=k.reduce((function(e,t){return e+t.totalPaidHours}),0),De=wa(F),Ee=Ne;return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===o||j?Object(C.jsx)(w,{}):Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Wt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:8,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"Add New Payment"}),Object(C.jsx)(B.a,{variant:"caption",children:"Teaching Support Framework - Contract and Payment Calculator"})]})}),Object(C.jsxs)(m.a,{item:!0,xs:4,className:Object(g.default)(t.root,t.right),children:[Object(C.jsx)(x.a,{variant:"contained",component:s.b,to:"/payments/",color:"secondary",children:"Back to Payments"}),Object(C.jsx)(x.a,{disabled:Y.resetButton,variant:"contained",onClick:function(){T([{description:"No of Seminar Groups per week",count:0},{description:"No of weeks",count:0}]),ue(!1),v.user="",S({user:"",deliveredBy:"",school:"",academicYear:"",paymentPeriod:"",paymentPeriodNum:"",paymentPeriodYear:"",semester:"",QUBID:"",account:"",projectCode:"",projectName:"",subAnalysis:"",amount:0,student_cohort:!0,cohort_id:"00",paymentStatus:"Pending"}),H({rate1:14.73,rate2:17.57}),Q({panel1:!1,panel2:!0,panel3:!0,resetButton:!0,addPaymentButton:!0}),X({panel1:!0,panel2:!1,panel3:!1}),z({lecture:[{activity:"Prep - 1st delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0}],seminar:[{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (2hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],lab:[{activity:"Prep - 1st delivery (0.5hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],fieldTrip:[{activity:"Number of contact hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],office:[{activity:"0.5 hours per seminar group per week",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],marking:[{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Oral Exam",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],training:[{activity:"Number of hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}]}),A([{range:"A",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"B",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-1",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-2",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-3",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-4",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-5",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"D",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0}])},color:"secondary",children:"Reset"})]})]})})}),Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(ra.a,{defaultExpanded:!0,expanded:K.panel1,disabled:Y.panel1,children:[Object(C.jsx)(ia.a,{"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(B.a,{variant:"h5",children:"Set Payment"})})})}),Object(C.jsx)(ca.a,{children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),Q({panel1:!0,panel2:!1,panel3:!0,resetButton:!1,addPaymentButton:!0}),X({panel1:!1,panel2:!0,panel3:!1})}(e)},children:[Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:2,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.deliveredBy.length,helperText:0===v.deliveredBy.length?"Please select a value":"",required:!0,className:t.textField,fullWidth:!0,select:!0,variant:"outlined",name:"deliveredBy",label:"Delivered By",value:v.deliveredBy,onChange:function(e){return Pe(e,1)},children:se.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:2,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.semester.length,helperText:0===v.semester.length?"Please select a semester":"",required:!0,className:t.textField,fullWidth:!0,select:!0,variant:"outlined",name:"semester",label:"Semester",value:v.semester,onChange:function(e){return Pe(e)},children:ce.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:2,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.academicYear.length,helperText:0===v.academicYear.length?"Please select an academic year":"",required:!0,className:t.textField,fullWidth:!0,select:!0,variant:"outlined",name:"academicYear",label:"Academic Year",value:v.academicYear,onChange:function(e){return Pe(e)},children:le.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.paymentPeriod.length,helperText:0===v.paymentPeriod.length?"Please select a month":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"paymentPeriod",label:"Payment Month",value:v.paymentPeriod,onChange:function(e){return Pe(e,2)},children:oe.map((function(e){return Object(C.jsx)(U.a,{value:e.id,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.paymentPeriodYear.length,helperText:0===v.paymentPeriodYear.length?"Please select a payment year":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"paymentPeriodYear",label:"Payment Year",value:v.paymentPeriodYear,onChange:function(e){return Pe(e,2)},children:de.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.value},e.value)}))})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.user.length,helperText:0===v.user.length?"Please select a user":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"user",label:"Name",value:v.user,onChange:function(e){return Pe(e,2)},children:ae.map((function(e){return Object(C.jsx)(U.a,{value:e._id,children:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.QUBID,")")},e._id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.school.length,helperText:0===v.school.length?"Please select a school":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"school",label:"School",value:v.school,onChange:function(e){return Pe(e)},children:$.map((function(e){return Object(C.jsx)(U.a,{value:e.value,children:e.label},e.id)}))})})]}),Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,className:t.textField,variant:"outlined",name:"projectName",label:"Module",value:v.projectName,onChange:function(e){return Pe(e)}})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.right),children:Object(C.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",children:"Continue"})})]})]})})})]}),Object(C.jsxs)(ra.a,{expanded:K.panel2,disabled:Y.panel2,children:[Object(C.jsx)(ia.a,{"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(B.a,{variant:"h5",children:"Marking & Office Hours"})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.right),children:Object(C.jsx)(ya,{placement:"bottom-end",title:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(Oa,{})}),children:Object(C.jsx)(ke.a,{})})})]})}),Object(C.jsx)(ca.a,{children:Object(C.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),Q({panel1:!0,panel2:!0,panel3:!1,resetButton:!1,addPaymentButton:!0}),X({panel1:!1,panel2:!1,panel3:!0}),Ce("SubmitPaymentForm")}(e)},children:Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsx)(sa.a,{component:Wt.a,children:Object(C.jsxs)(la.a,{className:t.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",colSpan:4,children:"Marking hours Calculation (Exam / Non Exam / Coursework)"}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:"Range"}),Object(C.jsx)(ja.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(ja.a,{align:"center",children:"No of Students"}),Object(C.jsx)(ja.a,{align:"center",children:"No of Pieces of Coursework per Student"}),Object(C.jsx)(ja.a,{align:"center",children:"Oral Exam Contact Hours"}),Object(C.jsx)(ja.a,{align:"center",children:"Total"}),Object(C.jsx)(ja.a,{align:"center",children:"Total Paid hours"})]},Object(na.a)())]}),Object(C.jsxs)(ua.a,{children:[k.map((function(e,a){return Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:e.range}),Object(C.jsx)(ja.a,{align:"center",children:"A"===e.range||"B"===e.range?pe.grade1:pe.grade2}),"D"===e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,variant:"filled",name:"time"})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"numOfStudents",value:e.numOfStudents,onChange:function(t){"A"===e.range||"B"===e.range?Pe(t,5,pe.grade1,a,e.range):Pe(t,5,pe.grade2,a,e.range)}})}),"D"===e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,variant:"filled",name:"time"})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"numOfCWPcsPerStudent",value:e.numOfCWPcsPerStudent,onChange:function(t){"A"===e.range||"B"===e.range?Pe(t,5,pe.grade1,a,e.range):Pe(t,5,pe.grade2,a,e.range)}})}),"D"!==e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,variant:"filled",name:"time"})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"OralExamHours",value:e.OralExamHours,onChange:function(t){"A"===e.range||"B"===e.range?Pe(t,5,pe.grade1,a,e.range):Pe(t,5,pe.grade2,a,e.range)}})}),"D"!==e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"total",value:e.numOfCWPcsPerStudent*e.numOfStudents,onChange:function(t){"A"===e.range||"B"===e.range?Pe(t,5,pe.grade1,a,e.range):Pe(t,5,pe.grade2,a,e.range)}})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"total",value:e.OralExamHours,onChange:function(t){"A"===e.range||"B"===e.range?Pe(t,5,pe.grade1,a,e.range):Pe(t,5,pe.grade2,a,e.range)}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:e.totalPaidHours,onChange:function(t){"A"===e.range||"B"===e.range?Pe(t,5,pe.grade1,a,e.range):Pe(t,5,pe.grade2,a,e.range)}})})]},a)})),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"right",children:"Total Paid Hours"}),Object(C.jsx)(ja.a,{align:"center",children:parseFloat(va(Ae))})]},Object(na.a)())]})]})}),Object(C.jsx)(sa.a,{className:t.spacer,component:Wt.a,children:Object(C.jsxs)(la.a,{className:t.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:"Office hours Calculation"}),Object(C.jsx)(ja.a,{})]},Object(na.a)())}),Object(C.jsxs)(ua.a,{children:[F.map((function(e,a){return Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:e.description}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:e.count,onChange:function(t){return Pe(t,6,pe.grade1,a,e.range)}})})]},a)})),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count",value:parseFloat(va(De))})})]},Object(na.a)())]})]})}),Object(C.jsx)(sa.a,{className:Object(g.default)(t.spacer),component:Wt.a,children:Object(C.jsxs)(la.a,{className:Object(g.default)(t.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:"Lab Supervision/Demonstrating"}),Object(C.jsx)(ja.a,{})]},Object(na.a)())}),Object(C.jsxs)(ua.a,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.lab[3].activity}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:R.lab[3].totalhrs,onChange:function(e){return Pe(e,4,pe.grade1,R.lab[3])}})})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count",value:R.lab[3].totalhrs})})]},Object(na.a)())]})]})}),Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsxs)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.right),children:[Object(C.jsx)("div",{children:Object(C.jsxs)(B.a,{variant:"caption",children:["All values entered here will be calculated on the next view",Object(C.jsx)("p",{children:"Please check you have entered the correct details before proceeding"})]})}),Object(C.jsx)(x.a,{disabled:Y.panel2||0===De&&0===Ae&&0===R.lab[3].totalhrs,variant:"contained",type:"submit",color:"primary",children:"Continue"})]})})]})})})]}),Object(C.jsxs)(ra.a,{expanded:K.panel3,disabled:Y.panel3,children:[Object(C.jsx)(ia.a,{"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(B.a,{variant:"h5",children:"Enter Payment Details"})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:t.textField,variant:"outlined",name:"rate1",label:"".concat(pe.grade1," Rate"),value:L.rate1,InputProps:{startAdornment:Object(C.jsx)(ma.a,{position:"start",children:"\xa3"})}})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:t.textField,variant:"outlined",name:"rate2",label:"".concat(pe.grade2," Rate"),value:L.rate2,InputProps:{startAdornment:Object(C.jsx)(ma.a,{position:"start",children:"\xa3"})}})})]})}),Object(C.jsx)(ca.a,{children:Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsx)(sa.a,{component:Wt.a,children:Object(C.jsxs)(la.a,{className:t.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",colSpan:2,children:"Activity"}),Object(C.jsx)(ja.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(ja.a,{align:"center",children:"Delivery/ Completion time (hrs)"}),Object(C.jsx)(ja.a,{align:"center",children:"No of lectures/ Seminars/ Tutorials"}),Object(C.jsx)(ja.a,{align:"center",children:"Total hours"}),Object(C.jsx)(ja.a,{align:"center",children:"Payment \xa3"})]},Object(na.a)())}),Object(C.jsxs)(ua.a,{children:["Band B"!==pe.grade2?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:3,children:"Lecture"}),Object(C.jsx)(ja.a,{align:"left",children:R.lecture[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.lecture[0].time,onChange:function(e){return Pe(e,3,pe.grade2,R.lecture[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.lecture[0].count,onChange:function(e){return Pe(e,3,pe.grade2,R.lecture[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.lecture[0].count*R.lecture[0].time,onChangeCapture:function(e){return Pe(e,3,pe.grade2,R.lecture[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lecture[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.lecture[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.lecture[1].time,onChange:function(e){return Pe(e,3,pe.grade2,R.lecture[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.lecture[1].count,onChange:function(e){return Pe(e,3,pe.grade2,R.lecture[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.lecture[1].count*R.lecture[1].time,onChangeCapture:function(e){return Pe(e,3,pe.grade2,R.lecture[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lecture[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.lecture[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time",value:null,onChange:function(e){return Pe(e,3,pe.grade2,R.lecture[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count",value:null,onChange:function(e){return Pe(e,3,pe.grade2,R.lecture[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:R.lecture[2].totalhrs,onChange:function(e){return Pe(e,4,pe.grade2,R.lecture[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lecture[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Lectures"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.lecture)))})]},Object(na.a)())]}):"",Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:4,children:"Seminar / Tutorial / Oral Classes"}),Object(C.jsx)(ja.a,{align:"left",children:R.seminar[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.seminar[0].time,onChange:function(e){return Pe(e,3,pe.grade2,R.seminar[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.seminar[0].count,onChange:function(e){return Pe(e,3,pe.grade2,R.seminar[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.seminar[0].count*R.seminar[0].time,onChangeCapture:function(e){return Pe(e,3,pe.grade2,R.seminar[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.seminar[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.seminar[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.seminar[1].time,onChange:function(e){return Pe(e,3,pe.grade2,R.seminar[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.seminar[1].count,onChange:function(e){return Pe(e,3,pe.grade2,R.seminar[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.seminar[1].count*R.seminar[1].time,onChangeCapture:function(e){return Pe(e,3,pe.grade2,R.seminar[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.seminar[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.seminar[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.seminar[2].time,onChange:function(e){return Pe(e,3,pe.grade2,R.seminar[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.seminar[2].count,onChange:function(e){return Pe(e,3,pe.grade2,R.seminar[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.seminar[2].count*R.seminar[2].time,onChangeCapture:function(e){return Pe(e,3,pe.grade2,R.seminar[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.seminar[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.seminar[3].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:R.seminar[3].totalhrs,onChange:function(e){return Pe(e,4,pe.grade2,R.seminar[3])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.seminar[3].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Seminar/Tutorial/Oral Classes"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.seminar)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:4,children:"Lab Supervision / Demonstrating"}),Object(C.jsx)(ja.a,{align:"left",children:R.lab[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.lab[0].time,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.lab[0].count,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.lab[0].count*R.lab[0].time,onChangeCapture:function(e){return Pe(e,3,pe.grade1,R.lab[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lab[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.lab[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.lab[1].time,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.lab[1].count,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.lab[1].count*R.lab[1].time,onChangeCapture:function(e){return Pe(e,3,pe.grade1,R.lab[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lab[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.lab[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:R.lab[2].time,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:R.lab[2].count,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.lab[2].count*R.lab[2].time,onChange:function(e){return Pe(e,3,pe.grade1,R.lab[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lab[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.lab[3].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.lab[3].totalhrs,disableUnderline:!0})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.lab[3].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Lab Supervision/Demonstrating"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.lab)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{children:"Field Trip Assistance"}),Object(C.jsx)(ja.a,{align:"left",children:R.fieldTrip[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:R.fieldTrip[0].totalhrs,onChange:function(e){return Pe(e,4,pe.grade1,R.fieldTrip[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.fieldTrip[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Field Trip Assistance"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.fieldTrip)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{children:"Office Hours"}),Object(C.jsx)(ja.a,{align:"left",children:R.office[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.office[0].time,onChange:function(e){return Pe(e,3,pe.grade1,R.office[0])}})}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.office[0].totalhrs,onChange:function(e){return Pe(e,3,pe.grade1,R.office[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.office[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Office Hours"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.office)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:3,children:"Marking"}),Object(C.jsx)(ja.a,{align:"left",children:R.marking[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time",value:R.marking[0].time,onChange:function(e){return Pe(e,3,pe.grade1,R.marking[0])}})}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.marking[0].time,onChangeCapture:function(e){return Pe(e,3,pe.grade1,R.marking[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.marking[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.marking[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time",value:R.marking[1].time,onChangeCapture:function(e){return Pe(e,3,pe.grade2,R.marking[1])}})}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.marking[1].time,onChangeCapture:function(e){return Pe(e,3,pe.grade1,R.marking[1])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.marking[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:R.marking[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade2}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:R.marking[2].totalhrs,onChange:function(e){return Pe(e,4,pe.grade2,R.marking[2])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.marking[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Marking"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.marking)))})]},Object(na.a)()),"Band B"!==pe.grade2?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{children:"Training"}),Object(C.jsx)(ja.a,{align:"left",children:R.training[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:pe.grade1}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:R.training[0].totalhrs,onChange:function(e){return Pe(e,4,pe.grade1,R.training[0])}})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(R.training[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Training"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(xa).concat(va(Sa(R.training)))})]},Object(na.a)())]}):"",Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:3}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{colSpan:3}),Object(C.jsx)(ja.a,{align:"center"})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{colSpan:3,children:"Total"}),Object(C.jsx)(ja.a,{align:"center",children:"\xa3".concat(va(Ee))})]},Object(na.a)())]})]})}),Object(C.jsx)(m.a,{container:!0,spacing:4,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:t.finalButton,children:Object(C.jsx)(x.a,{fullWidth:!0,disabled:Y.panel3||0===Ee,variant:"contained",onClick:function(){fe(!0)},color:"primary",children:"Finalise Payment"})})})]})})]})]}),je?Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Wt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:8,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"Submit New Payment"}),Object(C.jsxs)(B.a,{variant:"caption",children:["A new Payment request to the value of"," ","".concat(xa).concat(va(Ee))," will be submitted"]})]})}),Object(C.jsx)(m.a,{item:!0,xs:4,className:Object(g.default)(t.root,t.right),children:Object(C.jsx)(x.a,{disabled:Y.addPaymentButton,variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=[Object(b.a)({},v),Object(b.a)({},R),Object(ta.a)(k),Object(ta.a)(F)];d(t),O.push("/payments")},children:"Submit Payment"})})]})})}):"",Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.footer,t.left),children:" "})})]})})}),ge&&Object(C.jsx)(Kt,{finalisePayment:function(e){Ce(""),we(),Q({panel1:!0,panel2:!0,panel3:!0,resetButton:!1,addPaymentButton:!1}),X({panel1:!1,panel2:!1,panel3:!1}),ue(!0),S(Object(b.a)(Object(b.a)({},v),{},{amount:va(Ee)}))},hideForm:we,stage:Se,invoiceTotal:va(Ee)})]})},Aa=function(){var e=Object(n.useContext)(Ae),t=Object(n.useContext)(Me),a=t.activeUsers,r=t.getActiveUsers,i=e.loadUser;return Object(n.useEffect)((function(){i(),r()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ea,{}),Object(C.jsx)(ka,{activeUsers:a})]})},Da="\xa3",Ea=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"},table:{minWidth:700},spacer:{marginTop:e.spacing(2)},textField:{"& > *":{}},footer:{minHeight:100},inputField:{textAlign:"center"},inputCenter:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14)},finalButton:{margin:e.spacing(2)}}}));function Fa(e){return"".concat(e.toFixed(2))}function Ua(e){return e.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0)}var Ta=function(e){var t=e.current,a=e.isAdmin,r=Ea(),i=Object(n.useState)(t),c=Object(u.a)(i,2),l=c[0],o=(c[1],Object(n.useState)(Object(ta.a)(t.paymentDetail.markingCalc))),d=Object(u.a)(o,2),j=d[0],b=(d[1],Object(n.useState)(Object(ta.a)(t.paymentDetail.officeHours))),p=Object(u.a)(b,2),O=p[0],h=(p[1],Object(n.useState)(t.paymentDetail.paymentCalc)),f=Object(u.a)(h,2),y=f[0],v=(f[1],Object(n.useState)({rate1:14.73,rate2:17.57})),S=Object(u.a)(v,2),P=S[0],w=(S[1],Object(n.useState)({grade1:"AC1",grade2:"AC2"})),N=Object(u.a)(w,2),k=N[0],A=(N[1],Ua(y.training)+Ua(y.marking)+Ua(y.office)+Ua(y.fieldTrip)+Ua(y.lab)+Ua(y.seminar)+Ua(y.lecture)),D=j.reduce((function(e,t){return e+t.totalPaidHours}),0),E=function(e){return e.reduce((function(e,t){return e*t.count}),1)}(O),F=A;return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Wt.a,{className:r.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:8,className:Object(g.default)(r.root,r.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"View Payment"}),Object(C.jsx)(B.a,{variant:"caption",children:"Teaching Support Framework - Contract and Payment Calculator"})]})}),Object(C.jsx)(m.a,{item:!0,xs:4,className:Object(g.default)(r.root,r.right),children:a&&Object(C.jsx)(x.a,{variant:"contained",component:s.b,to:"/payments/",color:"secondary",children:"Back to Payments"})})]})})}),Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(ra.a,{expanded:!0,children:[Object(C.jsx)(ia.a,{"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(B.a,{variant:"h5",children:"Marking & Office Hours"})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate1",label:"".concat(k.grade1," Rate"),value:P.rate1,InputProps:{startAdornment:Object(C.jsx)(ma.a,{position:"start",children:"\xa3"})}})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate2",label:"".concat(k.grade2," Rate"),value:P.rate2,InputProps:{startAdornment:Object(C.jsx)(ma.a,{position:"start",children:"\xa3"})}})})]})}),Object(C.jsx)(ca.a,{children:Object(C.jsx)("form",{children:Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsx)(sa.a,{component:Wt.a,children:Object(C.jsxs)(la.a,{className:r.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",colSpan:4,children:"Marking hours Calculation (Exam / Non Exam / Coursework)"}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:"Range"}),Object(C.jsx)(ja.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(ja.a,{align:"center",children:"No of Students"}),Object(C.jsx)(ja.a,{align:"center",children:"No of Pieces of Coursework per Student"}),Object(C.jsx)(ja.a,{align:"center",children:"Oral Exam Contact Hours"}),Object(C.jsx)(ja.a,{align:"center",children:"Total"}),Object(C.jsx)(ja.a,{align:"center",children:"Total Paid hours"})]},Object(na.a)())]}),Object(C.jsxs)(ua.a,{children:[l.paymentDetail.markingCalc.map((function(e,t){return Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:e.range}),Object(C.jsx)(ja.a,{align:"center",children:"A"===e.range||"B"===e.range?k.grade1:k.grade2}),"D"===e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time"})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"numOfStudents",value:e.numOfStudents})}),"D"===e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"numOfCWPcsPerStudent",value:e.numOfCWPcsPerStudent})}),"D"!==e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"OralExamHours",value:e.OralExamHours})}),"D"!==e.range?Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"total",value:e.numOfCWPcsPerStudent*e.numOfStudents})}):Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"total",value:e.OralExamHours})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:e.totalPaidHours})})]},t)})),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"right",children:"Total Paid Hours"}),Object(C.jsx)(ja.a,{align:"center",children:parseFloat(Fa(D))})]},Object(na.a)())]})]})}),Object(C.jsx)(sa.a,{className:Object(g.default)(r.spacer),component:Wt.a,children:Object(C.jsxs)(la.a,{className:Object(g.default)(r.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:"Office hours Calculation"}),Object(C.jsx)(ja.a,{})]},Object(na.a)())}),Object(C.jsxs)(ua.a,{children:[O.map((function(e,t){return Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:e.description}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:e.count})})]},t)})),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count",value:parseFloat(Fa(E))})})]},Object(na.a)())]})]})}),Object(C.jsx)(sa.a,{className:Object(g.default)(r.spacer),component:Wt.a,children:Object(C.jsxs)(la.a,{className:Object(g.default)(r.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:"Lab Supervision/Demonstrating"}),Object(C.jsx)(ja.a,{})]},Object(na.a)())}),Object(C.jsxs)(ua.a,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.lab[3].activity}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[3].totalhrs})})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(ja.a,{align:"right",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[3].totalhrs})})]},Object(na.a)())]})]})})]})})})]}),Object(C.jsxs)(ra.a,{expanded:!0,children:[Object(C.jsx)(ia.a,{"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(B.a,{variant:"h5",children:"Other Payment Details"})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate1",label:"".concat(k.grade1," Rate"),value:P.rate1,InputProps:{startAdornment:Object(C.jsx)(ma.a,{position:"start",children:"\xa3"})}})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate2",label:"".concat(k.grade2," Rate"),value:P.rate2,InputProps:{startAdornment:Object(C.jsx)(ma.a,{position:"start",children:"\xa3"})}})})]})}),Object(C.jsx)(ca.a,{children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(sa.a,{component:Wt.a,children:Object(C.jsxs)(la.a,{className:r.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(oa.a,{children:Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",colSpan:2,children:"Activity"}),Object(C.jsx)(ja.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(ja.a,{align:"center",children:"Delivery/ Completion time (hrs)"}),Object(C.jsx)(ja.a,{align:"center",children:"No of lectures/ Seminars/ Tutorials"}),Object(C.jsx)(ja.a,{align:"center",children:"Total hours"}),Object(C.jsx)(ja.a,{align:"center",children:"Payment \xa3"})]},Object(na.a)())}),Object(C.jsxs)(ua.a,{children:[Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:3,children:"Lecture"}),Object(C.jsx)(ja.a,{align:"left",children:y.lecture[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lecture[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lecture[0].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lecture[0].count*y.lecture[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lecture[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.lecture[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lecture[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lecture[1].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lecture[1].count*y.lecture[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lecture[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.lecture[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time",value:null})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count",value:null})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lecture[2].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lecture[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Lectures"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.lecture)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:4,children:"Seminar / Tutorial / Oral Classes"}),Object(C.jsx)(ja.a,{align:"left",children:y.seminar[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.seminar[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.seminar[0].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[0].count*y.seminar[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.seminar[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.seminar[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.seminar[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.seminar[1].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[1].count*y.seminar[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.seminar[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.seminar[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.seminar[2].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.seminar[2].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[2].count*y.seminar[2].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.seminar[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.seminar[3].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[3].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.seminar[3].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Seminar/Tutorial/Oral Classes"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.seminar)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:4,children:"Lab Supervision / Demonstrating"}),Object(C.jsx)(ja.a,{align:"left",children:y.lab[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lab[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[0].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[0].count*y.lab[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lab[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.lab[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lab[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[1].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[1].count*y.lab[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lab[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.lab[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lab[2].time})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[2].count})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[2].count*y.lab[2].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lab[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.lab[3].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[3].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.lab[3].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Lab Supervision/Demonstrating"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.lab)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{children:"Field Trip Assistance"}),Object(C.jsx)(ja.a,{align:"left",children:y.fieldTrip[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.fieldTrip[0].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.fieldTrip[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Field Trip Assistance"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.fieldTrip)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{children:"Office Hours"}),Object(C.jsx)(ja.a,{align:"left",children:y.office[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.office[0].time})}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.office[0].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.office[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Office Hours"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.office)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:3,children:"Marking"}),Object(C.jsx)(ja.a,{align:"left",children:y.marking[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.marking[0].time})}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.marking[0].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.marking[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.marking[1].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.marking[1].time})}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.marking[1].time})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.marking[1].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{align:"left",children:y.marking[2].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade2}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.marking[2].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.marking[2].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Marking"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.marking)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{children:"Training"}),Object(C.jsx)(ja.a,{align:"left",children:y.training[0].activity}),Object(C.jsx)(ja.a,{align:"center",children:k.grade1}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{align:"center",children:Object(C.jsx)(ba.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.training[0].totalhrs})}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(y.training[0].payment))})]},Object(na.a)()),Object(C.jsxs)(da.a,{selected:!0,children:[Object(C.jsx)(ja.a,{colSpan:6,align:"left",children:"Total Training"}),Object(C.jsx)(ja.a,{align:"center",children:"".concat(Da).concat(Fa(Ua(y.training)))})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{rowSpan:3}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{colSpan:3}),Object(C.jsx)(ja.a,{align:"center"})]},Object(na.a)()),Object(C.jsxs)(da.a,{children:[Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{}),Object(C.jsx)(ja.a,{colSpan:3,children:"Total"}),Object(C.jsx)(ja.a,{align:"center",children:"\xa3".concat(Fa(F))})]},Object(na.a)())]})]})})})})]})]}),Object(C.jsx)(m.a,{container:!0,spacing:30,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(r.footer,r.left),children:" "})})]})})})})},Ia=function(){var e=Object(n.useContext)(Ae),t=Object(n.useContext)(Me),a=Object(n.useContext)(Fe),r=a.getPayment,i=a.loading,c=a.current,s=a.clearCurrent,o=t.getActiveUsers,d=e.loadUser,j=e.isAdmin,u=Object(l.h)().id;return Object(n.useEffect)((function(){s(),r(u)}),[u]),Object(n.useEffect)((function(){d(),o()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ea,{}),!i&&c?Object(C.jsx)(Ta,{current:c,isAdmin:j}):Object(C.jsx)(w,{})]})},_a=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Ra=function(){var e=_a(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){i(!1)},l=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Re.a,{})}),name:"Back"}];return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(xe.a,{ariaLabel:"About Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:c,onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:l.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:c},e.id)}))})})},Ba=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(Ra,{}),Object(C.jsx)("h1",{children:"About this app"}),Object(C.jsx)("p",{children:"This is a full stack react app created by Glenn Marshall-Adams"}),Object(C.jsx)("p",{children:"This app has been designed as part of an MSc Project and is intended to manage the tracking of payments for Queens University Belfast"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("strong",{children:"Version: "})," 1.0.0"]})]})},za=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),qa=function(){var e=za(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(Me),l=c.setDialogOpen,o=c.setDialogClosed,d=c.toggleDialog;function j(e,t){e.preventDefault(),2===t&&l()}var b=[{id:1,icon:Object(C.jsx)(s.b,{to:"/UserAdmin",children:Object(C.jsx)(Re.a,{})}),name:"Back"},{id:3,icon:Object(C.jsx)(s.b,{to:"/importNSP",children:Object(C.jsx)(He.a,{})}),name:"Import NSP Data"}];return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(xe.a,{ariaLabel:"User Import Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(t){j(t,e.id)}},e.id)}))}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(et,{open:d,onClose:function(){o()}})})]})},Ga=a(227),La=a.n(Ga),Ha=a(135),Ma=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)},textField:{margin:e.spacing(1),width:"54ch"}}})),Wa=function(){var e=Ma(),t=Object(n.useContext)(Me),a=t.addUser,r=t.error,i=t.clearErrors,c=Object(n.useState)({file:""}),s=Object(u.a)(c,2),l=s[0],o=s[1],d=Object(n.useState)([]),j=Object(u.a)(d,2),b=j[0],p=j[1],O=Object(We.b)(),h=O.enqueueSnackbar,f=(O.closeSnackbar,Object(n.useRef)(null));Object(n.useEffect)((function(){r&&(h(r,{variant:"error"}),i())}),[r]);var y=function(e){new Promise((function(t,a){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var a=e.target.result,n=Ha.read(a,{type:"buffer"}),r=n.SheetNames[0],i=n.Sheets[r],c=Ha.utils.sheet_to_json(i);t(c)},n.onerror=function(e){a(e)}})).then((function(e){p(e)}))},v=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t},S={filter:!0,filterType:"dropdown",sortOrder:{name:"QUBID",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"userAdminDownload.csv"},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},onRowsDelete:function(e){var t=e.data.map((function(e){return b[e.dataIndex]})),a=b.filter((function(e){return!t.includes(e)}));p(a)}};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,spacing:1,children:Object(C.jsx)(Wt.a,{className:e.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.root,e.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"Multi User Account Import"}),Object(C.jsx)(B.a,{variant:"caption",children:"Please only use the excel template provided, do not attempt to amend this in anyway"})]})}),Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.root,e.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:e.input,id:"contained-button-file",type:"file",ref:f,onChange:function(e){try{e.stopPropagation(),e.preventDefault();var t=e.target.files[0];y(t),o({file:t}),h("File ".concat(t.name," is ready to be imported"),{variant:"success"})}catch(r){console.error(r.message),h("File ".concat(t.name," cannot be imported"),{variant:"error"})}}}),Object(C.jsx)("label",{htmlFor:"contained-button-file",children:Object(C.jsx)(x.a,{component:"span",size:"large",className:e.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(La.a,{}),onClick:function(e){f.current.focus()},children:"Select File to Upload"})}),Object(C.jsx)(Ke.a,{className:e.textField,component:"span",disabled:!0,id:"filename",type:"text",name:"filename",value:l.file.name})]})})]})})}),null!==b?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{item:!0,xs:12,spacing:1,children:[Object(C.jsx)(me.a,{data:b,columns:[{name:"QUBID",label:"ID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"firstName",label:"First Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"lastName",label:"Last Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"role",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"status",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1,customBodyRenderLite:function(e){return"Pending"}}}],options:S}),Object(C.jsx)(x.a,{component:"span",size:"large",className:e.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(Ft.a,{}),onClick:function(e){e.preventDefault();try{b.map((function(e){var t={address:[{street:"",city:"",county:"",country:"",postcode:""}],contact:[{mobile:"",landline:""}],bank:[{bankName:"",branchName:"",sortCode:"",accNumber:"",buildingSocietyNumber:""}],status:"Pending",password:v(10),taxDeclaration:[{employeeStatements_section1:"",employeeStatements_section2:"",employeeStatements_section3q1:"",employeeStatements_section3q2:"",employeeStatements_section3q3:"",employeeStatements_section3q4:"",employeeStatements_section3q5:"",signed:!1,signedDate:""}]},n=Object.assign(e,t);a(n)})),p([])}catch(t){console.error(t.message),h(r,{variant:"error"})}},children:"Publish File"})]})}):Object(C.jsx)(w,{})]})})},Ya=function(e){var t=Object(We.b)(),a=t.enqueueSnackbar,r=(t.closeSnackbar,Object(n.useContext)(Ae)),i=r.loadUser,c=r.isAdmin,s=Object(n.useContext)(Me),l=s.importedUsersAdded,o=s.error,d=s.clearErrors;return Object(n.useEffect)((function(){i(),c||e.history.push("/"),l?(e.history.push("/userAdmin"),d()):o&&(a(o,{variant:"error"}),d())}),[l,c,e.history]),console.log(c),Object(C.jsxs)("div",{children:[Object(C.jsx)(qa,{}),Object(C.jsx)("div",{className:"grid-1",children:Object(C.jsx)(Wa,{isAdmin:c})})]})},Qa=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Va=function(){var e=Qa(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(Me),l=c.setDialogOpen,o=c.setDialogClosed,d=c.toggleDialog;function j(e,t){e.preventDefault(),2===t&&l()}var b=[{id:1,icon:Object(C.jsx)(s.b,{to:"/UserAdmin",children:Object(C.jsx)(Re.a,{})}),name:"Back"},{id:3,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Ge.a,{})}),name:"Import Multi Users"}];return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(xe.a,{ariaLabel:"User Import Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ge.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(fe.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(t){j(t,e.id)}},e.id)}))}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(et,{open:d,onClose:function(){o()}})})]})},Ja=a(432),Ka=a.n(Ja),Xa=Object(h.a)((function(e){return Object(Z.a)({root:{"& > *":{margin:e.spacing(1)},flexGrow:1},input:{display:"none"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)},textField:{margin:e.spacing(1),width:"54ch"}},"button",{margin:e.spacing(1)})})),Za=function(e,t){return e.map((function(e){return Object(b.a)(Object(b.a)({},t.find((function(t){return t.QUBID===e.QUBID&&t}))),e)}))},$a=function(e){var t=Xa(),a=Object(n.useContext)(Me),r=a.getUsersNSP,i=a.updateUserNSP,c=a.usersNSP,s=a.error,l=a.clearErrors,o=a.clearNSPUser,d=a.loading,j=Object(n.useState)({file:""}),b=Object(u.a)(j,2),p=b[0],O=b[1],h=Object(n.useState)([]),f=Object(u.a)(h,2),y=f[0],v=f[1],S=Object(n.useState)(c),P=Object(u.a)(S,2),w=P[0],N=P[1],k=Object(We.b)(),A=k.enqueueSnackbar,D=(k.closeSnackbar,Object(n.useRef)(null)),E=Object(n.useState)(!0),F=Object(u.a)(E,2),U=F[0],T=F[1];Object(n.useEffect)((function(){s&&(A(s,{variant:"error"}),l())}),[s]),Object(n.useEffect)((function(){if(""!==p.ile){a.loading=!0;try{y.map((function(e){w[e.__rowNum__-1]=c[e.__rowNum__-1],N(Object(ta.a)(w))})),v(Za(w,y)),a.loading=!1}catch(e){console.error(e.message),A(s,{variant:"error"})}}}),[]);var I=function(e){a.loading=!0,new Promise((function(t,a){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var a=e.target.result,n=Ha.read(a,{type:"buffer"}),r=n.SheetNames[0],i=n.Sheets[r],c=Ha.utils.sheet_to_json(i);t(c)},n.onerror=function(e){a(e)}})).then((function(e){v(e),e.map((function(e){r(e.QUBID)}))})),a.loading=!1},_={filter:!0,filterType:"dropdown",sortOrder:{name:"QUBID",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"userAdminDownload.csv"},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},onRowsDelete:function(e){var t=e.data.map((function(e){return y[e.dataIndex]})),a=y.filter((function(e){return!t.includes(e)}));v(a)}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,spacing:1,children:Object(C.jsx)(Wt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(B.a,{variant:"h5",children:"NSP Data Import"}),Object(C.jsx)(B.a,{variant:"caption",children:"Please only use this tool, for locating and updating user accounts with their NSP ID"})]})}),Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:Object(g.default)(t.input,t.button),id:"contained-button-file",type:"file",ref:D,onChange:function(e){try{e.stopPropagation(),e.preventDefault();var t=e.target.files[0];I(t),O({file:t}),A("File ".concat(t.name," is ready to be imported"),{variant:"success"})}catch(s){console.error(s.message),A("File ".concat(t.name," cannot be imported"),{variant:"error"})}}}),Object(C.jsx)("label",{htmlFor:"contained-button-file",children:Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(La.a,{}),onClick:function(e){D.current.focus()},children:"Select File to Upload"})}),Object(C.jsx)(Ke.a,{className:t.textField,component:"span",disabled:!0,id:"filename",type:"text",name:"filename",value:p.file.name})]})})]})})}),y.length>0&&!d?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{item:!0,xs:12,spacing:1,children:[Object(C.jsx)(me.a,{data:y,columns:[{name:"QUBID",label:"ID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"NSPID",label:"NSPID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"firstName",label:"First Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"lastName",label:"Last Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1,customBodyRenderLite:function(e){return"Pending Import"}}}],options:_}),Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsxs)(m.a,{item:!0,xs:12,className:Object(g.default)(t.button,t.right),children:[Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,style:{backgroundColor:"green",color:"white"},variant:"contained",startIcon:Object(C.jsx)(Ka.a,{}),onClick:function(e){a.loading=!0,e.preventDefault();try{y.map((function(e){w[e.__rowNum__-1]=c[e.__rowNum__-1],N(Object(ta.a)(w))})),v(Za(w,y)),a.loading=!1,T(!1)}catch(t){console.error(t.message),A(s,{variant:"error"})}},children:"Check Users"}),Object(C.jsx)(x.a,{disabled:U,component:"span",size:"large",className:t.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(Ft.a,{}),onClick:function(e){e.preventDefault();try{y.map((function(e){i(e)})),v([])}catch(t){console.error(t.message),A(s,{variant:"error"})}},children:"Import NSP ID's"}),Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,color:"primary",variant:"contained",startIcon:Object(C.jsx)(Ft.a,{}),onClick:function(){v([]),N([]),O({file:""}),o()},children:"Reset"})]})})]})}):Object(C.jsx)("hr",{})]}),Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.footer,t.left)})})]})},en=function(e){var t=Object(We.b)(),a=t.enqueueSnackbar,r=(t.closeSnackbar,Object(n.useContext)(Ae)),i=r.loadUser,c=r.isAdmin,s=Object(n.useContext)(Me),l=s.importedUsersAdded,o=s.error,d=s.clearErrors;return Object(n.useEffect)((function(){i(),c||e.history.push("/"),l?(e.history.push("/userAdmin"),d()):o&&(a(o,{variant:"error"}),d())}),[l,c,e.history]),Object(C.jsxs)("div",{children:[Object(C.jsx)(Va,{}),Object(C.jsx)("div",{className:"grid-1",children:Object(C.jsx)($a,{isAdmin:c})})]})},tn=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textFieldFull:{marginTop:e.spacing(2),width:"100%"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),an=function(e){var t=tn(),a=Object(n.useContext)(Ae),r=a.register,i=a.error,c=a.clearErrors,s=a.isAuthenticated,l=Object(We.b)(),o=l.enqueueSnackbar;l.closeSnackbar;Object(n.useEffect)((function(){s&&e.history.push("/"),i&&(o(i,{variant:"error"}),c())}),[i,s,e.history]);var d=Object(n.useState)({QUBID:"",email:"",password:"",password2:""}),j=Object(u.a)(d,2),m=j[0],p=j[1],O=m.QUBID,h=m.email,g=m.password,f=m.password2,y=function(e){p(Object(b.a)(Object(b.a)({},m),{},Object(Z.a)({},e.target.name,e.target.value)))},v=function(e){e.preventDefault(),""===O||""===h||""===g?o("Please complete all fields",{variant:"warning"}):g!==f?o("Passwords do not match",{variant:"error"}):r({QUBID:O,email:h,password:g})};return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Account ",Object(C.jsx)("span",{className:"text-primary",children:"Register"})]}),Object(C.jsxs)("form",{onSubmit:v,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"QUBID",type:"text",name:"QUBID",value:O,onChange:y,placeholder:"QUB ID Number",label:"QUB ID",variant:"outlined"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"email",type:"email",name:"email",placeholder:"Email",value:h,onChange:y,label:"Email",variant:"outlined",autoComplete:"username"})})]}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"password",type:"password",name:"password",placeholder:"password",value:g,onChange:y,label:"Password",variant:"outlined",autoComplete:"current-password",minLength:"6"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"password2",type:"password",name:"password2",placeholder:"password",value:f,onChange:y,label:"Confirm Password",variant:"outlined",minLength:"6"})}),Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:v,color:"secondary",variant:"contained",children:"Register"})]})]})},nn=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textFieldFull:{marginTop:e.spacing(2),width:"100%"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),rn=function(e){var t=nn(),a=Object(n.useContext)(Ae),r=a.login,i=a.error,c=a.clearErrors,l=a.isAuthenticated,o=Object(We.b)(),d=o.enqueueSnackbar;o.closeSnackbar;Object(n.useEffect)((function(){l&&e.history.push("/"),i&&(d(i,{variant:"error"}),c())}),[i,l,e.history]);var j=Object(n.useState)({email:"",password:""}),m=Object(u.a)(j,2),p=m[0],O=m[1],h=p.email,g=p.password,f=function(e){O(Object(b.a)(Object(b.a)({},p),{},Object(Z.a)({},e.target.name,e.target.value)))},y=function(e){e.preventDefault(),i?(d(i,{variant:"error"}),c()):r({email:h,password:g})};return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Account ",Object(C.jsx)("span",{className:"text-primary",children:"Login"})]}),Object(C.jsxs)("form",{onSubmit:y,children:[Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"email",type:"email",name:"email",placeholder:"Email",value:h,onChange:f,label:"Email",variant:"outlined"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"password",type:"password",name:"password",placeholder:"password",value:g,onChange:f,label:"Password",variant:"outlined"})}),Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:y,color:"secondary",variant:"contained",children:"Login"})]}),Object(C.jsx)(B.a,{component:s.b,to:"/password-reset/",children:"Password Reset"})]})},cn=function(e){var t=Object(l.h)().token,a=Object(n.useContext)(Ae),r=a.verifyEmail,i=a.logout;return Object(n.useEffect)((function(){r(t),i(),e.history.push("/login")}),[e.history]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("p",{children:"Thank you for verifying your email address"})})},sn=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",fontSize:"1.2rem"},textFieldFull:{margin:e.spacing(1),width:"97%"},button:{backgroundColor:"rgb(214, 0, 13)",margin:e.spacing(1),width:"97%"},text:{textAlign:"center",marginBottom:30}}})),ln=function(e){var t=sn(),a=Object(l.h)().token,r=Object(n.useContext)(Ae),i=r.passwordUpdateRequest,c=r.logout,s=r.error,o=r.clearErrors,d=Object(We.b)(),j=d.enqueueSnackbar;d.closeSnackbar;Object(n.useEffect)((function(){c(),s&&j(s,{variant:"error"}),o()}),[]);var m=Object(n.useState)({newPassword:"",confirmPassword:""}),p=Object(u.a)(m,2),O=p[0],h=p[1],g=function(e){h(Object(b.a)(Object(b.a)({},O),{},Object(Z.a)({},e.target.name,e.target.value)))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Password ",Object(C.jsx)("span",{className:"text-primary",children:"Reset"})]}),Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"password-new",type:"password",name:"newPassword",placeholder:"New Password",value:O.newPassword||"",onChange:g,label:"New Password",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"password-new1",type:"password",name:"confirmPassword",placeholder:"Confirm New Password",value:O.confirmPassword||"",onChange:g,label:"Confirm New Password",variant:"outlined"}),Object(C.jsx)(ut.a,{children:Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:function(t){t.preventDefault(),""===O.confirmPassword||""===O.newPassword?j("Please complete all fields",{variant:"warning"}):O.confirmPassword!==O.newPassword?j("Passwords do not match",{variant:"error"}):(O.password=O.newPassword,h(Object(b.a)({},O)),i(a,O),c(),e.history.push("/"))},color:"secondary",variant:"contained",children:"Save"})})]})})},on=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textFieldFull:{marginTop:e.spacing(2),width:"100%"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),dn=function(e){var t=on(),a=Object(n.useContext)(Ae),r=(a.register,a.error),i=a.clearErrors,c=a.isAuthenticated,s=a.passwordResetRequestPublic,l=a.logout,o=Object(We.b)(),d=o.enqueueSnackbar;o.closeSnackbar;Object(n.useEffect)((function(){r&&(d(r,{variant:"error"}),i())}),[r,c,e.history]);var j=Object(n.useState)({QUBID:"",email:""}),m=Object(u.a)(j,2),p=m[0],O=m[1],h=p.QUBID,g=p.email,f=function(e){O(Object(b.a)(Object(b.a)({},p),{},Object(Z.a)({},e.target.name,e.target.value)))},y=function(t){t.preventDefault(),""===h||""===g?d("Please complete all fields",{variant:"warning"}):(s(p),l(),e.history.push("/"),d("Please check ".concat(g," for reset instructions"),{variant:"success"}))};return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Password Reset ",Object(C.jsx)("span",{className:"text-primary",children:"Request"})]}),Object(C.jsxs)("form",{onSubmit:y,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"QUBID",type:"text",name:"QUBID",value:h,onChange:f,placeholder:"QUB ID Number",label:"QUB ID",variant:"outlined"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"email",type:"email",name:"email",placeholder:"Email",value:g,onChange:f,label:"Email",variant:"outlined",autoComplete:"username"})})]}),Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:y,color:"secondary",variant:"contained",children:"Request Reset"})]})]})};function jn(e){var t=e.title,a=e.icon,r=Object(n.useContext)(Ae),i=Object(n.useContext)(Me),c=Object(n.useContext)(nt),l=r.isAuthenticated,o=r.logout,d=c.clearUserAccount,j=i.clearUserAdmin,u=Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("li",{children:Object(C.jsxs)("a",{onClick:function(){j(),d(),o()},href:"#!",children:[Object(C.jsx)("i",{className:"fas fa-sign-out-alt"})," ",Object(C.jsx)("span",{className:"hide-sm",children:"Logout"})]})})}),b=Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/users/register",children:"Register"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/login",children:"Login"})})]});return Object(C.jsxs)("div",{className:"navbar bg-primary",children:[Object(C.jsx)("h1",{children:Object(C.jsxs)(s.b,{to:"/",children:[Object(C.jsx)("i",{className:a}),t]})}),Object(C.jsx)("ul",{children:l?u:b})]})}jn.defaultProps={title:" DemPay",icon:"fas fa-handshake"};var un=jn,bn=a(433),mn=function(e){var t=e.component,a=Object(bn.a)(e,["component"]),r=Object(n.useContext)(Ae),i=r.isAuthenticated,c=r.loading;return Object(C.jsx)(l.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return i||c?Object(C.jsx)(t,Object(b.a)({},e)):Object(C.jsx)(l.a,{to:"/login"})}}))},pn=a(12),On=a.n(pn),xn=a(20),hn="GET_PAYMENTS",gn="GET_PAYMENT",fn="GET_USER_PAYMENTS",yn="ADD_PAYMENT",vn="ADD_USER_PAYMENT",Sn="DELETE_PAYMENT",Cn="UPDATE_PAYMENT",Pn="CLEAR_PAYMENTS",wn="PAYMENT_ERROR",Nn="APPROVE_ALL_PAYMENTS",kn="REJECT_ALL_PAYMENTS",An="PAID_ALL_PAYMENTS",Dn="APPROVE_PAYMENT",En="REJECT_PAYMENT",Fn="HOLD_PAYMENT",Un="PENDING_PAYMENT",Tn="PAID_PAYMENT",In="GET_USERS",_n="GET_USERS_NSP",Rn="GET_ACTIVE_USERS",Bn="ADD_USER",zn="DELETE_USER",qn="UPDATE_USER",Gn="CLEAR_USERS",Ln="CLEAR_USER",Hn="USER_ERROR",Mn="GET_USERS",Wn="GET_STATS",Yn="STATS_ERROR",Qn="CLEAR_ERRORS",Vn="REGISTER_SUCCESS",Jn="REGISTER_FAIL",Kn="RESEND_VERIFY",Xn="PASSWORD_RESET",Zn="PASSWORD_RESET_REQUEST",$n="PASSWORD_RESET_EMAIL_FAIL",er="USER_LOADED",tr="AUTH_ERROR",ar="LOGIN_SUCCESS",nr="LOGIN_FAIL",rr="LOGOUT",ir="SET_CURRENT",cr="CLEAR_CURRENT",sr="OPEN_DIALOG",lr="CLOSE_DIALOG",or="SET_LOADING",dr=function(e,t){switch(t.type){case Mn:case qn:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,loading:!1});case Ln:return Object(b.a)(Object(b.a)({},e),{},{user:null,error:null,current:null});case ir:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload});case cr:return Object(b.a)(Object(b.a)({},e),{},{current:null});case Qn:return Object(b.a)(Object(b.a)({},e),{},{error:null});case Hn:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},jr=function(e){var t=Object(n.useReducer)(dr,{loading:!0,user:null,current:null,error:null}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/user/".concat(t));case 3:a=e.sent,i({type:Mn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Hn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/user/".concat(t._id),t,a);case 4:n=e.sent,i({type:qn,payload:n.data}),l(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:Hn,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){i({type:ir,payload:e})};return Object(C.jsx)(nt.Provider,{value:{user:r.user,loading:r.loading,current:r.current,error:r.error,getUser:c,setCurrent:l,clearCurrent:function(){i({type:cr})},updateUser:s,clearErrors:function(){i({type:Qn})},clearUserAccount:function(){i({type:Ln})}},children:e.children})},ur=function(e,t){switch(t.type){case In:return Object(b.a)(Object(b.a)({},e),{},{users:t.payload,importedUsersAdded:!1,loading:!1});case _n:return Object(b.a)(Object(b.a)({},e),{},{usersNSP:[].concat(Object(ta.a)(e.usersNSP),[t.payload]),importedUsersAdded:!1,loading:!1});case Rn:return Object(b.a)(Object(b.a)({},e),{},{activeUsers:t.payload,loading:!1});case Bn:return Object(b.a)(Object(b.a)({},e),{},{users:[t.payload].concat(Object(ta.a)(e.users)),importedUsersAdded:!0,loading:!1});case zn:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload})),loading:!1});case qn:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case Gn:return Object(b.a)(Object(b.a)({},e),{},{users:null,error:null,current:null,activeUsers:null,usersNSP:[]});case ir:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload});case cr:return Object(b.a)(Object(b.a)({},e),{},{current:null});case Qn:return Object(b.a)(Object(b.a)({},e),{},{error:null});case Hn:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case sr:return Object(b.a)(Object(b.a)({},e),{},{toggleDialog:!0});case lr:return Object(b.a)(Object(b.a)({},e),{},{current:null,toggleDialog:!1});default:return e}},br=function(e){var t=Object(n.useReducer)(ur,{usersNSP:[],importedUsersAdded:!1,loading:!0,users:null,activeUsers:null,current:null,error:null,toggleDialog:!1}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/userAdmin");case 3:t=e.sent,i({type:In,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Hn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/userAdmin/".concat(t));case 3:a=e.sent,i({type:_n,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Hn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/userAdmin/active");case 3:t=e.sent,i({type:Rn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Hn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/userAdmin",t,a);case 4:n=e.sent,i({type:Bn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Hn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(xn.a)(On.a.mark((function e(t){return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/api/userAdmin/".concat(t));case 3:i({type:zn,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:Hn,payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/userAdmin/".concat(t._id),t,a);case 4:n=e.sent,i({type:qn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Hn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/userAdmin/NSP/".concat(t._id),t,a);case 4:n=e.sent,i({type:Bn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Hn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(Me.Provider,{value:{usersNSP:r.usersNSP,importedUsersAdded:r.importedUsersAdded,users:r.users,activeUsers:r.activeUsers,toggleDialog:r.toggleDialog,loading:r.loading,current:r.current,error:r.error,getUsers:c,getUsersNSP:s,getActiveUsers:l,addUser:o,deleteUser:j,setCurrent:function(e){i({type:ir,payload:e})},clearCurrent:function(){i({type:cr})},updateUser:b,updateUserNSP:m,clearErrors:function(){i({type:Qn})},setDialogOpen:function(){i({type:sr})},setDialogClosed:function(){i({type:lr})},clearUserAdmin:function(){i({type:Gn})},clearActiveUsers:function(){i({type:Gn})},clearNSPUser:function(){i({type:Gn})}},children:e.children})},mr=function(e,t){switch(t.type){case hn:return Object(b.a)(Object(b.a)({},e),{},{payments:t.payload,loading:!1});case fn:return Object(b.a)(Object(b.a)({},e),{},{userPayments:t.payload,loading:!1});case gn:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload,loading:!1});case vn:case yn:return Object(b.a)(Object(b.a)({},e),{},{payments:[t.payload].concat(Object(ta.a)(e.payments)),loading:!1});case Sn:return Object(b.a)(Object(b.a)({},e),{},{payments:e.payments.filter((function(e){return e._id!==t.payload})),loading:!1});case Cn:return Object(b.a)(Object(b.a)({},e),{},{payments:t.payload,loading:!1});case En:case Dn:case Fn:case Un:case Tn:case An:case kn:case Nn:return Object(b.a)(Object(b.a)({},e),{},{payments:t.payload,loading:!1});case Pn:return Object(b.a)(Object(b.a)({},e),{},{payments:null,filtered:null,error:null,current:null});case ir:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload,loading:!1});case cr:return Object(b.a)(Object(b.a)({},e),{},{current:null,userPayments:null,loading:!1});case wn:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case Qn:return Object(b.a)(Object(b.a)({},e),{},{error:null});case or:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});default:return e}},pr=function(e){var t=Object(n.useReducer)(mr,{payments:null,userPayments:null,current:null,filtered:null,error:null,loading:!0}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/user/".concat(t,"/payments"));case 3:a=e.sent,i({type:fn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/payments");case 3:t=e.sent,i({type:hn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/payments/".concat(t));case 3:a=e.sent,i({type:gn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/payments/new",t,a);case 4:n=e.sent,i({type:yn,payload:n.data}),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:wn,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(xn.a)(On.a.mark((function e(t,a){var n,r;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/user/".concat(t,"/payments"),a,n);case 4:r=e.sent,i({type:vn,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:wn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(xn.a)(On.a.mark((function e(t){return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/api/payments/".concat(t));case 3:i({type:Sn,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/payments/".concat(t._id),t,a);case 4:n=e.sent,i({type:Cn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:wn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/approve"));case 3:a=e.sent,i({type:Dn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/reject"));case 3:a=e.sent,i({type:En,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/onhold"));case 3:a=e.sent,i({type:Fn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/pending"));case 3:a=e.sent,i({type:Un,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/paid"));case 3:a=e.sent,i({type:Tn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/approve");case 3:t=e.sent,i({type:Nn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/paid");case 3:t=e.sent,i({type:An,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/reject");case 3:t=e.sent,i({type:kn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(Fe.Provider,{value:{payments:r.payments,userPayments:r.userPayments,current:r.current,filtered:r.filtered,error:r.error,loading:r.loading,getPayments:s,getPayment:l,getUserPayments:c,addPayment:o,addUserPayment:j,deletePayment:b,setCurrent:function(e){i({type:ir,payload:e})},clearCurrent:function(){i({type:cr})},updatePayment:m,clearPayments:function(){i({type:Pn})},approvePayment:p,rejectPayment:O,holdPayment:x,pendingPayment:h,paidPayment:g,approveAllPayments:f,rejectAllPayments:v,paidAllPayments:y,setLoading:function(){return{type:or}},clearErrors:function(){i({type:Qn})}},children:e.children})},Or=function(e,t){switch(t.type){case Wn:return Object(b.a)(Object(b.a)({},e),{},{stats:t.payload,loading:!1,error:null});case Yn:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},xr=function(e){var t=Object(n.useReducer)(Or,{loading:!0,stats:null,error:null}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/stats");case 3:t=e.sent,i({type:Wn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Yn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(f.Provider,{value:{stats:r.stats,error:r.error,loading:r.loading,getStatData:c},children:e.children})},hr=function(e,t){switch(t.type){case ar:return localStorage.setItem("token",t.payload.token),Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case er:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!0,isAdmin:"Admin"===t.payload.role,loading:!1,user:t.payload});case Zn:case Xn:case Vn:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{loading:!1});case Jn:case nr:case tr:case rr:return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{token:null,isAuthenticated:!1,isAdmin:null,loading:!1,user:null,error:t.payload});case Kn:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,loading:!1});case $n:return Object(b.a)({},e);case Qn:return Object(b.a)(Object(b.a)({},e),{},{error:null});default:return e}},gr=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,isAdmin:null,loading:!0,user:null,error:null},a=Object(We.b)().enqueueSnackbar,r=Object(n.useReducer)(hr,t),i=Object(u.a)(r,2),c=i[0],s=i[1],l=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/auth",t,a);case 4:n=e.sent,s({type:ar,payload:n.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:nr,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(xn.a)(On.a.mark((function e(){var t;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&j(localStorage.token),e.prev=1,e.next=4,d.a.get("/api/auth");case 4:t=e.sent,s({type:er,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:tr,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(xn.a)(On.a.mark((function e(t){var n,r;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/users/register",t,n);case 4:r=e.sent,s({type:Vn,payload:r.data}),a("New User Registered",{variant:"success"}),o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({type:Jn,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(xn.a)(On.a.mark((function e(t){var n,r;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/users/confirm-email/".concat(t),null,n);case 4:r=e.sent,s({type:Vn,payload:r.data}),a("Email address confirmed, please log in",{variant:"success"}),o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({type:Jn,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(xn.a)(On.a.mark((function e(t,n){var r,i;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/users/password-reset/".concat(t),n,r);case 4:i=e.sent,s({type:Xn,payload:i.data}),a("Password reset, please login",{variant:"success"}),g(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({type:$n,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/users/password-reset-request/".concat(t),null,a);case 4:n=e.sent,s({type:Zn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:$n,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n,r;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/users/password-reset-request-public",t,a);case 4:return n=e.sent,r=n.data,e.next=8,O(r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s({type:$n,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(xn.a)(On.a.mark((function e(t){var a,n;return On.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/user/resend/".concat(t),null,a);case 4:n=e.sent,s({type:Kn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:Jn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){s({type:rr})};return Object(C.jsx)(Ae.Provider,{value:{token:c.token,isAuthenticated:c.isAuthenticated,isAdmin:c.isAdmin,loading:c.loading,user:c.user,error:c.error,register:b,loadUser:o,login:l,logout:g,clearErrors:function(){s({type:Qn})},verifyEmail:m,resendVerifyEmail:h,passwordResetRequest:O,passwordUpdateRequest:p,passwordResetRequestPublic:x},children:e.children})};localStorage.token&&j(localStorage.token);var fr=function(){return Object(C.jsx)(We.a,{maxSnack:10,children:Object(C.jsx)(gr,{children:Object(C.jsx)(jr,{children:Object(C.jsx)(xr,{children:Object(C.jsx)(br,{children:Object(C.jsx)(pr,{children:Object(C.jsx)(s.a,{children:Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(un,{}),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(mn,{exact:!0,path:"/",component:Ie}),Object(C.jsx)(mn,{exact:!0,path:"/userAdmin",component:st}),Object(C.jsx)(mn,{exact:!0,path:"/import",component:Ya}),Object(C.jsx)(mn,{exact:!0,path:"/importNSP",component:en}),Object(C.jsx)(mn,{exact:!0,path:"/payments",component:Xt}),Object(C.jsx)(mn,{exact:!0,path:"/payments/new",component:Aa}),Object(C.jsx)(mn,{exact:!0,path:"/payments/:id",component:Ia}),Object(C.jsx)(mn,{exact:!0,path:"/user/:id/payments",component:_t}),Object(C.jsx)(mn,{exact:!0,path:"/user/:id",component:kt}),Object(C.jsx)(l.b,{exact:!0,path:"/users/confirm-email/:token",component:cn}),Object(C.jsx)(l.b,{exact:!0,path:"/users/password-reset/:token",component:ln}),Object(C.jsx)(l.b,{exact:!0,path:"/about",component:Ba}),Object(C.jsx)(l.b,{exact:!0,path:"/users/register",component:an}),Object(C.jsx)(l.b,{exact:!0,path:"/password-reset",component:dn}),Object(C.jsx)(l.b,{exact:!0,path:"/login",component:rn}),Object(C.jsx)(l.a,{from:"*",to:"/"})]})})]})})})})})})})})};c.a.render(Object(C.jsx)(fr,{}),document.getElementById("root"))}},[[719,1,2]]]);
//# sourceMappingURL=main.3d08096c.chunk.js.map