(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{414:function(e,t){},452:function(e,t,a){},716:function(e,t){},717:function(e,t){},719:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(18),c=a.n(i),s=(a(452),a(16)),l=a(36),o=a(17),d=a.n(o),j=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},u=a(10),b=a(7),m=a(755),p=a(780),O=a(774),x=a(392),h=a(278),g=a(3),f=Object(n.createContext)(),y=a(752),v=a(753),S=a(751),C=a(0),P=Object(h.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},flexDirection:"row",justifyContent:"center"}}})),w=function(){var e=P();return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(S.a,{color:"secondary"})})},N=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),k=function(){var e=N(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=t.loading;return Object(n.useEffect)((function(){r()}),[]),Object(C.jsx)(C.Fragment,{children:null===a||i?Object(C.jsx)(w,{}):Object(C.jsx)(y.a,{className:e.root,children:Object(C.jsx)(v.a,{title:a[0].statsActive,subheader:"Active Users"})})})},A=a(210),D=a(425),E=a(353),F=a(424),U=a.n(F),T=a(423),_=a.n(T),I=a(58),R=[{id:1,icon:Object(C.jsx)(s.b,{to:"/payments",children:Object(C.jsx)(_.a,{})}),name:Object(C.jsx)(s.b,{to:"/payments",children:"View"})}],B=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Boolean(a),c=function(){r(null)};return Object(C.jsxs)("div",{children:[Object(C.jsx)(A.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},children:Object(C.jsx)(U.a,{})}),Object(C.jsx)(D.a,{id:"long-menu",anchorEl:a,keepMounted:!0,open:i,onClose:c,children:Object(C.jsx)(m.a,{container:!0,spacing:1,direction:"column",justify:"flex-start",alignItems:"center",children:R.map((function(e){return Object(C.jsxs)(E.a,{onClick:c,children:[Object(C.jsx)(m.a,{item:!0,children:e.icon}),Object(C.jsx)(m.a,{item:!0,children:Object(C.jsx)(I.a,{children:e.name})})]},e.id)}))})})]})},z=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),q=function(){var e=z(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=t.loading;return Object(n.useEffect)((function(){r()}),[]),Object(C.jsx)(C.Fragment,{children:null===a||i?Object(C.jsx)(w,{}):Object(C.jsx)(y.a,{className:e.root,children:Object(C.jsx)(v.a,{action:Object(C.jsx)(B,{}),title:a[1].statsPending,subheader:"Payments Pending"})})})};var G=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),L=function(){var e,t=G(),a=Object(n.useContext)(f),r=a.stats,i=a.getStatData,c=a.loading;return Object(n.useEffect)((function(){i()}),[]),Object(C.jsx)(C.Fragment,{children:c?Object(C.jsx)(w,{}):r&&r[3].statsPaymentPendingAuth.length?Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa3".concat((e=r[3].statsPaymentPendingAuth[0].total,"".concat(e.toFixed(2)))),subheader:"Pending\n Approval"})}):Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa30.00",subheader:"Pending Authorisation"})})})},H=a(288),M=a.n(H);var W=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),Y=new Date,Q=function(){var e,t=W(),a=Object(n.useContext)(f),r=a.stats,i=a.getStatData,c=a.loading;return Object(n.useEffect)((function(){i()}),[]),Object(C.jsx)(C.Fragment,{children:c?Object(C.jsx)(w,{}):r&&r[4].statsPaymentAuthMTD.length?Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa3".concat((e=r[4].statsPaymentAuthMTD[0].total,"".concat(e.toFixed(2)))),subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",Object(C.jsx)(M.a,{format:"MMMM YY",children:Y})]})})}):Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa30.00",subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",Object(C.jsx)(M.a,{format:"MMMM YY",children:Y})]})})})})};var V=Object(h.a)((function(e){return{root:{height:"100%",whiteSpace:"pre-line"}}})),J=function(){var e,t=V(),a=Object(n.useContext)(f),r=a.stats,i=a.getStatData,c=a.loading;return Object(n.useEffect)((function(){i()}),[]),Object(C.jsx)(C.Fragment,{children:c?Object(C.jsx)(w,{}):r&&r[5].statsPaymentAuthYTD.length?Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa3".concat((e=r[5].statsPaymentAuthYTD[0].total,"".concat(e.toFixed(2)))),subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",r[6].CurrentAcaYear]})})}):Object(C.jsx)(y.a,{className:t.root,children:Object(C.jsx)(v.a,{title:"\xa30.00",subheader:Object(C.jsxs)(C.Fragment,{children:["Approved for \n",r[6].CurrentAcaYear]})})})})},K=a(31),X=Object(n.createContext)(),Z=Object(n.createContext)(),$=[{id:1,value:"Arts, English and Languages",label:"Arts, English and Languages"},{id:2,value:"Biological Sciences",label:"Biological Sciences"},{id:3,value:"Chemistry and Chemical Engineering",label:"Chemistry and Chemical Engineering"},{id:4,value:"Electronics, Electrical Engineering and Computer Science",label:"Electronics, Electrical Engineering and Computer Science"},{id:5,value:"EPS Budget Management",label:"EPS Budget Management"},{id:6,value:"Faculty Office - AHSS",label:"Faculty Office - AHSS"},{id:7,value:"Faculty Office (E&PS)",label:"Faculty Office (E&PS)"},{id:8,value:"Faculty Office (MH&LS)",label:"Faculty Office (MH&LS)"},{id:9,value:"History, Anthropology, Philosophy and Politics",label:"History, Anthropology, Philosophy and Politics"},{id:10,value:"Institute of Professional Legal Studies",label:"Institute of Professional Legal Studies"},{id:11,value:"Institute of Theology",label:"Institute of Theology"},{id:12,value:"Law",label:"Law"},{id:13,value:"Mathematics and Physics",label:"Mathematics and Physics"},{id:14,value:"Mechanical and Aerospace Engineering",label:"Mechanical and Aerospace Engineering"},{id:15,value:"Medicine, Dentistry and Biomedical Sciences",label:"Medicine, Dentistry and Biomedical Sciences"},{id:16,value:"Natural and Built Environment",label:"Natural and Built Environment"},{id:17,value:"Nursing and Midwifery",label:"Nursing and Midwifery"},{id:18,value:"Pharmacy",label:"Pharmacy"},{id:19,value:"Psychology",label:"Psychology"},{id:20,value:"Queen's University Management School",label:"Queen's University Management School"},{id:21,value:"Senator George J Mitchell Institute for Global Peace, Security and Justice",label:"Senator George J Mitchell Institute for Global Peace, Security and Justice"},{id:22,value:"Social Sciences, Education and Social Work",label:"Social Sciences, Education and Social Work"}],ee=[{id:1,value:"Pending",label:"Pending"},{id:2,value:"Active",label:"Active"},{id:3,value:"Disabled",label:"Disabled"},{id:4,value:"Expired",label:"Expired"}],te=[{id:1,value:"User",label:"User"},{id:2,value:"Admin",label:"Admin"},{id:3,value:"Module Owner",label:"Module Owner"},{id:4,value:"School Management",label:"School Management"},{id:5,value:"Clerical",label:"Clerical"},{id:6,value:"Adhoc",label:"Adhoc"}],ae=[{id:1,value:"Mr",label:"Mr"},{id:2,value:"Mrs",label:"Mrs"},{id:3,value:"Miss",label:"Miss"},{id:4,value:"Dr",label:"Dr"},{id:5,value:"Ms",label:"Ms"},{id:6,value:"Prof",label:"Prof"},{id:7,value:"Other",label:"Other"}],ne=[{id:1,value:"He/Him",label:"He/Him"},{id:2,value:"She/Her",label:"She/Her"},{id:3,value:"They/Them",label:"They/Them"},{id:4,value:"Other",label:"Other"}],re=[{id:1,value:"England",label:"England"},{id:2,value:"Scotland",label:"Scotland"},{id:3,value:"Wales",label:"Wales"},{id:4,value:"Northern Ireland",label:"Northern Ireland"}],ie=[{id:1,name:"Avon",country:"England"},{id:2,name:"Bedfordshire",country:"England"},{id:3,name:"Berkshire",country:"England"},{id:4,name:"Buckinghamshire",country:"England"},{id:5,name:"Cambridgeshire",country:"England"},{id:6,name:"Cheshire",country:"England"},{id:7,name:"Cleveland",country:"England"},{id:8,name:"Cornwall",country:"England"},{id:9,name:"Cumbria",country:"England"},{id:10,name:"Derbyshire",country:"England"},{id:11,name:"Devon",country:"England"},{id:12,name:"Dorset",country:"England"},{id:13,name:"Durham",country:"England"},{id:14,name:"East Sussex",country:"England"},{id:15,name:"Essex",country:"England"},{id:16,name:"Gloucestershire",country:"England"},{id:17,name:"Hampshire",country:"England"},{id:18,name:"Herefordshire",country:"England"},{id:19,name:"Hertfordshire",country:"England"},{id:20,name:"Isle of Wight",country:"England"},{id:21,name:"Kent",country:"England"},{id:22,name:"Lancashire",country:"England"},{id:23,name:"Leicestershire",country:"England"},{id:24,name:"Lincolnshire",country:"England"},{id:25,name:"London",country:"England"},{id:26,name:"Merseyside",country:"England"},{id:27,name:"Norfolk",country:"England"},{id:28,name:"Northamptonshire",country:"England"},{id:29,name:"Northumberland",country:"England"},{id:30,name:"North Yorkshire",country:"England"},{id:31,name:"Nottinghamshire",country:"England"},{id:32,name:"Oxfordshire",country:"England"},{id:33,name:"Rutland",country:"England"},{id:34,name:"Shropshire",country:"England"},{id:35,name:"Somerset",country:"England"},{id:36,name:"South Yorkshire",country:"England"},{id:37,name:"Staffordshire",country:"England"},{id:38,name:"Suffolk",country:"England"},{id:39,name:"Surrey",country:"England"},{id:40,name:"Tyne and Wear",country:"England"},{id:41,name:"Warwickshire",country:"England"},{id:42,name:"West Midlands",country:"England"},{id:43,name:"West Sussex",country:"England"},{id:44,name:"West Yorkshire",country:"England"},{id:45,name:"Wiltshire",country:"England"},{id:46,name:"Worcestershire",country:"England"},{id:47,name:"Clwyd",country:"Wales"},{id:48,name:"Dyfed",country:"Wales"},{id:49,name:"Gwent",country:"Wales"},{id:50,name:"Gwynedd",country:"Wales"},{id:51,name:"Mid Glamorgan",country:"Wales"},{id:52,name:"Powys",country:"Wales"},{id:53,name:"South Glamorgan",country:"Wales"},{id:54,name:"West Glamorgan",country:"Wales"},{id:55,name:"Aberdeenshire",country:"Scotland"},{id:56,name:"Angus",country:"Scotland"},{id:57,name:"Argyll",country:"Scotland"},{id:58,name:"Ayrshire",country:"Scotland"},{id:59,name:"Banffshire",country:"Scotland"},{id:60,name:"Berwickshire",country:"Scotland"},{id:61,name:"Bute",country:"Scotland"},{id:62,name:"Caithness",country:"Scotland"},{id:63,name:"Clackmannanshire",country:"Scotland"},{id:64,name:"Dumfriesshire",country:"Scotland"},{id:65,name:"Dunbartonshire",country:"Scotland"},{id:66,name:"East Lothian",country:"Scotland"},{id:67,name:"Fife",country:"Scotland"},{id:68,name:"Inverness-shire",country:"Scotland"},{id:69,name:"Kincardineshire",country:"Scotland"},{id:70,name:"Kinross-shire",country:"Scotland"},{id:71,name:"Kirkcudbrightshire",country:"Scotland"},{id:72,name:"Lanarkshire",country:"Scotland"},{id:73,name:"Midlothian",country:"Scotland"},{id:74,name:"Moray",country:"Scotland"},{id:75,name:"Nairnshire",country:"Scotland"},{id:76,name:"Orkney",country:"Scotland"},{id:77,name:"Peeblesshire",country:"Scotland"},{id:78,name:"Perthshire",country:"Scotland"},{id:79,name:"Renfrewshire",country:"Scotland"},{id:80,name:"Ross-shire",country:"Scotland"},{id:81,name:"Roxburghshire",country:"Scotland"},{id:82,name:"Selkirkshire",country:"Scotland"},{id:83,name:"Shetland",country:"Scotland"},{id:84,name:"Stirlingshire",country:"Scotland"},{id:85,name:"Sutherland",country:"Scotland"},{id:86,name:"West Lothian",country:"Scotland"},{id:87,name:"Wigtownshire",country:"Scotland"},{id:88,name:"Antrim",country:"Northern Ireland"},{id:89,name:"Armagh",country:"Northern Ireland"},{id:90,name:"Down",country:"Northern Ireland"},{id:91,name:"Fermanagh",country:"Northern Ireland"},{id:92,name:"Londonderry",country:"Northern Ireland"},{id:93,name:"Tyrone",country:"Northern Ireland"}],ce=[{id:1,value:"1",label:"Semester 1"},{id:2,value:"2",label:"Semester 2"},{id:3,value:"3",label:"Semester 3"}],se=[{id:1,value:"TA",label:"TA (Non-PGR)"},{id:2,value:"PGTA",label:"PGTA (PGR)"}],le=[{id:1,value:"2020/2021",label:"2020/2021"},{id:2,value:"2021/2022",label:"2021/2022"},{id:3,value:"2022/2023",label:"2022/2023"}],oe=[{id:1,value:"January",label:"January"},{id:2,value:"February",label:"February"},{id:3,value:"March",label:"March"},{id:4,value:"April",label:"April"},{id:5,value:"May",label:"May"},{id:6,value:"June",label:"June"},{id:7,value:"July",label:"July"},{id:8,value:"August",label:"August"},{id:9,value:"September",label:"September"},{id:10,value:"October",label:"October"},{id:11,value:"November",label:"November"},{id:12,value:"December",label:"December"}],de=[{value:2020},{value:2021},{value:2022},{value:2023},{value:2024},{value:2025}],je=a(417),ue=a(771),be=a(68),me=a.n(be),pe=a(22),Oe=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"}}})),xe=(new Date).toUTCString(),he=function(e){Oe(),Object(n.useContext)(X);var t=e.user,a=e.userPayments,r=e.userPaymentsLoading,i=Object(pe.b)(),c=(i.enqueueSnackbar,i.closeSnackbar,Object(l.h)().id,Object(l.g)());if(null!==a&&!a.length&&!r)return Object(C.jsx)("h4",{children:"You have no userPayments recorded"});var s=function(e){var t=e.label,a=e.onDelete;return Object(C.jsx)(je.a,{variant:"outlined",color:"primary",label:t,onDelete:a})},o=Object(K.a)({filter:!0,filterType:"dropdown",sortOrder:{name:"paymentPeriodNum",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"".concat(t.QUBID,"Payments-").concat(xe,".csv")},selectableRowsHideCheckboxes:!1,rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!1}},"selectableRowsHideCheckboxes",!0),d=[{name:"_id",label:"UserId",options:{filter:!1,display:!1,download:!1,sort:!1}},{name:"paymentPeriodNum",label:"Month",options:{filter:!1,display:!1,download:!0,sort:!0}},{name:"paymentPeriod",label:"Month",options:{filter:!1,display:!0,download:!0,sort:!0,customBodyRender:function(e){return t=e,oe.map((function(e){return e.value}))[t-1];var t}}},{name:"QUBID",label:"QUBID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"academicYear",label:"Year",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"deliveredBy",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"amount",label:"Amount",options:{filter:!0,display:!0,download:!0,sort:!1,customBodyRender:function(e,t,a){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)}}},{name:"paymentStatus",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRender:function(e,t,a){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{container:!0,direction:"row",alignContent:"center",alignItems:"center",children:Object(C.jsxs)(I.a,{align:"center",children:[Object(C.jsx)(ue.a,{fontSize:"small",onClick:function(){return function(e){var t="/payments/".concat(e);c.push(t)}(t.rowData[0])},userID:t.rowData[0]}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"View"})]})})})}}}];return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===a||r?Object(C.jsx)(w,{}):Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(me.a,{title:Object(C.jsx)("div",{children:Object(C.jsx)(I.a,{variant:"h5",children:"My Payments"})}),data:a,columns:d,options:o,components:{TableFilterList:function(e){return Object(C.jsx)(be.TableFilterList,Object(b.a)(Object(b.a)({},e),{},{ItemComponent:s}))}}})})})})})})},ge=a(772),fe=a(48),ye=a.n(fe),ve=a(773),Se=a(429),Ce=a.n(Se),Pe=a(132),we=a.n(Pe),Ne=a(225),ke=a.n(Ne),Ae=a(171),De=a.n(Ae),Ee=Object(n.createContext)(),Fe=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Ue=function(e){var t=Fe(),a=r.a.useState(!1),i=Object(u.a)(a,2),c=i[0],l=i[1],o=Object(n.useContext)(Ee),d=o.user,j=e.isAdmin;Object(n.useEffect)((function(){x(null!==d?d._id:{_id:""})}),[o,d]);var b,m=Object(n.useState)({_id:""}),p=Object(u.a)(m,2),O=p[0],x=p[1];b=j?[{id:1,icon:Object(C.jsx)(s.b,{to:"/userAdmin",children:Object(C.jsx)(Ce.a,{})}),name:"User Management"},{id:2,icon:Object(C.jsx)(s.b,{to:"/payments",children:Object(C.jsx)(ke.a,{})}),name:"Payments"},{id:5,icon:Object(C.jsx)(s.b,{to:"/about",children:Object(C.jsx)(De.a,{})}),name:"About"}]:[{id:6,icon:Object(C.jsx)(s.b,{to:"/user/".concat(O),children:Object(C.jsx)(we.a,{})}),name:"My Profile"},{id:5,icon:Object(C.jsx)(s.b,{to:"/about",children:Object(C.jsx)(De.a,{})}),name:"About"}];var h=function(){l(!1)};return Object(C.jsx)("div",{className:t.root,children:Object(C.jsx)(ge.a,{ariaLabel:"Home Navigation Control",className:t.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:h,onOpen:function(){l(!0)},open:c,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:h},e.id)}))})})};function Te(e){return Object(C.jsx)(p.a,Object(b.a)({elevation:6,variant:"filled"},e))}var _e=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"},table:{minWidth:700},spacer:{marginTop:e.spacing(2)},textField:{"& > *":{}},footer:{minHeight:100},inputField:{textAlign:"center"},inputCenter:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14)},finalButton:{margin:e.spacing(2)}}})),Ie=function(){var e=_e(),t=Object(n.useContext)(f),a=t.stats,r=t.getStatData,i=Object(n.useContext)(Ee),c=i.user,s=i.loadUser,l=i.resendVerifyEmail,o=i.isAdmin,d=Object(n.useContext)(Z),j=d.loading,b=d.getUserPayments,p=d.userPayments,h=Object(n.useState)({id:""}),y=Object(u.a)(h,2),v=y[0],S=y[1];Object(n.useEffect)((function(){s()}),[]),Object(n.useEffect)((function(){r()}),[]),Object(n.useEffect)((function(){c&&c._id&&(b(c._id),S({id:c._id}))}),[c,p]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h1",{className:"HomeGreeting",children:[function(){var e=new Date;return e.getHours()>=4&&e.getHours()<12?"Good Morning":e.getHours()>=12&&e.getHours()<=16?"Good Day":e.getHours()>=17&&e.getHours()<=23?"Good Evening":"Good Night"}(),", ",c&&c.firstName]}),j&&i.loading?Object(C.jsx)(w,{}):Object(C.jsx)(C.Fragment,{children:o||c&&"Module Owner"===c.role?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ue,{isAdmin:o}),a&&0!==a[1].statsPending?Object(C.jsx)("h3",{className:"HomeGreetingSubtitle",children:"You have pending tasks"}):Object(C.jsx)("h3",{className:"HomeGreetingSubtitle",children:"You are all caught up"}),Object(C.jsxs)(m.a,{container:!0,direction:"row",spacing:4,alignItems:"stretch",children:[Object(C.jsx)(m.a,{item:!0,md:6,xs:12,sm:6,children:Object(C.jsx)(k,{},1)}),Object(C.jsx)(m.a,{item:!0,xs:12,md:6,sm:6,children:Object(C.jsx)(q,{},2)})]}),Object(C.jsxs)(m.a,{container:!0,direction:"row",spacing:4,alignItems:"stretch",children:[Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(L,{},3)}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(Q,{})}),Object(C.jsx)(m.a,{item:!0,xs:12,md:!0,sm:6,children:Object(C.jsx)(J,{})})]}),Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.footer,e.left)})})]}):Object(C.jsxs)(C.Fragment,{children:[c&&!c.emailVerified?Object(C.jsxs)(Te,{style:{marginBottom:"20px"},severity:"warning",action:Object(C.jsx)(x.a,{onClick:function(){l(v.id)},color:"inherit",size:"small",children:"Resend Email"}),children:[Object(C.jsx)(O.a,{children:"Email Address Pending Validation"}),"Please click the verify link issued to ",c.email," or click the resend email button"]}):Object(C.jsx)(Ue,{isAdmin:o}),!j&&c&&p.payments.length?Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(he,{user:c,userPayments:p.payments,userPaymentsLoading:j})})}):"",Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(e.footer,e.left)})})]})})]})},Re=a(55),Be=a.n(Re),ze=a(163),qe=a.n(ze),Ge=a(165),Le=a.n(Ge),He=a(226),Me=a.n(He),We=Object(n.createContext)(),Ye=a(759),Qe=a(763),Ve=a(761),Je=a(762),Ke=a(402),Xe=a(733),Ze=a(760),$e=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{margin:e.spacing(1),width:"47%"},textLabel:{marginLeft:e.spacing(1),marginTop:e.spacing(2),marginRight:e.spacing(1),width:"26ch"},textFieldFull:{margin:e.spacing(1),width:"97%"},text:{textAlign:"center"}}})),et=function(){var e=$e(),t=Object(n.useContext)(Ee).passwordResetRequest,a=Object(n.useContext)(We),r=a.addUser,i=a.clearCurrent,c=a.current,s=a.updateUser,l=a.setDialogClosed,o=a.toggleDialog,d=a.error;Object(n.useEffect)((function(){g(null!==c?c:{address:[{street:"",city:"",county:"",country:"",postcode:""}],contact:[{mobile:"",landline:""}],bank:[{bankName:"",branchName:"",sortCode:"",accNumber:"",buildingSocietyNumber:""}],dob:"",email:"",emailTokenIssued:"",emailTokenExpiry:"",emailVerified:!1,emailVerifiedDate:"",firstName:"",lastName:"",nino:"",password:"",password1:"",passwordResetToken:"",passwordResetTokenExpiresAt:"",pronoun:"",payment:"",payment1:"",QUBID:"",NSPID:"",qubSchool:"",role:"",status:"Pending",title:"",taxDeclaration:[{employeeStatements_section1:"A",employeeStatements_section2:"1",employeeStatements_section3q1:"false",employeeStatements_section3q2:"false",employeeStatements_section3q3:"false",employeeStatements_section3q4:"1",employeeStatements_section3q5:"false",signed:!1}]})}),[a,c]);var j=Object(pe.b)(),m=j.enqueueSnackbar,p=(j.closeSnackbar,Object(n.useState)({dob:"",email:"",emailVerificationToken:"",emailVerificationTokenExpiresAt:"",emailVerified:!1,userImg:"",firstName:"",lastName:"",password:"",password1:"",passwordResetToken:"",passwordResetTokenExpiresAt:"",payment:"",payment1:"",QUBID:"",NSPID:"",role:"User",status:"Pending",qubSchool:""})),O=Object(u.a)(p,2),h=O[0],g=O[1],f=h.dob,y=h.email,v=h.firstName,S=h.lastName,P=h.password,w=h.password1,N=h.QUBID,k=h.NSPID,A=h.role,D=h.status,F=h.qubSchool,U=function(e){g(Object(b.a)(Object(b.a)({},h),{},Object(K.a)({},e.target.name,e.target.value)))},T=function(){i(),I(),l()},_=function(e){e.preventDefault(),d?m(d,{variant:"error"}):(null===c?P!==w?m("Password Error! Check Passwords Match",{variant:"error"}):(r(h),T()):(s(h),T(),m("User Updated",{variant:"success"})),I())},I=function(){i()};return Object(C.jsx)("div",{children:Object(C.jsxs)(Ye.a,{open:o,onClose:T,"aria-labelledby":"form-dialog-title",children:[c?Object(C.jsx)(Qe.a,{id:"form-dialog-title",children:"Edit a user"}):Object(C.jsx)(Qe.a,{id:"form-dialog-title",children:"Add a user"}),Object(C.jsxs)(Ve.a,{children:[c?Object(C.jsx)(Je.a,{className:e.text,children:"To edit a new user please update the fields fields below"}):Object(C.jsx)(Je.a,{className:e.text,children:"To add a new user please complete all fields below"}),Object(C.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"firstName",type:"text",name:"firstName",placeholder:"First Name",value:v,onChange:U,label:"First Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"lastName",type:"text",name:"lastName",placeholder:"Last Name",value:S,onChange:U,label:"Last Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:e.textFieldFull,id:"email",type:"email",name:"email",placeholder:"Email Address",value:y,onChange:U,label:"Email Address",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:e.textField,id:"dob",type:"date",name:"dob",value:f,onChange:U,label:"Date Of Birth",variant:"outlined"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"QUBID",type:"text",name:"QUBID",placeholder:"QUB ID",value:N,onChange:U,label:"QUB ID",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"NSPID",type:"text",name:"NSPID",placeholder:"NSP ID",value:k,onChange:U,label:"NSP ID",variant:"outlined"})]}),c?Object(C.jsx)(Ke.a,{className:e.textField,select:!0,variant:"outlined",id:"status",name:"status",label:"Select Status",value:D,onChange:U,children:ee.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))}):Object(C.jsx)(Ke.a,{className:e.textField,disabled:!0,variant:"outlined",id:"status",name:"status",label:"Select Status",value:"Pending",onChange:U}),Object(C.jsx)(Ke.a,{className:e.textField,select:!0,variant:"outlined",id:"role",name:"role",label:"Select Role",value:A,onChange:U,children:te.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:e.textFieldFull,select:!0,variant:"outlined",id:"qubSchool",name:"qubSchool",label:"Select A School",value:F,onChange:U,children:$.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))}),c?"":Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Xe.a,{className:e.textLabel,component:"legend",children:"Set Password"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"password",label:"Password",type:"password",name:"password",placeholder:"Set Password",value:P,onChange:U,variant:"outlined"}),Object(C.jsx)(Ke.a,{className:e.textField,required:!0,id:"password1",label:"Password",type:"password",name:"password1",placeholder:"Repeat Password",value:w,onChange:U,variant:"outlined"})]})]})]}),c?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{onClick:function(){t(c._id),T(),m("Password Reset Sent",{variant:"success"})},variant:"outlined",color:"primary",children:"Password Reset"}),Object(C.jsx)(x.a,{onClick:T,variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(x.a,{onClick:_,variant:"outlined",color:"primary",children:"Update"})]})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{onClick:T,variant:"outlined",color:"primary",children:"Cancel"}),Object(C.jsx)(x.a,{onClick:_,variant:"outlined",color:"primary",children:"Submit"})]})})]})]})]})})},tt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),at=function(){var e=tt(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(We),l=c.setDialogOpen,o=c.setDialogClosed,d=c.toggleDialog;function j(e,t){e.preventDefault(),2===t&&l()}var b=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Be.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"#",children:Object(C.jsx)(qe.a,{})}),name:"Manually Add User"},{id:3,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Le.a,{})}),name:"Import User File"},{id:3,icon:Object(C.jsx)(s.b,{to:"/importNSP",children:Object(C.jsx)(Me.a,{})}),name:"Import NSP Data File"}];return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(ge.a,{ariaLabel:"User Management Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(t){j(t,e.id)}},e.id)}))}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(et,{open:d,onClose:function(){o()}})})]})},nt=a(200),rt=a.n(nt),it=function(e){var t=Object(n.useContext)(We),a=Object(n.useContext)(X),r=e.user,i=Object(pe.b)(),c=i.enqueueSnackbar,s=(i.closeSnackbar,t.users),o=t.getUsers,d=t.deleteUser,j=t.loading,u=t.error,p=t.clearErrors,O=t.setDialogOpen,x=t.setCurrent,h=Object(l.g)();if(Object(n.useEffect)((function(){o(),u&&(c(u,{variant:"error"}),p())}),[]),null!==s&&0===s.length&&!j)return Object(C.jsx)("h4",{children:"Please add a user"});var g=function(e){var t=e.label,a=e.onDelete;return Object(C.jsx)(je.a,{variant:"outlined",color:"primary",label:t,onDelete:a})},f={filter:!0,filterType:"dropdown",sortOrder:{name:"QUBID",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"userAdminDownload.csv"},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},onRowsDelete:function(e){e.data.length<=10?e.data.map((function(e){return s[e.dataIndex]})).forEach((function(e){e._id===r._id?(c("You cannot delete your own record",{variant:"error"}),p()):(c("User ".concat(e.firstName," ").concat(e.lastName," (").concat(e.QUBID,") deleted"),{variant:"success"}),d(e._id))})):(t.loading=!0,e.data.map((function(e){return s[e.dataIndex]})).forEach((function(e){e._id===r._id?(c("You cannot delete your own record",{variant:"error"}),p()):d(e._id)})),t.loading=!1)}},y=[{name:"_id",label:"UserId",options:{filter:!1,display:!1,download:!1,sort:!1}},{name:"QUBID",label:"QUBID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"firstName",label:"First Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"lastName",label:"Last Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"role",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"status",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRenderLite:function(e){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{container:!0,direction:"row",alignContent:"center",alignItems:"center",justify:"space-around",children:[Object(C.jsxs)(m.a,{item:!0,align:"center",children:[Object(C.jsx)(rt.a,{onClick:function(t){!function(e,t){e.preventDefault(),x(s[t]),O()}(t,e)}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Edit"})]}),Object(C.jsxs)(I.a,{align:"center",children:[Object(C.jsx)(we.a,{onClick:function(t){!function(e,t){a.setCurrent(s[t]);var n="/user/".concat(s[t]._id);h.push(n)}(0,e)}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"View"})]})]})})}}}];return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===s||j?Object(C.jsx)(w,{}):Object(C.jsx)(m.a,{container:!0,spacing:4,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(me.a,{title:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"User Account Admin"}),Object(C.jsx)(I.a,{variant:"caption",children:"Update basic user account information"})]}),data:s,columns:y,options:f,components:{TableFilterList:function(e){return Object(C.jsx)(be.TableFilterList,Object(b.a)(Object(b.a)({},e),{},{ItemComponent:g}))}}})})})})})})},ct=function(e){var t=Object(n.useContext)(Ee),a=t.loadUser,r=t.isAdmin,i=t.user,c=t.loading;return Object(n.useEffect)((function(){a(),c||r||e.history.push("/")}),[r,e.history]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(at,{}),Object(C.jsx)("div",{className:"grid-1",children:Object(C.jsx)(it,{user:i,isAdmin:r})})]})},st=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),lt=function(e){var t,a=st(),r=Object(n.useState)(!1),i=Object(u.a)(r,2),c=i[0],l=i[1],o=e.isAdmin,d=function(){l(!1)};return t=o?[{id:1,icon:Object(C.jsx)(s.b,{to:"/userAdmin",children:Object(C.jsx)(Be.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"/payments",children:Object(C.jsx)(ke.a,{})}),name:"Payments"}]:[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Be.a,{})}),name:"Back"}],Object(C.jsx)("div",{className:a.root,children:Object(C.jsx)(ge.a,{ariaLabel:"User Profile Navigation Control",className:a.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:d,onOpen:function(){l(!0)},open:c,FabProps:{color:"secondary"},children:t.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:d},e.id)}))})})},ot=a(198),dt=a.n(ot),jt=a(277),ut=a(781),bt=a(767),mt=a(283),pt=a(280),Ot=a(395),xt=a(393),ht=a(783),gt=a(732),ft=a(766),yt=a(430),vt=a.n(yt),St=a(431),Ct=a.n(St),Pt=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",fontSize:"1.2rem"},textFieldFull:{margin:e.spacing(1),width:"97%"},button:{backgroundColor:"rgb(214, 0, 13)",margin:e.spacing(1),width:"97%"},textField:{margin:e.spacing(1),width:"47%"},textLabel:{marginLeft:e.spacing(1),marginTop:e.spacing(2),marginRight:e.spacing(1),width:"26ch"},text:{textAlign:"center",marginBottom:30},taxText:{textAlign:"center",fontWeight:"bold"},taxTextSpacingTop:{marginTop:30},taxTextSpacingBottom:{marginBottom:30},Subtext:{margin:e.spacing(1)}}})),wt=function(e){var t=Pt(),a=Object(l.h)().id,r=Object(n.useContext)(X),i=Object(pe.b)(),c=i.enqueueSnackbar,s=(i.closeSnackbar,e.isAdmin),o=r.user,d=r.current,j=r.getUser,p=r.setCurrent,O=r.updateUser;Object(n.useEffect)((function(){null!==d?P(d):(j(a),p(o))}),[r,d]);var h=Object(n.useState)({newPassword:"",confirmPassword:"",currentPassword:""}),f=Object(u.a)(h,2),y=(f[0],f[1],Object(n.useState)({address:[{street:"",city:"",county:"",country:"",postcode:""}],contact:[{mobile:"",landline:""}],bank:[{bankName:"",branchName:"",sortCode:"",accNumber:"",buildingSocietyNumber:""}],dob:"",email:"",emailTokenIssued:"",emailTokenExpiry:"",emailVerified:!1,emailVerifiedDate:"",firstName:"",lastName:"",nino:"",password:"",password1:"",passwordResetToken:"",passwordResetTokenExpiresAt:"",pronoun:"",payment:"",payment1:"",QUBID:"",qubSchool:"",role:"",status:"",title:"",taxDeclaration:[{employeeStatements_section1:"A",employeeStatements_section2:1,employeeStatements_section3q1:!1,employeeStatements_section3q2:!1,employeeStatements_section3q3:!1,employeeStatements_section3q4:1,employeeStatements_section3q5:!1,signed:!1}]})),v=Object(u.a)(y,2),S=v[0],P=v[1],w=Object(n.useState)(0),N=Object(u.a)(w,2),k=N[0],A=N[1],D=function(e){e.preventDefault(),O(S),c("User Profile Updated",{variant:"success"})},F=function(e,t){switch(t){case 1:S.address[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;case 2:S.bank[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;case 3:S.contact[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;case 4:S.taxDeclaration[0][e.target.name]=e.target.value,P(Object(b.a)({},S));break;default:P(Object(b.a)(Object(b.a)({},S),{},Object(K.a)({},e.target.name,e.target.value)))}},U=function(e){S.taxDeclaration[0][e.target.name]=e.target.checked,P(Object(b.a)({},S))};return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{container:!0,spacing:3,children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(jt.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(ut.a,{indicatorColor:"primary",textColor:"primary",value:k,onChange:function(e,t){A(t)},children:[Object(C.jsx)(bt.a,{label:"ACCOUNT",icon:Object(C.jsx)(vt.a,{})}),Object(C.jsx)(bt.a,{label:"PROFILE",icon:Object(C.jsx)(we.a,{})}),Object(C.jsx)(bt.a,{label:"TAX",icon:Object(C.jsx)(Ct.a,{})})]})})}),Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(m.a,{item:!0,justify:"center",container:!0,children:Object(C.jsx)(jt.a,{display:"flex",flexDirection:"column",width:600,children:Object(C.jsx)("form",{children:0===k?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I.a,{variant:"h5",weight:"medium",className:t.text,children:"Edit your DemPay account details"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:t.textField,disabled:!0,id:"QUBID",type:"text",name:"QUBID",value:S.QUBID,onChange:F,label:"QUB ID",variant:"outlined"}),d&&"Pending"!==d.status?Object(C.jsx)(mt.a,{title:"Verified on: ".concat(dt()(S.emailVerifiedDate).format("DD/MM/YYYY h:mm A")),arrow:!0,children:Object(C.jsx)(Ke.a,{className:t.textField,disabled:!0,variant:"outlined",id:"status",name:"status",label:"Status",value:S.status,onChange:F})}):Object(C.jsx)(Ke.a,{error:!0,className:t.textField,disabled:!0,variant:"outlined",id:"status",name:"status",label:"Status",value:S.status,onChange:F,helperText:"Please verify your email"})]}),Object(C.jsx)(Ke.a,{disabled:!0,className:t.textFieldFull,id:"email",type:"email",name:"email",placeholder:"Email Address",value:S.email,onChange:F,label:"Email Address",variant:"outlined"}),Object(C.jsx)(Ke.a,{disabled:!0,className:t.textFieldFull,variant:"outlined",id:"role",name:"role",label:"Role",value:S.role,onChange:F}),Object(C.jsx)(Ke.a,{disabled:!0,className:t.textFieldFull,variant:"outlined",id:"qubSchool",name:"qubSchool",label:"QUB School",value:S.qubSchool,onChange:F})]}):1===k?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I.a,{variant:"h5",weight:"medium",className:t.text,children:"Edit your personal information"}),Object(C.jsx)(I.a,{variant:"h6",weight:"medium",className:t.Subtext,children:"Personal information"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"title",name:"title",label:"Title",value:S.title,onChange:function(e){return F(e)},children:ae.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"pronoun",name:"pronoun",label:"Pronoun",value:S.pronoun,onChange:function(e){return F(e)},children:ne.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:t.textField,required:!0,id:"firstName",type:"text",name:"firstName",placeholder:"First Name",value:S.firstName,onChange:function(e){return F(e)},label:"First Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textField,required:!0,id:"lastName",type:"text",name:"lastName",placeholder:"Last Name",value:S.lastName,onChange:function(e){return F(e)},label:"Last Name",variant:"outlined"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"dob",type:"date",name:"dob",value:S.dob,onChange:function(e){return F(e)},label:"Date Of Birth",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textField,required:!0,id:"nino",type:"text",name:"nino",placeholder:"XX000000X",value:S.nino,onChange:function(e){return F(e)},label:"National Insurance",variant:"outlined"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{className:t.textField,id:"mobile",type:"tel",name:"mobile",placeholder:"07000 000000",value:S.contact[0].mobile,onChange:function(e){return F(e,3)},label:"Mobile Number",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textField,id:"landline",type:"tel",name:"landline",placeholder:"020 0000 0000",value:S.contact[0].landline,onChange:function(e){return F(e,3)},label:"Landline Number",variant:"outlined"})]}),Object(C.jsx)(I.a,{variant:"h6",weight:"medium",className:t.Subtext,children:"Address information"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"street",type:"text",name:"street",placeholder:"Street Address",value:S.address[0].street,onChange:function(e){return F(e,1)},label:"Street Address",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"city",type:"text",name:"city",placeholder:"City",value:S.address[0].city,onChange:function(e){return F(e,1)},label:"City",variant:"outlined"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"county",name:"county",label:"County",value:S.address[0].county,onChange:function(e){return F(e,1)},children:ie.map((function(e){return Object(C.jsx)(E.a,{value:e.name,children:e.name},e.id)}))}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,select:!0,variant:"outlined",id:"country",name:"country",label:"Country",value:S.address[0].country,onChange:function(e){return F(e,1)},children:re.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))})]}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"postcode",type:"text",name:"postcode",placeholder:"Postcode",value:S.address[0].postcode,onChange:function(e){return F(e,1)},label:"Postcode",variant:"outlined"}),Object(C.jsx)(I.a,{variant:"h6",weight:"medium",className:t.Subtext,children:"Bank Information"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"bankName",type:"text",name:"bankName",placeholder:"Bank Name",value:S.bank[0].bankName,onChange:function(e){return F(e,2)},label:"Bank Name",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textFieldFull,id:"branchName",type:"text",name:"branchName",placeholder:"Branch Name",value:S.bank[0].branchName,onChange:function(e){return F(e,2)},label:"Branch Name",variant:"outlined"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"sortCode",type:"text",name:"sortCode",placeholder:"Sort Code",value:S.bank[0].sortCode,onChange:function(e){return F(e,2)},label:"Sort Code",variant:"outlined"}),Object(C.jsx)(Ke.a,{required:!0,className:t.textField,id:"accNumber",type:"text",name:"accNumber",placeholder:"Account Number",value:S.bank[0].accNumber,onChange:function(e){return F(e,2)},label:"Account Number",variant:"outlined"})]}),Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"buildingSocietyNumber",type:"text",name:"buildingSocietyNumber",placeholder:"Building Society Number",value:S.bank[0].buildingSocietyNumber,onChange:function(e){return F(e,2)},label:"Building Society Number",variant:"outlined"}),Object(C.jsx)(jt.a,{children:Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:D,color:"secondary",variant:"contained",children:"Save"})})]}):2===k?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(I.a,{variant:"h5",weight:"medium",className:t.text,children:"Tax Declaration"}),Object(C.jsxs)(I.a,{className:t.taxText,children:[Object(C.jsx)("h2",{children:"Section 1"}),Object(C.jsx)("h3",{children:"Employee Statement"}),Object(C.jsx)("p",{children:"You need to select only one of the following statements A, B or C, if you do not have a P45 or the leaving date on your P45 is before last 6th April."})]}),Object(C.jsx)(pt.a,{disabled:S.taxDeclaration[0].signed,component:"fieldset",error:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1,children:Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingTop,t.taxTextSpacingBottom),name:"employeeStatements_section1",value:S.taxDeclaration[0].employeeStatements_section1,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"A"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"This is my first job since last 6 April and I have not been receiving taxable Jobseeker\u2019s Allowance, Employment and Support Allowance, taxable A Incapacity Benefit, State or Occupational Pension."})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(xt.a,{value:"A",control:Object(C.jsx)(ht.a,{}),label:"A"}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"B"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"This is now my only job but since last 6 April I have had another job, or received taxable Jobseeker\u2019s Allowance, Employment and Support Allowance or taxable Incapacity Benefit. I do not receive a State or B Occupational Pension."})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(xt.a,{value:"B",control:Object(C.jsx)(ht.a,{}),label:"B"}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"C"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"As well as my new job, I have another job or receive a State or Occupational Pension."})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(xt.a,{value:"C",control:Object(C.jsx)(ht.a,{}),label:"C"}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1?"Required":""})]})]})})}),Object(C.jsx)("hr",{}),Object(C.jsxs)(I.a,{className:Object(g.default)(t.taxText,t.taxTextSpacingTop),children:[Object(C.jsx)("h2",{children:"Section 2"}),Object(C.jsx)("h3",{children:"Employee Statement"}),Object(C.jsx)("p",{children:"Please select the statement which applies to you"})]}),Object(C.jsx)(pt.a,{disabled:S.taxDeclaration[0].signed,component:"fieldset",error:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section2,children:Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingTop,t.taxTextSpacingBottom),name:"employeeStatements_section2",value:S.taxDeclaration[0].employeeStatements_section2,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"1"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"I am an EU/EEA/Swiss National"})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(xt.a,{value:"1",control:Object(C.jsx)(ht.a,{}),label:"1"}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section2?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:1,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"2"})}),Object(C.jsx)(m.a,{item:!0,xs:10,children:Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"I am a Non-EU/EEA/Swiss National (I agree to the terms and conditions below)"})}),Object(C.jsxs)(m.a,{item:!0,xs:1,children:[Object(C.jsx)(xt.a,{value:"2",control:Object(C.jsx)(ht.a,{}),label:"2"}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section2?"Required":""})]}),Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)(I.a,{variant:"p",weight:"medium",children:[Object(C.jsx)("p",{children:"Please Note: Current Tier 4 students cannot be engaged via the NSP payroll. If you are a Tier 4 student, please contact OnCampus jobs ext: 3953 in the first instance."}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"If you are subject to any other restrictions on your visa, completion of this form confirms you fully understand any restrictions on working hours of your immigration permission and you agree to abide by those restrictions"})]})})]})})}),Object(C.jsx)("hr",{}),Object(C.jsxs)(I.a,{className:Object(g.default)(t.taxText,t.taxTextSpacingTop),children:[Object(C.jsx)("h2",{children:"Section 3"}),Object(C.jsx)("p",{children:"Student Loan Declaration"}),Object(C.jsx)("p",{children:"Please read the following questions carefully and select the statement which applies to you."})]}),Object(C.jsxs)(pt.a,{disabled:S.taxDeclaration[0].signed,component:"fieldset",error:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section1||""===S.taxDeclaration[0].employeeStatements_section2||""===S.taxDeclaration[0].employeeStatements_section3q1||"true"===S.taxDeclaration[0].employeeStatements_section3q1&&""===S.taxDeclaration[0].employeeStatements_section3q2||"true"===S.taxDeclaration[0].employeeStatements_section3q2&&""===S.taxDeclaration[0].employeeStatements_section3q3||"false"===S.taxDeclaration[0].employeeStatements_section3q3&&""===S.taxDeclaration[0].employeeStatements_section3q4||""===S.taxDeclaration[0].employeeStatements_section3q5,children:[Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingTop,t.taxTextSpacingBottom),name:"employeeStatements_section3q1",value:S.taxDeclaration[0].employeeStatements_section3q1,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(I.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 1:"}),Object(C.jsx)("p",{children:"Have you left full-time education before the last 6th April?"})]}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q1?"Required":""})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(xt.a,{value:"true",control:Object(C.jsx)(ht.a,{}),label:"Yes"}),Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"(Go to Question 2)"})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(xt.a,{value:"false",control:Object(C.jsx)(ht.a,{}),label:"No"}),Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"(Sign the declaration below)"})]})]})}),"true"===S.taxDeclaration[0].employeeStatements_section3q1?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q2",value:S.taxDeclaration[0].employeeStatements_section3q2,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(I.a,{variant:"p",weight:"medium",children:[Object(C.jsx)("p",{children:"Question 2:"}),Object(C.jsx)("p",{children:"Do you have a Student Loan which is not fully repaid?"})]}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q2?"Required":""})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(xt.a,{value:"true",control:Object(C.jsx)(ht.a,{}),label:"Yes"}),Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"(Go to Question 3)"})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(xt.a,{value:"false",control:Object(C.jsx)(ht.a,{}),label:"No"}),Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"(Sign the declaration below)"})]})]})}),"true"===S.taxDeclaration[0].employeeStatements_section3q2?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q3",value:S.taxDeclaration[0].employeeStatements_section3q3,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(I.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 3:"}),Object(C.jsx)("p",{children:"Are you repaying your Student Loan direct to the Student Loan Company by agreed monthly payments?"})]}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q3?"Required":""})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(xt.a,{value:"true",control:Object(C.jsx)(ht.a,{}),label:"Yes"}),Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"(Sign the declaration below)"})]}),Object(C.jsxs)(m.a,{item:!0,xs:6,children:[Object(C.jsx)(xt.a,{value:"false",control:Object(C.jsx)(ht.a,{}),label:"No"}),Object(C.jsx)(I.a,{variant:"p",weight:"medium",children:"(Go to Question 4)"})]})]})}),"false"===S.taxDeclaration[0].employeeStatements_section3q3?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q4",value:S.taxDeclaration[0].employeeStatements_section3q4,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)(I.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 4:"}),Object(C.jsx)("p",{children:"Student Load Plans - Please select Plan 1 or Plan 2"}),Object(C.jsx)("em",{children:Object(C.jsxs)("div",{style:{paddingLeft:30,paddingTop:10},children:[Object(C.jsx)("p",{children:"Note: You will have a Plan 1 student loan if:"}),Object(C.jsxs)("ol",{children:[Object(C.jsx)("li",{children:"You lived in Scotland or Northern Ireland when you started your course, or"}),Object(C.jsx)("li",{children:"You lived in England or Wales and started your course before 1st September 2012"})]})]})}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q4?"Required":""})]})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(xt.a,{value:"1",control:Object(C.jsx)(ht.a,{}),label:"Plan 1"})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(xt.a,{value:"2",control:Object(C.jsx)(ht.a,{}),label:"Plan 2"})})]})}),Object(C.jsx)(Ot.a,{className:Object(g.default)(t.taxTextSpacingBottom),name:"employeeStatements_section3q5",checked:S.taxDeclaration[0].employeeStatements_section3q5,onChange:function(e){return F(e,4)},children:Object(C.jsxs)(m.a,{className:t.taxAlign,xs:12,container:!0,spacing:3,alignItems:"center",children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)(I.a,{weight:"medium",children:[Object(C.jsx)("p",{children:"Question 5:"}),Object(C.jsx)("p",{children:"Post Graduate Student Loan - Have you left full-time education before the last 6th April and have a Post Graduate Student Loan which is not fully repaid which is not being repaid via Direct Debit to the Student Loan Company?"}),Object(C.jsx)(gt.a,{children:S.taxDeclaration[0].signed&&""===S.taxDeclaration[0].employeeStatements_section3q5?"Required":""})]})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(xt.a,{value:"Yes",control:Object(C.jsx)(ht.a,{}),label:"Yes"})}),Object(C.jsx)(m.a,{item:!0,xs:6,children:Object(C.jsx)(xt.a,{value:"No",control:Object(C.jsx)(ht.a,{}),label:"No"})})]})})]}):""]}):""]}):""]}),s?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(jt.a,{display:"flex",mt:2,mb:2,alignItems:"center",children:[Object(C.jsx)(I.a,{weight:"medium",children:"I confirm the data provided is correct & hereby sign this declaration"}),Object(C.jsx)(ft.a,{checked:S.taxDeclaration[0].signed,onChange:function(e){return U(e)},name:"signed",color:"secondary"})]}),Object(C.jsx)(jt.a,{children:Object(C.jsx)(x.a,{disabled:!S.taxDeclaration[0].signed||""===S.taxDeclaration[0].employeeStatements_section1||""===S.taxDeclaration[0].employeeStatements_section2||""===S.taxDeclaration[0].employeeStatements_section3q1||"true"===S.taxDeclaration[0].employeeStatements_section3q1&&""===S.taxDeclaration[0].employeeStatements_section3q2||"true"===S.taxDeclaration[0].employeeStatements_section3q2&&""===S.taxDeclaration[0].employeeStatements_section3q3||"false"===S.taxDeclaration[0].employeeStatements_section3q3&&""===S.taxDeclaration[0].employeeStatements_section3q4||""!==S.taxDeclaration[0].employeeStatements_section3q4&&""===S.taxDeclaration[0].employeeStatements_section3q5,size:"large",fullWidth:!0,className:t.button,onClick:function(e){return D(e)},color:"secondary",variant:"contained",children:"Save"})})]}):Object(C.jsx)(C.Fragment,{children:S.taxDeclaration[0].signed?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(jt.a,{display:"flex",mt:2,mb:2,alignItems:"center",children:[Object(C.jsx)(I.a,{weight:"medium",children:"I confirm the data provided is correct & hereby sign this declaration"}),Object(C.jsx)(ft.a,{disabled:!!S.taxDeclaration[0].signed,checked:S.taxDeclaration[0].signed,onChange:function(e){return U(e)},name:"signed",color:"secondary"})]}),Object(C.jsx)(jt.a,{children:Object(C.jsx)(x.a,{disabled:!S.taxDeclaration[0].signed||""===S.taxDeclaration[0].employeeStatements_section1||""===S.taxDeclaration[0].employeeStatements_section2||""===S.taxDeclaration[0].employeeStatements_section3q1||"true"===S.taxDeclaration[0].employeeStatements_section3q1&&""===S.taxDeclaration[0].employeeStatements_section3q2||"true"===S.taxDeclaration[0].employeeStatements_section3q2&&""===S.taxDeclaration[0].employeeStatements_section3q3||"false"===S.taxDeclaration[0].employeeStatements_section3q3&&""===S.taxDeclaration[0].employeeStatements_section3q4||""!==S.taxDeclaration[0].employeeStatements_section3q4&&""===S.taxDeclaration[0].employeeStatements_section3q5,size:"large",fullWidth:!0,className:t.button,onClick:function(e){return D(e)},color:"secondary",variant:"contained",children:"Save"})})]}):""})]}):""})})})})]})})})},Nt=function(e){var t=Object(n.useContext)(Ee),a=t.loadUser,r=t.user,i=t.isAdmin;return Object(n.useEffect)((function(){a()}),[]),Object(C.jsxs)("div",{children:[Object(C.jsx)(lt,{isAdmin:i}),Object(C.jsx)(wt,{activeUser:r,isAdmin:i})]})},kt=a(284),At=a.n(kt),Dt=a(94),Et=a.n(Dt),Ft=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Ut=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Be.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Et.a,{})}),name:"Import File"},{id:3,icon:Object(C.jsx)(s.b,{to:"/payments/new",children:Object(C.jsx)(At.a,{})}),name:"Manually Add Payment"}],Tt=function(){var e=Ft(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],i=a[1],c=function(){i(!1)};return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(ge.a,{ariaLabel:"Payments Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:c,onOpen:function(){i(!0)},open:n,FabProps:{color:"secondary"},children:Ut.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:c},e.name)}))})})},_t=function(){var e=Object(n.useContext)(Ee);return Object(n.useEffect)((function(){e.loadUser()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Tt,{}),Object(C.jsx)(he,{})]})},It=a(775),Rt=a(776),Bt=a(777),zt=a(778),qt=a(779),Gt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"}}})),Lt=(new Date).toUTCString();var Ht=function(e){Gt(),Object(n.useContext)(X);var t=Object(n.useContext)(Z),a=e.user,r=e.payments,i=Object(pe.b)(),c=i.enqueueSnackbar,s=(i.closeSnackbar,Object(l.h)().id,t.loading),o=t.clearErrors,d=t.deletePayment,j=t.approvePayment,u=t.rejectPayment,p=t.holdPayment,O=t.pendingPayment,x=t.paidPayment,h=Object(l.g)();if(null!==r&&0===r.length&&!s)return Object(C.jsx)("h4",{children:"You have no payments recorded"});var g=function(e){j(e)},f=function(e){u(e)},y=function(e){var t=e.label,a=e.onDelete;return Object(C.jsx)(je.a,{variant:"outlined",color:"primary",label:t,onDelete:a})},v={filter:!0,filterType:"dropdown",sortOrder:{name:"paymentPeriodNum",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"payments-".concat(Lt,".csv")},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},selectableRowsHideCheckboxes:!1,onRowsDelete:function(e){e.data.length<=10?e.data.map((function(e){return r[e.dataIndex]})).forEach((function(e){e.user===a._id?(c("You cannot delete your own record",{variant:"error"}),o()):(c("Payment for QUBID ".concat(e.QUBID," deleted"),{variant:"success"}),d(e._id))})):(t.loading=!0,e.data.map((function(e){return r[e.dataIndex]})).forEach((function(e){e._id===a._id?(c("You cannot delete your own record",{variant:"error"}),o()):d(e._id)})),t.loading=!1)}},S=[{name:"_id",label:"UserId",options:{filter:!1,display:!1,download:!1,sort:!1}},{name:"paymentPeriodNum",label:"Month",options:{filter:!1,display:!1,download:!0,sort:!0}},{name:"paymentPeriod",label:"Month",options:{filter:!1,display:!0,download:!0,sort:!0,customBodyRender:function(e){return t=e,oe.map((function(e){return e.value}))[t-1];var t}}},{name:"QUBID",label:"QUBID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"academicYear",label:"Year",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"account",label:"Account",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"deliveredBy",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"amount",label:"Amount",options:{filter:!0,display:!0,download:!1,sort:!1,customBodyRender:function(e,t,a){return new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e)}}},{name:"amount",label:"amount",options:{filter:!0,display:!1,download:!0,sort:!1,customBodyRender:function(e,t,a){return new Intl.NumberFormat("en-GB",{style:"decimal",minimumFractionDigits:"2"}).format(e)}}},{name:"paymentStatus",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"updatedByUserDate",label:"Updated",options:{filter:!0,display:!1,download:!0,sort:!1}},{name:"Actions",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRender:function(e,t,a){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{container:!0,direction:"row",justify:"space-between",children:"Rejected"===t.rowData.find((function(e){return"Rejected"===e}))||"Paid"===t.rowData.find((function(e){return"Paid"===e}))?"":"Pending"===t.rowData.find((function(e){return"Pending"===e}))?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(I.a,{color:"primary",align:"center",children:[Object(C.jsx)(It.a,{fontSize:"small",onClick:function(){return g(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Approve"})]}),Object(C.jsxs)(I.a,{color:"secondary",align:"center",children:[Object(C.jsx)(Rt.a,{fontSize:"small",onClick:function(){f(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Reject"})]}),Object(C.jsxs)(I.a,{color:"textSecondary",align:"center",children:[Object(C.jsx)(Bt.a,{fontSize:"small",onClick:function(e){!function(e){p(e)}(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Hold"})]})]}):"On Hold"===t.rowData.find((function(e){return"On Hold"===e}))?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(I.a,{color:"primary",align:"center",children:[Object(C.jsx)(It.a,{fontSize:"small",onClick:function(){return g(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Approve"})]}),Object(C.jsxs)(I.a,{color:"secondary",align:"center",children:[Object(C.jsx)(Rt.a,{fontSize:"small",onClick:function(){f(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Reject"})]}),Object(C.jsxs)(I.a,{color:"textSecondary",align:"center",children:[Object(C.jsx)(zt.a,{fontSize:"small",onClick:function(){!function(e){O(e)}(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Pending"})]})]}):Object(C.jsxs)(I.a,{style:{color:"green"},align:"center",children:[Object(C.jsx)(qt.a,{fontSize:"small",onClick:function(){return function(e){x(e)}(t.rowData[0])}}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"Paid"})]})})})}}},{name:"",options:{filter:!1,sort:!1,empty:!0,download:!1,customBodyRender:function(e,t,a){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(m.a,{container:!0,direction:"row",alignContent:"center",alignItems:"center",children:Object(C.jsxs)(I.a,{align:"center",children:[Object(C.jsx)(ue.a,{fontSize:"small",onClick:function(){return function(e){var t="/payments/".concat(e);h.push(t)}(t.rowData[0])},userID:t.rowData[0]}),Object(C.jsx)(I.a,{align:"center",display:"block",variant:"caption",children:"View"})]})})})}}}];return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===r||s?Object(C.jsx)(w,{}):Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(me.a,{title:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"User Payments"}),Object(C.jsx)(I.a,{variant:"caption",children:"To approve payments individually, please select a row"})]}),data:r,columns:S,options:v,components:{TableFilterList:function(e){return Object(C.jsx)(be.TableFilterList,Object(b.a)(Object(b.a)({},e),{},{ItemComponent:y}))}}})})})})})})},Mt=a(133),Wt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"}}})),Yt=function(e){var t=Wt(),a=e.onClickReject,r=e.onClickApprove,i=e.onClickPaid;return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Mt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:4,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(x.a,{onClick:function(){a()},variant:"contained",color:"secondary",children:"Reject All Pending"})}),Object(C.jsxs)(m.a,{item:!0,xs:8,className:Object(g.default)(t.root,t.right),children:[Object(C.jsx)(x.a,{variant:"contained",component:s.b,to:"/payments/new",color:"default",children:"Add Payment"}),Object(C.jsx)(x.a,{onClick:function(){r()},variant:"contained",color:"primary",children:"Approve All Pending"}),Object(C.jsx)(x.a,{onClick:function(){i()},variant:"contained",style:{backgroundColor:"green",color:"white"},children:"Mark All As Paid"})]})]})})})})})},Qt=a(764),Vt=a(21),Jt=function(e){var t=Object(Vt.a)(),a=Object(Qt.a)(t.breakpoints.down("sm")),n=e.hideForm,r=e.stage,i=e.finalisePayment,c=e.invoiceTotal,s=e.RejectAllPayments,l=e.ApproveAllPayments,o=e.PaidAllPayments;return Object(C.jsxs)("div",{children:[Object(C.jsxs)(Ye.a,{fullScreen:a,open:"SubmitPaymentForm"===r,onClose:n,"aria-labelledby":"responsive-dialog-title",children:[Object(C.jsx)(Qe.a,{id:"responsive-dialog-title",children:"Confirmation Required"}),Object(C.jsxs)(Ve.a,{children:[Object(C.jsxs)(Je.a,{children:["You are about to finalise a payment to the value of \xa3",c,"."]}),Object(C.jsx)(Je.a,{children:"Do you want to continue?"})]}),Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{autoFocus:!0,onClick:n,color:"primary",children:"Cancel"}),Object(C.jsx)(x.a,{onClick:function(){i()},color:"primary",autoFocus:!0,children:"Continue"})]})]}),Object(C.jsxs)(Ye.a,{fullScreen:a,open:"RejectAllPayments"===r||"ApproveAllPayments"===r||"PaidAllPayments"===r,onClose:n,"aria-labelledby":"responsive-dialog-title",children:[Object(C.jsx)(Qe.a,{id:"responsive-dialog-title",children:"Confirmation Required"}),Object(C.jsxs)(Ve.a,{children:[Object(C.jsxs)(Je.a,{children:["You are about to","RejectAllPayments"===r?" REJECT ALL pending Payments!":"ApproveAllPayments"===r?" APPROVE ALL pending Payments!":"PaidAllPayments"===r?" set ALL APPROVED payments to Paid":""]}),Object(C.jsx)(Je.a,{children:"Do you want to continue?"})]}),Object(C.jsxs)(Ze.a,{children:[Object(C.jsx)(x.a,{autoFocus:!0,onClick:n,color:"primary",children:"Cancel"}),"RejectAllPayments"===r?Object(C.jsx)(x.a,{onClick:function(){s()},color:"primary",autoFocus:!0,children:"Reject All"}):"ApproveAllPayments"===r?Object(C.jsx)(x.a,{onClick:function(){l()},color:"primary",autoFocus:!0,children:"Approve All"}):"PaidAllPayments"===r?Object(C.jsx)(x.a,{onClick:function(){o()},color:"primary",autoFocus:!0,children:"Set All to Paid"}):"Something Went Wrong"]})]})]})},Kt=function(e){var t=Object(n.useContext)(Ee),a=Object(n.useContext)(Z),r=t.loadUser,i=t.isAdmin,c=t.user,s=a.getPayments,l=a.payments,o=a.loading,d=a.setLoading,j=a.error,b=a.clearErrors,m=a.rejectAllPayments,p=a.approveAllPayments,O=a.paidAllPayments,x=Object(pe.b)(),h=x.enqueueSnackbar;x.closeSnackbar;Object(n.useEffect)((function(){r(),s(),t.loading||i||e.history.push("/"),j&&(h(j,{variant:"error"}),b())}),[i,e.history,j,o]);var g=Object(n.useState)(!1),f=Object(u.a)(g,2),y=f[0],v=f[1],S=Object(n.useState)(""),P=Object(u.a)(S,2),N=P[0],k=P[1],A=function(){v(!0)},D=function(){v(!1)};return Object(C.jsx)(C.Fragment,{children:o?Object(C.jsx)(w,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Tt,{}),Object(C.jsx)(Yt,{onClickReject:function(){A(),k("RejectAllPayments")},onClickApprove:function(){A(),k("ApproveAllPayments")},onClickPaid:function(){A(),k("PaidAllPayments")}}),Object(C.jsx)(Ht,{user:c,isAdmin:i,payments:l}),y&&Object(C.jsx)(Jt,{RejectAllPayments:function(){D(),k(""),d(),m(),s()},ApproveAllPayments:function(){D(),k(""),d(),p(),s()},PaidAllPayments:function(){D(),k(""),d(),O(),s()},hideForm:D,stage:N})]})})},Xt=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Zt=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Be.a,{})}),name:"Back"},{id:2,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Et.a,{})}),name:"Import File"}],$t=function(){var e=Xt(),t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],i=a[1],c=function(){i(!1)};return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(ge.a,{ariaLabel:"Payments Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:c,onOpen:function(){i(!0)},open:n,FabProps:{color:"secondary"},children:Zt.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:c},e.name)}))})})},ea=a(33),ta=a(5),aa=a(782),na=a(756),ra=a(758),ia=a(757),ca=a(768),sa=a(396),la=a(769),oa=a(401),da=a(398),ja=a(397),ua=a(215),ba=a(765),ma=Object(h.a)((function(e){return{table:{minWidth:700,fontSize:e.typography.pxToRem(5)}}})),pa=function(){var e=ma();return Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(ca.a,{component:Mt.a,children:Object(C.jsxs)(sa.a,{className:Object(g.default)(e.table,e.root),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"center",children:"Marking Range"}),Object(C.jsx)(da.a,{align:"center",children:"Definition"}),Object(C.jsx)(da.a,{align:"center",children:"Examples"}),Object(C.jsx)(da.a,{align:"center",children:"Duration"}),Object(C.jsx)(da.a,{align:"center",children:"Min Competence Level"})]})}),Object(C.jsxs)(ja.a,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"center",children:"A"}),Object(C.jsx)(da.a,{align:"left",children:"Very well-defined marking criteria; working to prepared/model answer(s); limited academic discretion/judgement required; high level of specialist knowledge not required"}),Object(C.jsx)(da.a,{align:"left",children:"Mathematical, technical and computational assessments, such as lab books and other assignments which map onto the criteria listed under Definition A"}),Object(C.jsx)(da.a,{align:"left",children:"6 pieces per hour (10 mins per piece1)"}),Object(C.jsx)(da.a,{align:"center",children:"AC1/PGR A"})]},1),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"center",children:"B"}),Object(C.jsx)(da.a,{align:"left",children:"Well-defined criteria; some guidance provided on model answer, but requires interpretation of responses based on academic judgement/discretion; a level of specialist knowledge required as well as the ability to assess application and analysis of key principles in the discipline"}),Object(C.jsx)(da.a,{align:"left",children:"Shorter written pieces requiring significant correction/annotation eg language marking (AEL); tutorial package i.e. presentation & reflective reports (HAPP);  mathematical coursework, technical and computational assessments, such as lab books and other assignments which map onto the criteria listed under Definition B"}),Object(C.jsx)(da.a,{align:"left",children:"3 pieces per hour (20 mins per piece)"}),Object(C.jsx)(da.a,{align:"center",children:"AC1/PGR A"})]},2),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"center",children:"C"}),Object(C.jsx)(da.a,{align:"left",children:"Broad criteria to be applied, requiring substantial academic judgement to assess evidence of students' higher-level skills (e.g.interpretation/application/ analysis/synthesis/evaluation of materials and concepts); ability to undertake independent assessment and good level of specialist knowledge required"}),Object(C.jsx)(da.a,{align:"left",children:"Essay/Substantial written piece;  mathematical coursework, technical and computational assessments, such as lab books and other assignments which map onto the criteria listed under Definition C"}),Object(C.jsx)(da.a,{size:"medium",align:"left",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:"2-3000 = 20 mins (3 pieces per hour)"}),Object(C.jsx)("li",{children:"3-4000 = 30 mins (2 pieces per hour)"}),Object(C.jsx)("li",{children:"4-5000 = 40 mins (1.5 per hour)"}),Object(C.jsx)("li",{children:"Greater than 5000 words = 45 mins (2 per 1.5 hours or 4 per 3 hours)"}),Object(C.jsx)("li",{children:"Lab books and other assignments within mathematical, technical and computational assessments in range C = 30 mins (2 pieces per hour)"})]})}),Object(C.jsx)(da.a,{align:"center",children:"AC2/PGR B"})]},3),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"center",children:"D"}),Object(C.jsx)(da.a,{align:"left",children:"Well-defined criteria, but requires interpretation of responses based on a level of specialist knowledge and the ability to assess application and analysis of key principles"}),Object(C.jsx)(da.a,{align:"left",children:"Oral Exam"}),Object(C.jsx)(da.a,{align:"left",children:"Duration of the exam, including examiner discussion, plus 0.5 hours per hour of exam"}),Object(C.jsx)(da.a,{align:"center",children:"AC2/PGR B"})]},4)]})]})})})},Oa="\xa3",xa=14.73,ha=17.57,ga=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"},table:{minWidth:700},spacer:{marginTop:e.spacing(2)},textField:{"& > *":{}},footer:{minHeight:100},inputField:{textAlign:"center"},inputCenter:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14)},inputEdit:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14),backgroundColor:"#edfced"},finalButton:{margin:e.spacing(2)},BandB:{backgroundColor:"white",color:"white !important"}}})),fa=Object(ta.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:1e3,fontSize:e.typography.pxToRem(.1),border:"1px solid #dadde9"}}}))(mt.a);function ya(e){return"".concat(e.toFixed(2))}function va(e){return e.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0)}function Sa(e){return e.filter((function(e){return"AC1"===e.grade||"Band A"===e.grade})).reduce((function(e,t){return e+t.totalPaidHours}),0)}function Ca(e){return e.filter((function(e){return"AC2"===e.grade||"Band B"===e.grade})).reduce((function(e,t){return e+t.totalPaidHours}),0)}function Pa(e){return e.reduce((function(e,t){return e*t.count}),1)}function wa(e,t){return("0"+e).substr(-t)}var Na=function(e){var t=ga(),a=Object(n.useContext)(Z),i=Object(pe.b)(),c=i.enqueueSnackbar,o=(i.closeSnackbar,a.payments),d=a.addPayment,j=a.loading,p=a.error,O=Object(l.g)();Object(l.h)().id;Object(n.useEffect)((function(){null!==e.activeUsers?re(e.activeUsers):re([{_id:0,firstName:"",lastName:"",QUBID:""}]),p&&c(p,{variant:"error"})}),[e.activeUsers]);var h=(new Date).getMonth()+1,f=Object(n.useState)({user:"",deliveredBy:"TA",school:"Electronics, Electrical Engineering and Computer Science",academicYear:"2020/2021",paymentPeriod:h,paymentPeriodYear:(new Date).getFullYear(),paymentPeriodNum:parseInt((new Date).getFullYear().toString()+wa(h.toString(),2)),semester:"1",QUBID:"10000000",account:"",projectCode:"",projectName:"",subAnalysis:"",amount:0,student_cohort:!0,cohort_id:"00",paymentStatus:"Pending",grade1:"AC1",grade2:"AC2",rate1:xa,rate2:ha}),y=Object(u.a)(f,2),v=y[0],S=y[1],P=Object(n.useState)([{range:"A",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"B",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-1",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-2",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-3",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-4",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-5",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"D",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0}]),N=Object(u.a)(P,2),k=N[0],A=N[1],D=Object(n.useState)([{description:"No of Seminar Groups per week",count:0},{description:"No of weeks",count:0}]),F=Object(u.a)(D,2),U=F[0],T=F[1],_=Object(n.useState)({lecture:[{activity:"Prep - 1st delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0}],seminar:[{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (2hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],lab:[{activity:"Prep - 1st delivery (0.5hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],fieldTrip:[{activity:"Number of contact hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],office:[{activity:"0.5 hours per seminar group per week",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],marking:[{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Oral Exam",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],training:[{activity:"Number of hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}]}),R=Object(u.a)(_,2),B=R[0],z=R[1],q=Object(n.useState)({rate1:xa,rate2:ha}),G=Object(u.a)(q,2),L=G[0],H=G[1],M=Object(n.useState)({panel1:!1,panel2:!0,panel3:!0,resetButton:!0,addPaymentButton:!0}),W=Object(u.a)(M,2),Y=W[0],Q=W[1],V=Object(n.useState)({panel1:!0,panel2:!1,panel3:!1}),J=Object(u.a)(V,2),X=J[0],ee=J[1],te=Object(n.useState)([]),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(!1),je=Object(u.a)(ie,2),ue=je[0],be=je[1],me=Object(n.useState)({grade1:"AC1",grade2:"AC2"}),Oe=Object(u.a)(me,2),xe=Oe[0],he=Oe[1],ge=Object(n.useState)(!1),fe=Object(u.a)(ge,2),ye=fe[0],ve=fe[1],Se=Object(n.useState)(""),Ce=Object(u.a)(Se,2),Pe=Ce[0],we=Ce[1],Ne=function(e,t,a,n,r){var i,c="";switch(t){case 1:"TA"===e.target.value?(H({rate1:ya(xa),rate2:ya(ha)}),he({grade1:"AC1",grade2:"AC2"})):(H({rate1:ya(15.01),rate2:ya(20.01)}),he({grade1:"Band A",grade2:"Band B"})),S(Object(b.a)(Object(b.a)({},v),{},(i={},Object(K.a)(i,e.target.name,e.target.value),Object(K.a)(i,"grade1",xe.grade1),Object(K.a)(i,"rate1",L.rate1),Object(K.a)(i,"grade2",xe.grade2),Object(K.a)(i,"rate2",L.rate2),i)));break;case 2:if(v.paymentPeriodNum=parseInt(v.paymentPeriodYear.toString()+wa(v.paymentPeriod.toString(),2)),"user"===e.target.name){var s=ne.filter((function(t){return t._id===e.target.value}));v.QUBID=s[0].QUBID}S(Object(b.a)(Object(b.a)({},v),{},Object(K.a)({},e.target.name,e.target.value)));break;case 3:n[e.target.name]=parseFloat(e.target.value),n.paymentGrade=a,c=n.paymentGrade===xe.grade1?L.rate1:L.rate2,n.totalhrs=parseFloat(n.count*n.time),n.payment=parseFloat(n.totalhrs*c),z(Object(b.a)({},B));break;case 4:n[e.target.name]=parseFloat(e.target.value),n.paymentGrade=a,c=n.paymentGrade===xe.grade1?L.rate1:L.rate2,n.payment=parseFloat(n.totalhrs*c),z(Object(b.a)({},B));break;case 5:switch(r){case"A":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.1667*k[n].total)),A(Object(ea.a)(k)),B.marking[0].time=parseFloat(ya(Sa(k))),B.marking[0].totalhrs=parseFloat(ya(Sa(k))),B.marking[0].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[0].payment=parseFloat(ya(B.marking[0].time*c)),z(Object(b.a)({},B));break;case"B":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.3333*k[n].total)),A(Object(ea.a)(k)),B.marking[0].time=parseFloat(ya(Sa(k))),B.marking[0].totalhrs=parseFloat(ya(Sa(k))),B.marking[0].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[0].payment=parseFloat(ya(B.marking[0].time*c)),z(Object(b.a)({},B));break;case"C-1":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.3333*k[n].total)),A(Object(ea.a)(k)),B.marking[1].time=parseFloat(ya(Ca(k))),B.marking[1].totalhrs=parseFloat(ya(Ca(k))),B.marking[1].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[1].payment=parseFloat(ya(B.marking[1].time*c)),z(Object(b.a)({},B));break;case"C-2":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.5*k[n].total)),A(Object(ea.a)(k));break;case"C-3":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.6667*k[n].total)),A(Object(ea.a)(k)),B.marking[1].time=parseFloat(ya(Ca(k))),B.marking[1].totalhrs=parseFloat(ya(Ca(k))),B.marking[1].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[1].payment=parseFloat(ya(B.marking[1].time*c)),z(Object(b.a)({},B));break;case"C-4":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.75*k[n].total)),A(Object(ea.a)(k)),B.marking[1].time=parseFloat(ya(Ca(k))),B.marking[1].totalhrs=parseFloat(ya(Ca(k))),B.marking[1].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[1].payment=parseFloat(ya(B.marking[1].time*c)),z(Object(b.a)({},B));break;case"C-5":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseInt(k[n].numOfStudents*k[n].numOfCWPcsPerStudent),k[n].totalPaidHours=parseFloat(ya(.5*k[n].total)),A(Object(ea.a)(k)),B.marking[1].time=parseFloat(ya(Ca(k))),B.marking[1].totalhrs=parseFloat(ya(Ca(k))),B.marking[1].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[1].payment=parseFloat(ya(B.marking[1].time*c)),z(Object(b.a)({},B));break;case"D":k[n][e.target.name]=parseInt(e.target.value),k[n].grade=a,k[n].total=parseFloat(1.5*k[n].OralExamHours),k[n].totalPaidHours=parseFloat(ya(k[n].total)),A(Object(ea.a)(k)),B.marking[2].totalhrs=parseFloat(1.5*k[n].OralExamHours),B.marking[2].paymentGrade=a,c=k[n].grade===xe.grade1?L.rate1:L.rate2,B.marking[2].payment=parseFloat(ya(B.marking[2].totalhrs*c)),z(Object(b.a)({},B))}break;case 6:U[n][e.target.name]=parseInt(e.target.value),T(Object(ea.a)(U)),B.office[0].paymentGrade=a,B.office[0].time=Pa(U),B.office[0].totalhrs=parseInt(.5*Pa(U)),B.office[0].payment=parseFloat(B.office[0].totalhrs*L.rate1),z(Object(b.a)({},B));break;default:S(Object(b.a)(Object(b.a)({},v),{},Object(K.a)({},e.target.name,e.target.value)))}},ke=function(){ve(!1)},Ae=va(B.training)+va(B.marking)+va(B.office)+va(B.fieldTrip)+va(B.lab)+va(B.seminar)+va(B.lecture),Ee=k.reduce((function(e,t){return e+t.totalPaidHours}),0),Fe=Pa(U),Ue=Ae;return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:null===o||j?Object(C.jsx)(w,{}):Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Mt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:8,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"Add New Payment"}),Object(C.jsx)(I.a,{variant:"caption",children:"Teaching Support Framework - Contract and Payment Calculator"})]})}),Object(C.jsxs)(m.a,{item:!0,xs:4,className:Object(g.default)(t.root,t.right),children:[Object(C.jsx)(x.a,{variant:"contained",component:s.b,to:"/payments/",color:"secondary",children:"Back to Payments"}),Object(C.jsx)(x.a,{disabled:Y.resetButton,variant:"contained",onClick:function(){T([{description:"No of Seminar Groups per week",count:0},{description:"No of weeks",count:0}]),be(!1),v.user="",S({user:"",deliveredBy:"",school:"",academicYear:"",paymentPeriod:"",paymentPeriodNum:"",paymentPeriodYear:"",semester:"",QUBID:"",account:"",projectCode:"",projectName:"",subAnalysis:"",amount:0,student_cohort:!0,cohort_id:"00",paymentStatus:"Pending"}),H({rate1:14.73,rate2:17.57}),Q({panel1:!1,panel2:!0,panel3:!0,resetButton:!0,addPaymentButton:!0}),ee({panel1:!0,panel2:!1,panel3:!1}),z({lecture:[{activity:"Prep - 1st delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",paymentRate:0,time:0,count:0,totalhrs:0,payment:0}],seminar:[{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (2hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],lab:[{activity:"Prep - 1st delivery (0.5hrs)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - 1st delivery (1hr)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Prep - Repeat in same week (one repeat only)",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Delivery",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],fieldTrip:[{activity:"Number of contact hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],office:[{activity:"0.5 hours per seminar group per week",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],marking:[{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Exam / Non Exam / Coursework",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0},{activity:"Oral Exam",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}],training:[{activity:"Number of hours",paymentGrade:"",time:0,count:0,totalhrs:0,payment:0}]}),A([{range:"A",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"B",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-1",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-2",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-3",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-4",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"C-5",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0},{range:"D",grade:"",numOfStudents:0,numOfCWPcsPerStudent:0,OralExamHours:0,total:0,totalPaidHours:0}])},color:"secondary",children:"Reset"})]})]})})}),Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(na.a,{defaultExpanded:!0,expanded:X.panel1,disabled:Y.panel1,children:[Object(C.jsx)(ra.a,{"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(I.a,{variant:"h5",children:"Set Payment"})})})}),Object(C.jsx)(ia.a,{children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),Q({panel1:!0,panel2:!1,panel3:!0,resetButton:!1,addPaymentButton:!0}),ee({panel1:!1,panel2:!0,panel3:!1})}(e)},children:[Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:2,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.deliveredBy.length,helperText:0===v.deliveredBy.length?"Please select a value":"",required:!0,className:t.textField,fullWidth:!0,select:!0,variant:"outlined",name:"deliveredBy",label:"Delivered By",value:v.deliveredBy,onChange:function(e){return Ne(e,1)},children:se.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:2,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.semester.length,helperText:0===v.semester.length?"Please select a semester":"",required:!0,className:t.textField,fullWidth:!0,select:!0,variant:"outlined",name:"semester",label:"Semester",value:v.semester,onChange:function(e){return Ne(e)},children:ce.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:2,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.academicYear.length,helperText:0===v.academicYear.length?"Please select an academic year":"",required:!0,className:t.textField,fullWidth:!0,select:!0,variant:"outlined",name:"academicYear",label:"Academic Year",value:v.academicYear,onChange:function(e){return Ne(e)},children:le.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.paymentPeriod.length,helperText:0===v.paymentPeriod.length?"Please select a month":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"paymentPeriod",label:"Payment Month",value:v.paymentPeriod,onChange:function(e){return Ne(e,2)},children:oe.map((function(e){return Object(C.jsx)(E.a,{value:e.id,children:e.label},e.id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.paymentPeriodYear.length,helperText:0===v.paymentPeriodYear.length?"Please select a payment year":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"paymentPeriodYear",label:"Payment Year",value:v.paymentPeriodYear,onChange:function(e){return Ne(e,2)},children:de.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.value},e.value)}))})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.user.length,helperText:0===v.user.length?"Please select a user":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"user",label:"Name",value:v.user,onChange:function(e){return Ne(e,2)},children:ne.map((function(e){return Object(C.jsx)(E.a,{value:e._id,children:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.QUBID,")")},e._id)}))})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{error:0===v.school.length,helperText:0===v.school.length?"Please select a school":"",required:!0,fullWidth:!0,className:t.textField,select:!0,variant:"outlined",name:"school",label:"School",value:v.school,onChange:function(e){return Ne(e)},children:$.map((function(e){return Object(C.jsx)(E.a,{value:e.value,children:e.label},e.id)}))})})]}),Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,className:t.textField,variant:"outlined",name:"projectName",label:"Module",value:v.projectName,onChange:function(e){return Ne(e)}})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.right),children:Object(C.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",children:"Continue"})})]})]})})})]}),Object(C.jsxs)(na.a,{expanded:X.panel2,disabled:Y.panel2,children:[Object(C.jsx)(ra.a,{"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(I.a,{variant:"h5",children:"Marking & Office Hours"})}),Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.right),children:Object(C.jsx)(fa,{placement:"bottom-end",title:Object(C.jsx)(r.a.Fragment,{children:Object(C.jsx)(pa,{})}),children:Object(C.jsx)(De.a,{})})})]})}),Object(C.jsx)(ia.a,{children:Object(C.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),Q({panel1:!0,panel2:!0,panel3:!1,resetButton:!1,addPaymentButton:!0}),ee({panel1:!1,panel2:!1,panel3:!0}),we("SubmitPaymentForm")}(e)},children:Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsx)(ca.a,{component:Mt.a,children:Object(C.jsxs)(sa.a,{className:t.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsxs)(la.a,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",colSpan:4,children:"Marking hours Calculation (Exam / Non Exam / Coursework)"}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:"Range"}),Object(C.jsx)(da.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(da.a,{align:"center",children:"No of Students"}),Object(C.jsx)(da.a,{align:"center",children:"No of Pieces of Coursework per Student"}),Object(C.jsx)(da.a,{align:"center",children:"Oral Exam Contact Hours"}),Object(C.jsx)(da.a,{align:"center",children:"Total"}),Object(C.jsx)(da.a,{align:"center",children:"Total Paid hours"})]},Object(aa.a)())]}),Object(C.jsxs)(ja.a,{children:[k.map((function(e,a){return Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:e.range}),Object(C.jsx)(da.a,{align:"center",children:"A"===e.range||"B"===e.range?xe.grade1:xe.grade2}),"D"===e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,variant:"filled",name:"time"})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"numOfStudents",value:e.numOfStudents,onChange:function(t){"A"===e.range||"B"===e.range?Ne(t,5,xe.grade1,a,e.range):Ne(t,5,xe.grade2,a,e.range)}})}),"D"===e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,variant:"filled",name:"time"})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"numOfCWPcsPerStudent",value:e.numOfCWPcsPerStudent,onChange:function(t){"A"===e.range||"B"===e.range?Ne(t,5,xe.grade1,a,e.range):Ne(t,5,xe.grade2,a,e.range)}})}),"D"!==e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,variant:"filled",name:"time"})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"OralExamHours",value:e.OralExamHours,onChange:function(t){"A"===e.range||"B"===e.range?Ne(t,5,xe.grade1,a,e.range):Ne(t,5,xe.grade2,a,e.range)}})}),"D"!==e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"total",value:e.numOfCWPcsPerStudent*e.numOfStudents,onChange:function(t){"A"===e.range||"B"===e.range?Ne(t,5,xe.grade1,a,e.range):Ne(t,5,xe.grade2,a,e.range)}})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"total",value:e.OralExamHours,onChange:function(t){"A"===e.range||"B"===e.range?Ne(t,5,xe.grade1,a,e.range):Ne(t,5,xe.grade2,a,e.range)}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:e.totalPaidHours,onChange:function(t){"A"===e.range||"B"===e.range?Ne(t,5,xe.grade1,a,e.range):Ne(t,5,xe.grade2,a,e.range)}})})]},a)})),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"right",children:"Total Paid Hours"}),Object(C.jsx)(da.a,{align:"center",children:parseFloat(ya(Ee))})]},Object(aa.a)())]})]})}),Object(C.jsx)(ca.a,{className:Object(g.default)(t.spacer),component:Mt.a,children:Object(C.jsxs)(sa.a,{className:Object(g.default)(t.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:"Office hours Calculation"}),Object(C.jsx)(da.a,{})]},Object(aa.a)())}),Object(C.jsxs)(ja.a,{children:[U.map((function(e,a){return Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:e.description}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:e.count,onChange:function(t){return Ne(t,6,xe.grade1,a,e.range)}})})]},a)})),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count",value:parseFloat(ya(Fe))})})]},Object(aa.a)())]})]})}),Object(C.jsx)(ca.a,{className:Object(g.default)(t.spacer),component:Mt.a,children:Object(C.jsxs)(sa.a,{className:Object(g.default)(t.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:"Lab Supervision/Demonstrating"}),Object(C.jsx)(da.a,{})]},Object(aa.a)())}),Object(C.jsxs)(ja.a,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.lab[3].activity}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:B.lab[3].totalhrs,onChange:function(e){return Ne(e,4,xe.grade1,B.lab[3])}})})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count",value:B.lab[3].totalhrs})})]},Object(aa.a)())]})]})}),Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsxs)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.right),children:[Object(C.jsx)("div",{children:Object(C.jsxs)(I.a,{variant:"caption",children:["All values entered here will be calculated on the next view",Object(C.jsx)("p",{children:"Please check you have entered the correct details before proceeding"})]})}),Object(C.jsx)(x.a,{disabled:Y.panel2||0===Fe&&0===Ee&&0===B.lab[3].totalhrs,variant:"contained",type:"submit",color:"primary",children:"Continue"})]})})]})})})]}),Object(C.jsxs)(na.a,{expanded:X.panel3,disabled:Y.panel3,children:[Object(C.jsx)(ra.a,{"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(I.a,{variant:"h5",children:"Enter Payment Details"})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:t.textField,variant:"outlined",name:"rate1",label:"".concat(xe.grade1," Rate"),value:L.rate1,InputProps:{startAdornment:Object(C.jsx)(ba.a,{position:"start",children:"\xa3"})}})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(t.root,t.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:t.textField,variant:"outlined",name:"rate2",label:"".concat(xe.grade2," Rate"),value:L.rate2,InputProps:{startAdornment:Object(C.jsx)(ba.a,{position:"start",children:"\xa3"})}})})]})}),Object(C.jsx)(ia.a,{children:Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsx)(ca.a,{component:Mt.a,children:Object(C.jsxs)(sa.a,{className:t.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",colSpan:2,children:"Activity"}),Object(C.jsx)(da.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(da.a,{align:"center",children:"Delivery/ Completion time (hrs)"}),Object(C.jsx)(da.a,{align:"center",children:"No of lectures/ Seminars/ Tutorials"}),Object(C.jsx)(da.a,{align:"center",children:"Total hours"}),Object(C.jsx)(da.a,{align:"center",children:"Payment \xa3"})]},Object(aa.a)())}),Object(C.jsxs)(ja.a,{children:["Band B"!==xe.grade2?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:3,children:"Lecture"}),Object(C.jsx)(da.a,{align:"left",children:B.lecture[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.lecture[0].time,onChange:function(e){return Ne(e,3,xe.grade2,B.lecture[0])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.lecture[0].count,onChange:function(e){return Ne(e,3,xe.grade2,B.lecture[0])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.lecture[0].count*B.lecture[0].time,onChangeCapture:function(e){return Ne(e,3,xe.grade2,B.lecture[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lecture[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.lecture[1].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.lecture[1].time,onChange:function(e){return Ne(e,3,xe.grade2,B.lecture[1])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.lecture[1].count,onChange:function(e){return Ne(e,3,xe.grade2,B.lecture[1])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.lecture[1].count*B.lecture[1].time,onChangeCapture:function(e){return Ne(e,3,xe.grade2,B.lecture[1])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lecture[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.lecture[2].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time",value:null,onChange:function(e){return Ne(e,3,xe.grade2,B.lecture[2])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count",value:null,onChange:function(e){return Ne(e,3,xe.grade2,B.lecture[2])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:B.lecture[2].totalhrs,onChange:function(e){return Ne(e,4,xe.grade2,B.lecture[2])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lecture[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Lectures"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.lecture)))})]},Object(aa.a)())]}):"",Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:4,children:"Seminar / Tutorial / Oral Classes"}),Object(C.jsx)(da.a,{align:"left",children:B.seminar[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.seminar[0].time,onChange:function(e){return Ne(e,3,xe.grade2,B.seminar[0])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.seminar[0].count,onChange:function(e){return Ne(e,3,xe.grade2,B.seminar[0])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.seminar[0].count*B.seminar[0].time,onChangeCapture:function(e){return Ne(e,3,xe.grade2,B.seminar[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.seminar[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.seminar[1].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.seminar[1].time,onChange:function(e){return Ne(e,3,xe.grade2,B.seminar[1])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.seminar[1].count,onChange:function(e){return Ne(e,3,xe.grade2,B.seminar[1])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.seminar[1].count*B.seminar[1].time,onChangeCapture:function(e){return Ne(e,3,xe.grade2,B.seminar[1])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.seminar[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.seminar[2].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.seminar[2].time,onChange:function(e){return Ne(e,3,xe.grade2,B.seminar[2])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.seminar[2].count,onChange:function(e){return Ne(e,3,xe.grade2,B.seminar[2])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.seminar[2].count*B.seminar[2].time,onChangeCapture:function(e){return Ne(e,3,xe.grade2,B.seminar[2])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.seminar[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.seminar[3].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:B.seminar[3].totalhrs,onChange:function(e){return Ne(e,4,xe.grade2,B.seminar[3])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.seminar[3].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Seminar/Tutorial/Oral Classes"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.seminar)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:4,children:"Lab Supervision / Demonstrating"}),Object(C.jsx)(da.a,{align:"left",children:B.lab[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.lab[0].time,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[0])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.lab[0].count,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[0])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.lab[0].count*B.lab[0].time,onChangeCapture:function(e){return Ne(e,3,xe.grade1,B.lab[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lab[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.lab[1].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.lab[1].time,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[1])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.lab[1].count,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[1])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.lab[1].count*B.lab[1].time,onChangeCapture:function(e){return Ne(e,3,xe.grade1,B.lab[1])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lab[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.lab[2].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"time",value:B.lab[2].time,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[2])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"count",value:B.lab[2].count,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[2])}})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.lab[2].count*B.lab[2].time,onChange:function(e){return Ne(e,3,xe.grade1,B.lab[2])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lab[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.lab[3].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.lab[3].totalhrs,disableUnderline:!0})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.lab[3].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Lab Supervision/Demonstrating"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.lab)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{children:"Field Trip Assistance"}),Object(C.jsx)(da.a,{align:"left",children:B.fieldTrip[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:B.fieldTrip[0].totalhrs,onChange:function(e){return Ne(e,4,xe.grade1,B.fieldTrip[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.fieldTrip[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Field Trip Assistance"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.fieldTrip)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{children:"Office Hours"}),Object(C.jsx)(da.a,{align:"left",children:B.office[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.office[0].time,onChange:function(e){return Ne(e,3,xe.grade1,B.office[0])}})}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.office[0].totalhrs,onChange:function(e){return Ne(e,3,xe.grade1,B.office[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.office[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Office Hours"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.office)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:3,children:"Marking"}),Object(C.jsx)(da.a,{align:"left",children:B.marking[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time",value:B.marking[0].time,onChange:function(e){return Ne(e,3,xe.grade1,B.marking[0])}})}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.marking[0].time,onChangeCapture:function(e){return Ne(e,3,xe.grade1,B.marking[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.marking[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.marking[1].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"time",value:B.marking[1].time,onChangeCapture:function(e){return Ne(e,3,xe.grade2,B.marking[1])}})}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.marking[1].time,onChangeCapture:function(e){return Ne(e,3,xe.grade1,B.marking[1])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.marking[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:B.marking[2].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade2}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:t.inputCenter},variant:"filled",name:"totalhrs",value:B.marking[2].totalhrs,onChange:function(e){return Ne(e,4,xe.grade2,B.marking[2])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.marking[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Marking"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.marking)))})]},Object(aa.a)()),"Band B"!==xe.grade2?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{children:"Training"}),Object(C.jsx)(da.a,{align:"left",children:B.training[0].activity}),Object(C.jsx)(da.a,{align:"center",children:xe.grade1}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{type:"number",size:"small",margin:"dense",classes:{input:t.inputEdit},variant:"filled",name:"totalhrs",value:B.training[0].totalhrs,onChange:function(e){return Ne(e,4,xe.grade1,B.training[0])}})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(B.training[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Training"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Oa).concat(ya(va(B.training)))})]},Object(aa.a)())]}):"",Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:3}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{colSpan:3}),Object(C.jsx)(da.a,{align:"center"})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{colSpan:3,children:"Total"}),Object(C.jsx)(da.a,{align:"center",children:"\xa3".concat(ya(Ue))})]},Object(aa.a)())]})]})}),Object(C.jsx)(m.a,{container:!0,spacing:4,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:t.finalButton,children:Object(C.jsx)(x.a,{fullWidth:!0,disabled:Y.panel3||0===Ue,variant:"contained",onClick:function(){ve(!0)},color:"primary",children:"Finalise Payment"})})})]})})]})]}),ue?Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Mt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:8,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"Submit New Payment"}),Object(C.jsxs)(I.a,{variant:"caption",children:["A new Payment request to the value of"," ","".concat(Oa).concat(ya(Ue))," will be submitted"]})]})}),Object(C.jsx)(m.a,{item:!0,xs:4,className:Object(g.default)(t.root,t.right),children:Object(C.jsx)(x.a,{disabled:Y.addPaymentButton,variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t=[Object(b.a)({},v),Object(b.a)({},B),Object(ea.a)(k),Object(ea.a)(U)];d(t),O.push("/payments")},children:"Submit Payment"})})]})})}):"",Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.footer,t.left),children:" "})})]})})}),ye&&Object(C.jsx)(Jt,{finalisePayment:function(e){we(""),ke(),Q({panel1:!0,panel2:!0,panel3:!0,resetButton:!1,addPaymentButton:!1}),ee({panel1:!1,panel2:!1,panel3:!1}),be(!0),S(Object(b.a)(Object(b.a)({},v),{},{amount:ya(Ue)}))},hideForm:ke,stage:Pe,invoiceTotal:ya(Ue)})]})},ka=function(){var e=Object(n.useContext)(Ee),t=Object(n.useContext)(We),a=t.activeUsers,r=t.getActiveUsers,i=e.loadUser;return Object(n.useEffect)((function(){i(),r()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)($t,{}),Object(C.jsx)(Na,{activeUsers:a})]})},Aa="\xa3",Da=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},flexGrow:1},paper:{padding:e.spacing(2),textAlign:"right",color:e.palette.text.secondary},right:{textAlign:"right"},left:{textAlign:"left"},table:{minWidth:700},spacer:{marginTop:e.spacing(2)},textField:{"& > *":{}},footer:{minHeight:100},inputField:{textAlign:"center"},inputCenter:{textAlign:"center",color:"black",fontSize:e.typography.pxToRem(14)},finalButton:{margin:e.spacing(2)}}}));function Ea(e){return"".concat(e.toFixed(2))}function Fa(e){return e.map((function(e){return e.payment})).reduce((function(e,t){return e+t}),0)}var Ua=function(e){var t=e.current,a=e.isAdmin,r=Da(),i=Object(n.useState)(t),c=Object(u.a)(i,2),l=c[0],o=(c[1],Object(n.useState)(Object(ea.a)(t.paymentDetail.markingCalc))),d=Object(u.a)(o,2),j=d[0],b=(d[1],Object(n.useState)(Object(ea.a)(t.paymentDetail.officeHours))),p=Object(u.a)(b,2),O=p[0],h=(p[1],Object(n.useState)(t.paymentDetail.paymentCalc)),f=Object(u.a)(h,2),y=f[0],v=(f[1],Object(n.useState)({rate1:14.73,rate2:17.57})),S=Object(u.a)(v,2),P=S[0],w=(S[1],Object(n.useState)({grade1:"AC1",grade2:"AC2"})),N=Object(u.a)(w,2),k=N[0],A=(N[1],Fa(y.training)+Fa(y.marking)+Fa(y.office)+Fa(y.fieldTrip)+Fa(y.lab)+Fa(y.seminar)+Fa(y.lecture)),D=j.reduce((function(e,t){return e+t.totalPaidHours}),0),E=function(e){return e.reduce((function(e,t){return e*t.count}),1)}(O),F=A;return Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("div",{children:Object(C.jsx)("div",{children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(Mt.a,{className:r.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:8,className:Object(g.default)(r.root,r.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"View Payment"}),Object(C.jsx)(I.a,{variant:"caption",children:"Teaching Support Framework - Contract and Payment Calculator"})]})}),Object(C.jsx)(m.a,{item:!0,xs:4,className:Object(g.default)(r.root,r.right),children:a&&Object(C.jsx)(x.a,{variant:"contained",component:s.b,to:"/payments/",color:"secondary",children:"Back to Payments"})})]})})}),Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsxs)(na.a,{expanded:!0,children:[Object(C.jsx)(ra.a,{"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(I.a,{variant:"h5",children:"Marking & Office Hours"})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate1",label:"".concat(k.grade1," Rate"),value:P.rate1,InputProps:{startAdornment:Object(C.jsx)(ba.a,{position:"start",children:"\xa3"})}})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate2",label:"".concat(k.grade2," Rate"),value:P.rate2,InputProps:{startAdornment:Object(C.jsx)(ba.a,{position:"start",children:"\xa3"})}})})]})}),Object(C.jsx)(ia.a,{children:Object(C.jsx)("form",{children:Object(C.jsxs)(m.a,{item:!0,xs:12,children:[Object(C.jsx)(ca.a,{component:Mt.a,children:Object(C.jsxs)(sa.a,{className:r.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsxs)(la.a,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",colSpan:4,children:"Marking hours Calculation (Exam / Non Exam / Coursework)"}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:"Range"}),Object(C.jsx)(da.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(da.a,{align:"center",children:"No of Students"}),Object(C.jsx)(da.a,{align:"center",children:"No of Pieces of Coursework per Student"}),Object(C.jsx)(da.a,{align:"center",children:"Oral Exam Contact Hours"}),Object(C.jsx)(da.a,{align:"center",children:"Total"}),Object(C.jsx)(da.a,{align:"center",children:"Total Paid hours"})]},Object(aa.a)())]}),Object(C.jsxs)(ja.a,{children:[l.paymentDetail.markingCalc.map((function(e,t){return Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:e.range}),Object(C.jsx)(da.a,{align:"center",children:"A"===e.range||"B"===e.range?k.grade1:k.grade2}),"D"===e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time"})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"numOfStudents",value:e.numOfStudents})}),"D"===e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"numOfCWPcsPerStudent",value:e.numOfCWPcsPerStudent})}),"D"!==e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"OralExamHours",value:e.OralExamHours})}),"D"!==e.range?Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"total",value:e.numOfCWPcsPerStudent*e.numOfStudents})}):Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"total",value:e.OralExamHours})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:e.totalPaidHours})})]},t)})),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"right",children:"Total Paid Hours"}),Object(C.jsx)(da.a,{align:"center",children:parseFloat(Ea(D))})]},Object(aa.a)())]})]})}),Object(C.jsx)(ca.a,{className:Object(g.default)(r.spacer),component:Mt.a,children:Object(C.jsxs)(sa.a,{className:Object(g.default)(r.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:"Office hours Calculation"}),Object(C.jsx)(da.a,{})]},Object(aa.a)())}),Object(C.jsxs)(ja.a,{children:[O.map((function(e,t){return Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:e.description}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:e.count})})]},t)})),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count",value:parseFloat(Ea(E))})})]},Object(aa.a)())]})]})}),Object(C.jsx)(ca.a,{className:Object(g.default)(r.spacer),component:Mt.a,children:Object(C.jsxs)(sa.a,{className:Object(g.default)(r.table),"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:"Lab Supervision/Demonstrating"}),Object(C.jsx)(da.a,{})]},Object(aa.a)())}),Object(C.jsxs)(ja.a,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.lab[3].activity}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[3].totalhrs})})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{align:"left",children:"Total Hours"}),Object(C.jsx)(da.a,{align:"right",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[3].totalhrs})})]},Object(aa.a)())]})]})})]})})})]}),Object(C.jsxs)(na.a,{expanded:!0,children:[Object(C.jsx)(ra.a,{"aria-controls":"panel3a-content",id:"panel3a-header",children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:6,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(I.a,{variant:"h5",children:"Other Payment Details"})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate1",label:"".concat(k.grade1," Rate"),value:P.rate1,InputProps:{startAdornment:Object(C.jsx)(ba.a,{position:"start",children:"\xa3"})}})}),Object(C.jsx)(m.a,{item:!0,xs:3,className:Object(g.default)(r.root,r.left),children:Object(C.jsx)(Ke.a,{fullWidth:!0,disabled:!0,size:"small",className:r.textField,variant:"outlined",name:"rate2",label:"".concat(k.grade2," Rate"),value:P.rate2,InputProps:{startAdornment:Object(C.jsx)(ba.a,{position:"start",children:"\xa3"})}})})]})}),Object(C.jsx)(ia.a,{children:Object(C.jsx)(m.a,{item:!0,xs:12,children:Object(C.jsx)(ca.a,{component:Mt.a,children:Object(C.jsxs)(sa.a,{className:r.table,"aria-label":"spanning table",size:"small",children:[Object(C.jsx)(la.a,{children:Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",colSpan:2,children:"Activity"}),Object(C.jsx)(da.a,{align:"center",children:"Payment Grade"}),Object(C.jsx)(da.a,{align:"center",children:"Delivery/ Completion time (hrs)"}),Object(C.jsx)(da.a,{align:"center",children:"No of lectures/ Seminars/ Tutorials"}),Object(C.jsx)(da.a,{align:"center",children:"Total hours"}),Object(C.jsx)(da.a,{align:"center",children:"Payment \xa3"})]},Object(aa.a)())}),Object(C.jsxs)(ja.a,{children:[Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:3,children:"Lecture"}),Object(C.jsx)(da.a,{align:"left",children:y.lecture[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lecture[0].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lecture[0].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lecture[0].count*y.lecture[0].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lecture[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.lecture[1].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lecture[1].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lecture[1].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lecture[1].count*y.lecture[1].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lecture[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.lecture[2].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time",value:null})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count",value:null})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lecture[2].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lecture[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Lectures"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.lecture)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:4,children:"Seminar / Tutorial / Oral Classes"}),Object(C.jsx)(da.a,{align:"left",children:y.seminar[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.seminar[0].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.seminar[0].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[0].count*y.seminar[0].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.seminar[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.seminar[1].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.seminar[1].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.seminar[1].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[1].count*y.seminar[1].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.seminar[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.seminar[2].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.seminar[2].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.seminar[2].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[2].count*y.seminar[2].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.seminar[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.seminar[3].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.seminar[3].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.seminar[3].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Seminar/Tutorial/Oral Classes"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.seminar)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:4,children:"Lab Supervision / Demonstrating"}),Object(C.jsx)(da.a,{align:"left",children:y.lab[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lab[0].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[0].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[0].count*y.lab[0].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lab[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.lab[1].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lab[1].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[1].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[1].count*y.lab[1].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lab[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.lab[2].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.lab[2].time})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"count",value:y.lab[2].count})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[2].count*y.lab[2].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lab[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.lab[3].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"count"})}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.lab[3].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.lab[3].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Lab Supervision/Demonstrating"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.lab)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{children:"Field Trip Assistance"}),Object(C.jsx)(da.a,{align:"left",children:y.fieldTrip[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.fieldTrip[0].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.fieldTrip[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Field Trip Assistance"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.fieldTrip)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{children:"Office Hours"}),Object(C.jsx)(da.a,{align:"left",children:y.office[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.office[0].time})}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.office[0].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.office[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Office Hours"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.office)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:3,children:"Marking"}),Object(C.jsx)(da.a,{align:"left",children:y.marking[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.marking[0].time})}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.marking[0].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.marking[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.marking[1].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"time",value:y.marking[1].time})}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.marking[1].time})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.marking[1].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{align:"left",children:y.marking[2].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade2}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,type:"number",size:"small",margin:"dense",disableUnderline:!0,classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.marking[2].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.marking[2].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Marking"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.marking)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{children:"Training"}),Object(C.jsx)(da.a,{align:"left",children:y.training[0].activity}),Object(C.jsx)(da.a,{align:"center",children:k.grade1}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{align:"center",children:Object(C.jsx)(ua.a,{disabled:!0,disableUnderline:!0,type:"number",size:"small",margin:"dense",classes:{input:r.inputCenter},variant:"filled",name:"totalhrs",value:y.training[0].totalhrs})}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(y.training[0].payment))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{selected:!0,children:[Object(C.jsx)(da.a,{colSpan:6,align:"left",children:"Total Training"}),Object(C.jsx)(da.a,{align:"center",children:"".concat(Aa).concat(Ea(Fa(y.training)))})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{rowSpan:3}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{colSpan:3}),Object(C.jsx)(da.a,{align:"center"})]},Object(aa.a)()),Object(C.jsxs)(oa.a,{children:[Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{}),Object(C.jsx)(da.a,{colSpan:3,children:"Total"}),Object(C.jsx)(da.a,{align:"center",children:"\xa3".concat(Ea(F))})]},Object(aa.a)())]})]})})})})]})]}),Object(C.jsx)(m.a,{container:!0,spacing:30,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(r.footer,r.left),children:" "})})]})})})})},Ta=function(){var e=Object(n.useContext)(Ee),t=Object(n.useContext)(We),a=Object(n.useContext)(Z),r=a.getPayment,i=a.loading,c=a.current,s=a.clearCurrent,o=t.getActiveUsers,d=e.loadUser,j=e.isAdmin,u=Object(l.h)().id;return Object(n.useEffect)((function(){s(),r(u)}),[u]),Object(n.useEffect)((function(){d(),o()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)($t,{}),!i&&c?Object(C.jsx)(Ua,{current:c,isAdmin:j}):Object(C.jsx)(w,{})]})},_a=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Ia=function(){var e=_a(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){i(!1)},l=[{id:1,icon:Object(C.jsx)(s.b,{to:"/",children:Object(C.jsx)(Be.a,{})}),name:"Back"}];return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(ge.a,{ariaLabel:"About Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:c,onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:l.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:c},e.id)}))})})},Ra=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(Ia,{}),Object(C.jsx)("h1",{children:"About this app"}),Object(C.jsx)("p",{children:"This is a full stack react app created by Glenn Marshall-Adams"}),Object(C.jsx)("p",{children:"This app has been designed as part of an MSc Project and is intended to manage the tracking of payments for Queens University Belfast"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("strong",{children:"Version: "})," 1.0.0"]})]})},Ba=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),za=function(){var e=Ba(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(We),l=c.setDialogOpen,o=c.setDialogClosed,d=c.toggleDialog;function j(e,t){e.preventDefault(),2===t&&l()}var b=[{id:1,icon:Object(C.jsx)(s.b,{to:"/UserAdmin",children:Object(C.jsx)(Be.a,{})}),name:"Back"},{id:3,icon:Object(C.jsx)(s.b,{to:"/importNSP",children:Object(C.jsx)(Me.a,{})}),name:"Import NSP Data"}];return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(ge.a,{ariaLabel:"User Import Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(t){j(t,e.id)}},e.id)}))}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(et,{open:d,onClose:function(){o()}})})]})},qa=a(227),Ga=a.n(qa),La=a(135),Ha=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)},textField:{margin:e.spacing(1),width:"54ch"}}})),Ma=function(e){var t=Ha(),a=Object(n.useContext)(We),r=a.addUser,i=a.error,c=a.clearErrors,s=Object(n.useState)({file:""}),l=Object(u.a)(s,2),o=l[0],d=l[1],j=Object(n.useState)([]),b=Object(u.a)(j,2),p=b[0],O=b[1],h=Object(pe.b)(),f=h.enqueueSnackbar,y=(h.closeSnackbar,Object(n.useRef)(null));Object(n.useEffect)((function(){i&&(f(i,{variant:"error"}),c())}),[i]);var v=function(e){new Promise((function(t,a){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var a=e.target.result,n=La.read(a,{type:"buffer"}),r=n.SheetNames[0],i=n.Sheets[r],c=La.utils.sheet_to_json(i);t(c)},n.onerror=function(e){a(e)}})).then((function(e){O(e)}))},S=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t},P={filter:!0,filterType:"dropdown",sortOrder:{name:"QUBID",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"userAdminDownload.csv"},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},onRowsDelete:function(e){var t=e.data.map((function(e){return p[e.dataIndex]})),a=p.filter((function(e){return!t.includes(e)}));O(a)}};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,spacing:1,children:Object(C.jsx)(Mt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"Multi User Account Import"}),Object(C.jsx)(I.a,{variant:"caption",children:"Please only use the excel template provided, do not attempt to amend this in anyway"})]})}),Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:t.input,id:"contained-button-file",type:"file",ref:y,onChange:function(e){try{e.stopPropagation(),e.preventDefault();var t=e.target.files[0];v(t),d({file:t}),f("File ".concat(t.name," is ready to be imported"),{variant:"success"})}catch(i){console.error(i.message),f("File ".concat(t.name," cannot be imported"),{variant:"error"})}}}),Object(C.jsx)("label",{htmlFor:"contained-button-file",children:Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(Ga.a,{}),onClick:function(e){y.current.focus()},children:"Select File to Upload"})}),Object(C.jsx)(Ke.a,{className:t.textField,component:"span",disabled:!0,id:"filename",type:"text",name:"filename",value:o.file.name})]})})]})})}),null!==p?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{item:!0,xs:12,spacing:1,children:[Object(C.jsx)(me.a,{data:p,columns:[{name:"QUBID",label:"ID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"firstName",label:"First Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"lastName",label:"Last Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"email",label:"Email",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"role",label:"Role",options:{filter:!0,display:!0,download:!0,sort:!1}},{name:"status",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1,customBodyRenderLite:function(e){return"Pending"}}}],options:P}),Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(Et.a,{}),onClick:function(e){e.preventDefault();try{p.map((function(e){var t={address:[{street:"",city:"",county:"",country:"",postcode:""}],contact:[{mobile:"",landline:""}],bank:[{bankName:"",branchName:"",sortCode:"",accNumber:"",buildingSocietyNumber:""}],status:"Pending",password:S(10),taxDeclaration:[{employeeStatements_section1:"",employeeStatements_section2:"",employeeStatements_section3q1:"",employeeStatements_section3q2:"",employeeStatements_section3q3:"",employeeStatements_section3q4:"",employeeStatements_section3q5:"",signed:!1,signedDate:""}]},a=Object.assign(e,t);r(a)})),O([])}catch(t){console.error(t.message),f(i,{variant:"error"})}},children:"Publish File"})]})}):Object(C.jsx)(w,{})]})})},Wa=function(e){var t=Object(pe.b)(),a=t.enqueueSnackbar,r=(t.closeSnackbar,Object(n.useContext)(Ee)),i=r.loadUser,c=r.isAdmin,s=Object(n.useContext)(We),l=s.importedUsersAdded,o=s.error,d=s.clearErrors;return Object(n.useEffect)((function(){i(),c||e.history.push("/"),l?(e.history.push("/userAdmin"),d()):o&&(a(o,{variant:"error"}),d())}),[l,c,e.history]),console.log(c),Object(C.jsxs)("div",{children:[Object(C.jsx)(za,{}),Object(C.jsx)("div",{className:"grid-1",children:Object(C.jsx)(Ma,{isAdmin:c})})]})},Ya=Object(h.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},speedDial:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}})),Qa=function(){var e=Ya(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(We),l=c.setDialogOpen,o=c.setDialogClosed,d=c.toggleDialog;function j(e,t){e.preventDefault(),2===t&&l()}var b=[{id:1,icon:Object(C.jsx)(s.b,{to:"/UserAdmin",children:Object(C.jsx)(Be.a,{})}),name:"Back"},{id:3,icon:Object(C.jsx)(s.b,{to:"/import",children:Object(C.jsx)(Le.a,{})}),name:"Import Multi Users"}];return Object(C.jsxs)("div",{className:e.root,children:[Object(C.jsx)(ge.a,{ariaLabel:"User Import Navigation Control",className:e.speedDial,icon:Object(C.jsx)(ye.a,{}),onClose:function(){i(!1)},onOpen:function(){i(!0)},open:r,FabProps:{color:"secondary"},children:b.map((function(e){return Object(C.jsx)(ve.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(t){j(t,e.id)}},e.id)}))}),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(et,{open:d,onClose:function(){o()}})})]})},Va=a(432),Ja=a.n(Va),Ka=Object(h.a)((function(e){return Object(K.a)({root:{"& > *":{margin:e.spacing(1)},flexGrow:1},input:{display:"none"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)},textField:{margin:e.spacing(1),width:"54ch"}},"button",{margin:e.spacing(1)})})),Xa=function(e,t){return e.map((function(e){return Object(b.a)(Object(b.a)({},t.find((function(t){return t.QUBID===e.QUBID&&t}))),e)}))},Za=function(e){var t=Ka(),a=Object(n.useContext)(We),r=a.getUsersNSP,i=a.updateUserNSP,c=a.usersNSP,s=a.error,l=a.clearErrors,o=a.clearNSPUser,d=a.loading,j=Object(n.useState)({file:""}),b=Object(u.a)(j,2),p=b[0],O=b[1],h=Object(n.useState)([]),f=Object(u.a)(h,2),y=f[0],v=f[1],S=Object(n.useState)(c),P=Object(u.a)(S,2),w=P[0],N=P[1],k=Object(pe.b)(),A=k.enqueueSnackbar,D=(k.closeSnackbar,Object(n.useRef)(null)),E=Object(n.useState)(!0),F=Object(u.a)(E,2),U=F[0],T=F[1];Object(n.useEffect)((function(){s&&(A(s,{variant:"error"}),l())}),[s]),Object(n.useEffect)((function(){if(""!==p.ile){a.loading=!0;try{y.map((function(e){w[e.__rowNum__-1]=c[e.__rowNum__-1],N(Object(ea.a)(w))})),v(Xa(w,y)),a.loading=!1}catch(e){console.error(e.message),A(s,{variant:"error"})}}}),[]);var _=function(e){a.loading=!0,new Promise((function(t,a){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var a=e.target.result,n=La.read(a,{type:"buffer"}),r=n.SheetNames[0],i=n.Sheets[r],c=La.utils.sheet_to_json(i);t(c)},n.onerror=function(e){a(e)}})).then((function(e){v(e),e.map((function(e){r(e.QUBID)}))})),a.loading=!1},R={filter:!0,filterType:"dropdown",sortOrder:{name:"QUBID",direction:"asc"},downloadOptions:{filterOptions:{useDisplayedColumnsOnly:!1,useDisplayedRowsOnly:!0},filename:"userAdminDownload.csv"},rowsPerPageOptions:[5,10,20,50,100],rowsPerPage:10,draggableColumns:{enabled:!0},onRowsDelete:function(e){var t=e.data.map((function(e){return y[e.dataIndex]})),a=y.filter((function(e){return!t.includes(e)}));v(a)}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,spacing:1,children:Object(C.jsx)(Mt.a,{className:t.paper,children:Object(C.jsxs)(m.a,{container:!0,spacing:1,children:[Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)(I.a,{variant:"h5",children:"NSP Data Import"}),Object(C.jsx)(I.a,{variant:"caption",children:"Please only use this tool, for locating and updating user accounts with their NSP ID"})]})}),Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.root,t.left),children:Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:Object(g.default)(t.input,t.button),id:"contained-button-file",type:"file",ref:D,onChange:function(e){try{e.stopPropagation(),e.preventDefault();var t=e.target.files[0];_(t),O({file:t}),A("File ".concat(t.name," is ready to be imported"),{variant:"success"})}catch(s){console.error(s.message),A("File ".concat(t.name," cannot be imported"),{variant:"error"})}}}),Object(C.jsx)("label",{htmlFor:"contained-button-file",children:Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(Ga.a,{}),onClick:function(e){D.current.focus()},children:"Select File to Upload"})}),Object(C.jsx)(Ke.a,{className:t.textField,component:"span",disabled:!0,id:"filename",type:"text",name:"filename",value:p.file.name})]})})]})})}),y.length>0&&!d?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(m.a,{item:!0,xs:12,spacing:1,children:[Object(C.jsx)(me.a,{data:y,columns:[{name:"QUBID",label:"ID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"NSPID",label:"NSPID",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"firstName",label:"First Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"lastName",label:"Last Name",options:{filter:!1,display:!0,download:!0,sort:!0}},{name:"status",label:"Status",options:{filter:!0,display:!0,download:!0,sort:!1,customBodyRenderLite:function(e){return"Pending Import"}}}],options:R}),Object(C.jsx)(m.a,{container:!0,spacing:1,children:Object(C.jsxs)(m.a,{item:!0,xs:12,className:Object(g.default)(t.button,t.right),children:[Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,style:{backgroundColor:"green",color:"white"},variant:"contained",startIcon:Object(C.jsx)(Ja.a,{}),onClick:function(e){a.loading=!0,e.preventDefault();try{y.map((function(e){w[e.__rowNum__-1]=c[e.__rowNum__-1],N(Object(ea.a)(w))})),v(Xa(w,y)),a.loading=!1,T(!1)}catch(t){console.error(t.message),A(s,{variant:"error"})}},children:"Check Users"}),Object(C.jsx)(x.a,{disabled:U,component:"span",size:"large",className:t.button,color:"secondary",variant:"contained",startIcon:Object(C.jsx)(Et.a,{}),onClick:function(e){e.preventDefault();try{y.map((function(e){i(e)})),v([])}catch(t){console.error(t.message),A(s,{variant:"error"})}},children:"Import NSP ID's"}),Object(C.jsx)(x.a,{component:"span",size:"large",className:t.button,color:"primary",variant:"contained",startIcon:Object(C.jsx)(Et.a,{}),onClick:function(){v([]),N([]),O({file:""}),o()},children:"Reset"})]})})]})}):Object(C.jsx)("hr",{})]}),Object(C.jsx)(m.a,{container:!0,spacing:10,children:Object(C.jsx)(m.a,{item:!0,xs:12,className:Object(g.default)(t.footer,t.left)})})]})},$a=function(e){var t=Object(pe.b)(),a=t.enqueueSnackbar,r=(t.closeSnackbar,Object(n.useContext)(Ee)),i=r.loadUser,c=r.isAdmin,s=Object(n.useContext)(We),l=s.importedUsersAdded,o=s.error,d=s.clearErrors;return Object(n.useEffect)((function(){i(),c||e.history.push("/"),l?(e.history.push("/userAdmin"),d()):o&&(a(o,{variant:"error"}),d())}),[l,c,e.history]),Object(C.jsxs)("div",{children:[Object(C.jsx)(Qa,{}),Object(C.jsx)("div",{className:"grid-1",children:Object(C.jsx)(Za,{isAdmin:c})})]})},en=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textFieldFull:{marginTop:e.spacing(2),width:"100%"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),tn=function(e){var t=en(),a=Object(n.useContext)(Ee),r=a.register,i=a.error,c=a.clearErrors,s=a.isAuthenticated,l=Object(pe.b)(),o=l.enqueueSnackbar;l.closeSnackbar;Object(n.useEffect)((function(){s&&e.history.push("/"),i&&(o(i,{variant:"error"}),c())}),[i,s,e.history]);var d=Object(n.useState)({QUBID:"",email:"",password:"",password2:""}),j=Object(u.a)(d,2),m=j[0],p=j[1],O=m.QUBID,h=m.email,g=m.password,f=m.password2,y=function(e){p(Object(b.a)(Object(b.a)({},m),{},Object(K.a)({},e.target.name,e.target.value)))},v=function(e){e.preventDefault(),""===O||""===h||""===g?o("Please complete all fields",{variant:"warning"}):g!==f?o("Passwords do not match",{variant:"error"}):r({QUBID:O,email:h,password:g})};return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Account ",Object(C.jsx)("span",{className:"text-primary",children:"Register"})]}),Object(C.jsxs)("form",{onSubmit:v,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"QUBID",type:"text",name:"QUBID",value:O,onChange:y,placeholder:"QUB ID Number",label:"QUB ID",variant:"outlined"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"email",type:"email",name:"email",placeholder:"Email",value:h,onChange:y,label:"Email",variant:"outlined",autoComplete:"username"})})]}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"password",type:"password",name:"password",placeholder:"password",value:g,onChange:y,label:"Password",variant:"outlined",autoComplete:"current-password",minLength:"6"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"password2",type:"password",name:"password2",placeholder:"password",value:f,onChange:y,label:"Confirm Password",variant:"outlined",minLength:"6"})}),Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:v,color:"secondary",variant:"contained",children:"Register"})]})]})},an=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textFieldFull:{marginTop:e.spacing(2),width:"100%"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),nn=function(e){var t=an(),a=Object(n.useContext)(Ee),r=a.login,i=a.error,c=a.clearErrors,l=a.isAuthenticated,o=Object(pe.b)(),d=o.enqueueSnackbar;o.closeSnackbar;Object(n.useEffect)((function(){l&&e.history.push("/"),i&&(d(i,{variant:"error"}),c())}),[i,l,e.history]);var j=Object(n.useState)({email:"",password:""}),m=Object(u.a)(j,2),p=m[0],O=m[1],h=p.email,g=p.password,f=function(e){O(Object(b.a)(Object(b.a)({},p),{},Object(K.a)({},e.target.name,e.target.value)))},y=function(e){e.preventDefault(),i?(d(i,{variant:"error"}),c()):r({email:h,password:g})};return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Account ",Object(C.jsx)("span",{className:"text-primary",children:"Login"})]}),Object(C.jsxs)("form",{onSubmit:y,children:[Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"email",type:"email",name:"email",placeholder:"Email",value:h,onChange:f,label:"Email",variant:"outlined"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"password",type:"password",name:"password",placeholder:"password",value:g,onChange:f,label:"Password",variant:"outlined"})}),Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:y,color:"secondary",variant:"contained",children:"Login"})]}),Object(C.jsx)(I.a,{component:s.b,to:"/password-reset/",children:"Password Reset"})]})},rn=function(e){var t=Object(l.h)().token,a=Object(n.useContext)(Ee),r=a.verifyEmail,i=a.logout;return Object(n.useEffect)((function(){r(t),i(),e.history.push("/login")}),[e.history]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("p",{children:"Thank you for verifying your email address"})})},cn=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",fontSize:"1.2rem"},textFieldFull:{margin:e.spacing(1),width:"97%"},button:{backgroundColor:"rgb(214, 0, 13)",margin:e.spacing(1),width:"97%"},text:{textAlign:"center",marginBottom:30}}})),sn=function(e){var t=cn(),a=Object(l.h)().token,r=Object(n.useContext)(Ee),i=r.passwordUpdateRequest,c=r.logout,s=r.error,o=r.clearErrors,d=Object(pe.b)(),j=d.enqueueSnackbar;d.closeSnackbar;Object(n.useEffect)((function(){c(),s&&j(s,{variant:"error"}),o()}),[]);var m=Object(n.useState)({newPassword:"",confirmPassword:""}),p=Object(u.a)(m,2),O=p[0],h=p[1],g=function(e){h(Object(b.a)(Object(b.a)({},O),{},Object(K.a)({},e.target.name,e.target.value)))};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Password ",Object(C.jsx)("span",{className:"text-primary",children:"Reset"})]}),Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"password-new",type:"password",name:"newPassword",placeholder:"New Password",value:O.newPassword||"",onChange:g,label:"New Password",variant:"outlined"}),Object(C.jsx)(Ke.a,{className:t.textFieldFull,id:"password-new1",type:"password",name:"confirmPassword",placeholder:"Confirm New Password",value:O.confirmPassword||"",onChange:g,label:"Confirm New Password",variant:"outlined"}),Object(C.jsx)(jt.a,{children:Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:function(t){t.preventDefault(),""===O.confirmPassword||""===O.newPassword?j("Please complete all fields",{variant:"warning"}):O.confirmPassword!==O.newPassword?j("Passwords do not match",{variant:"error"}):(O.password=O.newPassword,h(Object(b.a)({},O)),i(a,O),c(),e.history.push("/"))},color:"secondary",variant:"contained",children:"Save"})})]})})},ln=Object(h.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textFieldFull:{marginTop:e.spacing(2),width:"100%"},button:{backgroundColor:"rgb(214, 0, 13)",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),on=function(e){var t=ln(),a=Object(n.useContext)(Ee),r=(a.register,a.error),i=a.clearErrors,c=a.isAuthenticated,s=a.passwordResetRequestPublic,l=a.logout,o=Object(pe.b)(),d=o.enqueueSnackbar;o.closeSnackbar;Object(n.useEffect)((function(){r&&(d(r,{variant:"error"}),i())}),[r,c,e.history]);var j=Object(n.useState)({QUBID:"",email:""}),m=Object(u.a)(j,2),p=m[0],O=m[1],h=p.QUBID,g=p.email,f=function(e){O(Object(b.a)(Object(b.a)({},p),{},Object(K.a)({},e.target.name,e.target.value)))},y=function(t){t.preventDefault(),""===h||""===g?d("Please complete all fields",{variant:"warning"}):(s(p),l(),e.history.push("/"),d("Please check ".concat(g," for reset instructions"),{variant:"success"}))};return Object(C.jsxs)("div",{className:"form-container",children:[Object(C.jsxs)("h1",{children:["Password Reset ",Object(C.jsx)("span",{className:"text-primary",children:"Request"})]}),Object(C.jsxs)("form",{onSubmit:y,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"QUBID",type:"text",name:"QUBID",value:h,onChange:f,placeholder:"QUB ID Number",label:"QUB ID",variant:"outlined"})}),Object(C.jsx)("div",{children:Object(C.jsx)(Ke.a,{className:t.textFieldFull,required:!0,id:"email",type:"email",name:"email",placeholder:"Email",value:g,onChange:f,label:"Email",variant:"outlined",autoComplete:"username"})})]}),Object(C.jsx)(x.a,{size:"large",fullWidth:!0,className:t.button,onClick:y,color:"secondary",variant:"contained",children:"Request Reset"})]})]})};function dn(e){var t=e.title,a=e.icon,r=Object(n.useContext)(Ee),i=Object(n.useContext)(We),c=Object(n.useContext)(X),l=r.isAuthenticated,o=r.logout,d=c.clearUserAccount,j=i.clearUserAdmin,u=Object(C.jsx)(n.Fragment,{children:Object(C.jsx)("li",{children:Object(C.jsxs)("a",{onClick:function(){j(),d(),o()},href:"#!",children:[Object(C.jsx)("i",{className:"fas fa-sign-out-alt"})," ",Object(C.jsx)("span",{className:"hide-sm",children:"Logout"})]})})}),b=Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/users/register",children:"Register"})}),Object(C.jsx)("li",{children:Object(C.jsx)(s.b,{to:"/login",children:"Login"})})]});return Object(C.jsxs)("div",{className:"navbar bg-primary",children:[Object(C.jsx)("h1",{children:Object(C.jsxs)(s.b,{to:"/",children:[Object(C.jsx)("i",{className:a}),t]})}),Object(C.jsx)("ul",{children:l?u:b})]})}dn.defaultProps={title:" DemPay",icon:"fas fa-handshake"};var jn=dn,un=a(433),bn=function(e){var t=e.component,a=Object(un.a)(e,["component"]),r=Object(n.useContext)(Ee),i=r.isAuthenticated,c=r.loading;return Object(C.jsx)(l.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return i||c?Object(C.jsx)(t,Object(b.a)({},e)):Object(C.jsx)(l.a,{to:"/login"})}}))},mn=a(12),pn=a.n(mn),On=a(20),xn="GET_PAYMENTS",hn="GET_PAYMENT",gn="GET_USER_PAYMENTS",fn="ADD_PAYMENT",yn="ADD_USER_PAYMENT",vn="DELETE_PAYMENT",Sn="UPDATE_PAYMENT",Cn="CLEAR_PAYMENTS",Pn="PAYMENT_ERROR",wn="APPROVE_ALL_PAYMENTS",Nn="REJECT_ALL_PAYMENTS",kn="PAID_ALL_PAYMENTS",An="APPROVE_PAYMENT",Dn="REJECT_PAYMENT",En="HOLD_PAYMENT",Fn="PENDING_PAYMENT",Un="PAID_PAYMENT",Tn="GET_USERS",_n="GET_USERS_NSP",In="GET_ACTIVE_USERS",Rn="ADD_USER",Bn="DELETE_USER",zn="UPDATE_USER",qn="CLEAR_USERS",Gn="CLEAR_USER",Ln="USER_ERROR",Hn="GET_USERS",Mn="GET_STATS",Wn="STATS_ERROR",Yn="CLEAR_ERRORS",Qn="REGISTER_SUCCESS",Vn="REGISTER_FAIL",Jn="RESEND_VERIFY",Kn="PASSWORD_RESET",Xn="PASSWORD_RESET_REQUEST",Zn="PASSWORD_RESET_EMAIL_FAIL",$n="USER_LOADED",er="AUTH_ERROR",tr="LOGIN_SUCCESS",ar="LOGIN_FAIL",nr="LOGOUT",rr="SET_CURRENT",ir="CLEAR_CURRENT",cr="OPEN_DIALOG",sr="CLOSE_DIALOG",lr="SET_LOADING",or=function(e,t){switch(t.type){case Hn:case zn:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,loading:!1});case Gn:return Object(b.a)(Object(b.a)({},e),{},{user:null,error:null,current:null});case rr:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload});case ir:return Object(b.a)(Object(b.a)({},e),{},{current:null});case Yn:return Object(b.a)(Object(b.a)({},e),{},{error:null});case Ln:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},dr=function(e){var t=Object(n.useReducer)(or,{loading:!0,user:null,current:null,error:null}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/user/".concat(t));case 3:a=e.sent,i({type:Hn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Ln,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/user/".concat(t._id),t,a);case 4:n=e.sent,i({type:zn,payload:n.data}),l(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:Ln,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){i({type:rr,payload:e})};return Object(C.jsx)(X.Provider,{value:{user:r.user,loading:r.loading,current:r.current,error:r.error,getUser:c,setCurrent:l,clearCurrent:function(){i({type:ir})},updateUser:s,clearErrors:function(){i({type:Yn})},clearUserAccount:function(){i({type:Gn})}},children:e.children})},jr=function(e,t){switch(t.type){case Tn:return Object(b.a)(Object(b.a)({},e),{},{users:t.payload,importedUsersAdded:!1,loading:!1});case _n:return Object(b.a)(Object(b.a)({},e),{},{usersNSP:[].concat(Object(ea.a)(e.usersNSP),[t.payload]),importedUsersAdded:!1,loading:!1});case In:return Object(b.a)(Object(b.a)({},e),{},{activeUsers:t.payload,loading:!1});case Rn:return Object(b.a)(Object(b.a)({},e),{},{users:[t.payload].concat(Object(ea.a)(e.users)),importedUsersAdded:!0,loading:!1});case Bn:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload})),loading:!1});case zn:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case qn:return Object(b.a)(Object(b.a)({},e),{},{users:null,error:null,current:null,activeUsers:null,usersNSP:[]});case rr:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload});case ir:return Object(b.a)(Object(b.a)({},e),{},{current:null});case Yn:return Object(b.a)(Object(b.a)({},e),{},{error:null});case Ln:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case cr:return Object(b.a)(Object(b.a)({},e),{},{toggleDialog:!0});case sr:return Object(b.a)(Object(b.a)({},e),{},{current:null,toggleDialog:!1});default:return e}},ur=function(e){var t=Object(n.useReducer)(jr,{usersNSP:[],importedUsersAdded:!1,loading:!0,users:null,activeUsers:null,current:null,error:null,toggleDialog:!1}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/userAdmin");case 3:t=e.sent,i({type:Tn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Ln,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/userAdmin/".concat(t));case 3:a=e.sent,i({type:_n,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Ln,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/userAdmin/active");case 3:t=e.sent,i({type:In,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Ln,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/userAdmin",t,a);case 4:n=e.sent,i({type:Rn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Ln,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(On.a)(pn.a.mark((function e(t){return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/api/userAdmin/".concat(t));case 3:i({type:Bn,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:Ln,payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/userAdmin/".concat(t._id),t,a);case 4:n=e.sent,i({type:zn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Ln,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/userAdmin/NSP/".concat(t._id),t,a);case 4:n=e.sent,i({type:Rn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Ln,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)(We.Provider,{value:{usersNSP:r.usersNSP,importedUsersAdded:r.importedUsersAdded,users:r.users,activeUsers:r.activeUsers,toggleDialog:r.toggleDialog,loading:r.loading,current:r.current,error:r.error,getUsers:c,getUsersNSP:s,getActiveUsers:l,addUser:o,deleteUser:j,setCurrent:function(e){i({type:rr,payload:e})},clearCurrent:function(){i({type:ir})},updateUser:b,updateUserNSP:m,clearErrors:function(){i({type:Yn})},setDialogOpen:function(){i({type:cr})},setDialogClosed:function(){i({type:sr})},clearUserAdmin:function(){i({type:qn})},clearActiveUsers:function(){i({type:qn})},clearNSPUser:function(){i({type:qn})}},children:e.children})},br=function(e,t){switch(t.type){case xn:return Object(b.a)(Object(b.a)({},e),{},{payments:t.payload,loading:!1});case gn:return Object(b.a)(Object(b.a)({},e),{},{userPayments:t.payload,loading:!1});case hn:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload,loading:!1});case yn:case fn:return Object(b.a)(Object(b.a)({},e),{},{payments:[t.payload].concat(Object(ea.a)(e.payments)),loading:!1});case vn:return Object(b.a)(Object(b.a)({},e),{},{payments:e.payments.filter((function(e){return e._id!==t.payload})),loading:!1});case Sn:return Object(b.a)(Object(b.a)({},e),{},{payments:t.payload,loading:!1});case Dn:case An:case En:case Fn:case Un:case kn:case Nn:case wn:return Object(b.a)(Object(b.a)({},e),{},{payments:t.payload,loading:!1});case Cn:return Object(b.a)(Object(b.a)({},e),{},{payments:null,filtered:null,error:null,current:null});case rr:return Object(b.a)(Object(b.a)({},e),{},{current:t.payload,loading:!1});case ir:return Object(b.a)(Object(b.a)({},e),{},{current:null,userPayments:null,loading:!1});case Pn:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});case Yn:return Object(b.a)(Object(b.a)({},e),{},{error:null});case lr:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});default:return e}},mr=function(e){var t=Object(n.useReducer)(br,{payments:null,userPayments:null,current:null,filtered:null,error:null,loading:!0}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/user/".concat(t,"/payments"));case 3:a=e.sent,i({type:gn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/payments");case 3:t=e.sent,i({type:xn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/payments/".concat(t));case 3:a=e.sent,i({type:hn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/payments/new",t,a);case 4:n=e.sent,i({type:fn,payload:n.data}),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:Pn,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(On.a)(pn.a.mark((function e(t,a){var n,r;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/user/".concat(t,"/payments"),a,n);case 4:r=e.sent,i({type:yn,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Pn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(On.a)(pn.a.mark((function e(t){return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.delete("/api/payments/".concat(t));case 3:i({type:vn,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/payments/".concat(t._id),t,a);case 4:n=e.sent,i({type:Sn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:Pn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/approve"));case 3:a=e.sent,i({type:An,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/reject"));case 3:a=e.sent,i({type:Dn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/onhold"));case 3:a=e.sent,i({type:En,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/pending"));case 3:a=e.sent,i({type:Fn,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/".concat(t,"/paid"));case 3:a=e.sent,i({type:Un,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/approve");case 3:t=e.sent,i({type:wn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/paid");case 3:t=e.sent,i({type:kn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.put("/api/payments/reject");case 3:t=e.sent,i({type:Nn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Pn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(Z.Provider,{value:{payments:r.payments,userPayments:r.userPayments,current:r.current,filtered:r.filtered,error:r.error,loading:r.loading,getPayments:s,getPayment:l,getUserPayments:c,addPayment:o,addUserPayment:j,deletePayment:b,setCurrent:function(e){i({type:rr,payload:e})},clearCurrent:function(){i({type:ir})},updatePayment:m,clearPayments:function(){i({type:Cn})},approvePayment:p,rejectPayment:O,holdPayment:x,pendingPayment:h,paidPayment:g,approveAllPayments:f,rejectAllPayments:v,paidAllPayments:y,setLoading:function(){return{type:lr}},clearErrors:function(){i({type:Yn})}},children:e.children})},pr=function(e,t){switch(t.type){case Mn:return Object(b.a)(Object(b.a)({},e),{},{stats:t.payload,loading:!1,error:null});case Wn:return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},Or=function(e){var t=Object(n.useReducer)(pr,{loading:!0,stats:null,error:null}),a=Object(u.a)(t,2),r=a[0],i=a[1],c=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/stats");case 3:t=e.sent,i({type:Mn,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:Wn,payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(f.Provider,{value:{stats:r.stats,error:r.error,loading:r.loading,getStatData:c},children:e.children})},xr=function(e,t){switch(t.type){case $n:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!0,isAdmin:"Admin"===t.payload.role,loading:!1,user:t.payload});case tr:return localStorage.setItem("token",t.payload.token),Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case Xn:case Kn:case Qn:return Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{loading:!1});case Vn:case ar:case er:case nr:return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{token:null,isAuthenticated:!1,isAdmin:null,loading:!1,user:null,error:t.payload});case Jn:return Object(b.a)(Object(b.a)({},e),{},{user:t.payload,loading:!1});case Zn:return Object(b.a)({},e);case Yn:return Object(b.a)(Object(b.a)({},e),{},{error:null});default:return e}},hr=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,isAdmin:null,loading:!0,user:null,error:null},a=Object(pe.b)(),r=a.enqueueSnackbar,i=(a.closeSnackbar,Object(n.useReducer)(xr,t)),c=Object(u.a)(i,2),s=c[0],l=c[1],o=function(){var e=Object(On.a)(pn.a.mark((function e(){var t;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&j(localStorage.token),e.prev=1,e.next=4,d.a.get("/api/auth");case 4:t=e.sent,l({type:$n,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:er,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/users/register",t,a);case 4:n=e.sent,l({type:Qn,payload:n.data}),r("New User Registered",{variant:"success"}),o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l({type:Vn,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/users/confirm-email/".concat(t),null,a);case 4:n=e.sent,l({type:Qn,payload:n.data}),r("Email address confirmed, please log in",{variant:"success"}),o(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l({type:Vn,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/users/password-reset-request/".concat(t),null,a);case 4:n=e.sent,l({type:Xn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:Zn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(On.a)(pn.a.mark((function e(t,a){var n,i;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.put("/api/users/password-reset/".concat(t),a,n);case 4:i=e.sent,l({type:Kn,payload:i.data}),r("Password reset, please login",{variant:"success"}),f(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l({type:Zn,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n,r;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/users/password-reset-request-public",t,a);case 4:return n=e.sent,r=n.data,e.next=8,p(r);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),l({type:Zn,payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/user/resend/".concat(t),null,a);case 4:n=e.sent,l({type:Jn,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l({type:Vn,payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(On.a)(pn.a.mark((function e(t){var a,n;return pn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,d.a.post("/api/auth",t,a);case 4:n=e.sent,l({type:tr,payload:n.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l({type:ar,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){l({type:nr})};return Object(C.jsx)(Ee.Provider,{value:{token:s.token,isAuthenticated:s.isAuthenticated,isAdmin:s.isAdmin,loading:s.loading,user:s.user,error:s.error,register:b,loadUser:o,login:g,logout:f,clearErrors:function(){l({type:Yn})},verifyEmail:m,resendVerifyEmail:h,passwordResetRequest:p,passwordUpdateRequest:O,passwordResetRequestPublic:x},children:e.children})};localStorage.token&&j(localStorage.token);var gr=function(){return Object(C.jsx)(pe.a,{maxSnack:10,children:Object(C.jsx)(hr,{children:Object(C.jsx)(dr,{children:Object(C.jsx)(Or,{children:Object(C.jsx)(ur,{children:Object(C.jsx)(mr,{children:Object(C.jsx)(s.a,{children:Object(C.jsxs)(n.Fragment,{children:[Object(C.jsx)(jn,{}),Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(bn,{exact:!0,path:"/",component:Ie}),Object(C.jsx)(bn,{exact:!0,path:"/userAdmin",component:ct}),Object(C.jsx)(bn,{exact:!0,path:"/import",component:Wa}),Object(C.jsx)(bn,{exact:!0,path:"/importNSP",component:$a}),Object(C.jsx)(bn,{exact:!0,path:"/payments",component:Kt}),Object(C.jsx)(bn,{exact:!0,path:"/payments/new",component:ka}),Object(C.jsx)(bn,{exact:!0,path:"/payments/:id",component:Ta}),Object(C.jsx)(bn,{exact:!0,path:"/user/:id/payments",component:_t}),Object(C.jsx)(bn,{exact:!0,path:"/user/:id",component:Nt}),Object(C.jsx)(l.b,{exact:!0,path:"/users/confirm-email/:token",component:rn}),Object(C.jsx)(l.b,{exact:!0,path:"/users/password-reset/:token",component:sn}),Object(C.jsx)(l.b,{exact:!0,path:"/about",component:Ra}),Object(C.jsx)(l.b,{exact:!0,path:"/users/register",component:tn}),Object(C.jsx)(l.b,{exact:!0,path:"/password-reset",component:on}),Object(C.jsx)(l.b,{exact:!0,path:"/login",component:nn}),Object(C.jsx)(l.a,{from:"*",to:"/"})]})})]})})})})})})})})};c.a.render(Object(C.jsx)(gr,{}),document.getElementById("root"))}},[[719,1,2]]]);
//# sourceMappingURL=main.d72d99f1.chunk.js.map